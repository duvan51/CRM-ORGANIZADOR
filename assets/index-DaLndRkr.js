(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const l of s.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function a(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=a(i);fetch(i.href,s)}})();var Ah={exports:{}},ar={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Iv=Symbol.for("react.transitional.element"),Wv=Symbol.for("react.fragment");function Oh(e,t,a){var n=null;if(a!==void 0&&(n=""+a),t.key!==void 0&&(n=""+t.key),"key"in t){a={};for(var i in t)i!=="key"&&(a[i]=t[i])}else a=t;return t=a.ref,{$$typeof:Iv,type:e,key:n,ref:t!==void 0?t:null,props:a}}ar.Fragment=Wv;ar.jsx=Oh;ar.jsxs=Oh;Ah.exports=ar;var o=Ah.exports,Ch={exports:{}},P={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xu=Symbol.for("react.transitional.element"),Pv=Symbol.for("react.portal"),Fv=Symbol.for("react.fragment"),eg=Symbol.for("react.strict_mode"),tg=Symbol.for("react.profiler"),ag=Symbol.for("react.consumer"),ng=Symbol.for("react.context"),ig=Symbol.for("react.forward_ref"),sg=Symbol.for("react.suspense"),lg=Symbol.for("react.memo"),Nh=Symbol.for("react.lazy"),rg=Symbol.for("react.activity"),Oc=Symbol.iterator;function og(e){return e===null||typeof e!="object"?null:(e=Oc&&e[Oc]||e["@@iterator"],typeof e=="function"?e:null)}var Rh={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Dh=Object.assign,Uh={};function bi(e,t,a){this.props=e,this.context=t,this.refs=Uh,this.updater=a||Rh}bi.prototype.isReactComponent={};bi.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};bi.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function kh(){}kh.prototype=bi.prototype;function ju(e,t,a){this.props=e,this.context=t,this.refs=Uh,this.updater=a||Rh}var Tu=ju.prototype=new kh;Tu.constructor=ju;Dh(Tu,bi.prototype);Tu.isPureReactComponent=!0;var Cc=Array.isArray;function yo(){}var xe={H:null,A:null,T:null,S:null},zh=Object.prototype.hasOwnProperty;function Au(e,t,a){var n=a.ref;return{$$typeof:xu,type:e,key:t,ref:n!==void 0?n:null,props:a}}function ug(e,t){return Au(e.type,t,e.props)}function Ou(e){return typeof e=="object"&&e!==null&&e.$$typeof===xu}function cg(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(a){return t[a]})}var Nc=/\/+/g;function Ar(e,t){return typeof e=="object"&&e!==null&&e.key!=null?cg(""+e.key):t.toString(36)}function dg(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch(typeof e.status=="string"?e.then(yo,yo):(e.status="pending",e.then(function(t){e.status==="pending"&&(e.status="fulfilled",e.value=t)},function(t){e.status==="pending"&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}function zn(e,t,a,n,i){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var l=!1;if(e===null)l=!0;else switch(s){case"bigint":case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case xu:case Pv:l=!0;break;case Nh:return l=e._init,zn(l(e._payload),t,a,n,i)}}if(l)return i=i(e),l=n===""?"."+Ar(e,0):n,Cc(i)?(a="",l!=null&&(a=l.replace(Nc,"$&/")+"/"),zn(i,t,a,"",function(c){return c})):i!=null&&(Ou(i)&&(i=ug(i,a+(i.key==null||e&&e.key===i.key?"":(""+i.key).replace(Nc,"$&/")+"/")+l)),t.push(i)),1;l=0;var r=n===""?".":n+":";if(Cc(e))for(var u=0;u<e.length;u++)n=e[u],s=r+Ar(n,u),l+=zn(n,t,a,s,i);else if(u=og(e),typeof u=="function")for(e=u.call(e),u=0;!(n=e.next()).done;)n=n.value,s=r+Ar(n,u++),l+=zn(n,t,a,s,i);else if(s==="object"){if(typeof e.then=="function")return zn(dg(e),t,a,n,i);throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return l}function Hs(e,t,a){if(e==null)return e;var n=[],i=0;return zn(e,n,"","",function(s){return t.call(a,s,i++)}),n}function hg(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(a){(e._status===0||e._status===-1)&&(e._status=1,e._result=a)},function(a){(e._status===0||e._status===-1)&&(e._status=2,e._result=a)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Rc=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},fg={map:Hs,forEach:function(e,t,a){Hs(e,function(){t.apply(this,arguments)},a)},count:function(e){var t=0;return Hs(e,function(){t++}),t},toArray:function(e){return Hs(e,function(t){return t})||[]},only:function(e){if(!Ou(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};P.Activity=rg;P.Children=fg;P.Component=bi;P.Fragment=Fv;P.Profiler=tg;P.PureComponent=ju;P.StrictMode=eg;P.Suspense=sg;P.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=xe;P.__COMPILER_RUNTIME={__proto__:null,c:function(e){return xe.H.useMemoCache(e)}};P.cache=function(e){return function(){return e.apply(null,arguments)}};P.cacheSignal=function(){return null};P.cloneElement=function(e,t,a){if(e==null)throw Error("The argument must be a React element, but you passed "+e+".");var n=Dh({},e.props),i=e.key;if(t!=null)for(s in t.key!==void 0&&(i=""+t.key),t)!zh.call(t,s)||s==="key"||s==="__self"||s==="__source"||s==="ref"&&t.ref===void 0||(n[s]=t[s]);var s=arguments.length-2;if(s===1)n.children=a;else if(1<s){for(var l=Array(s),r=0;r<s;r++)l[r]=arguments[r+2];n.children=l}return Au(e.type,i,n)};P.createContext=function(e){return e={$$typeof:ng,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null},e.Provider=e,e.Consumer={$$typeof:ag,_context:e},e};P.createElement=function(e,t,a){var n,i={},s=null;if(t!=null)for(n in t.key!==void 0&&(s=""+t.key),t)zh.call(t,n)&&n!=="key"&&n!=="__self"&&n!=="__source"&&(i[n]=t[n]);var l=arguments.length-2;if(l===1)i.children=a;else if(1<l){for(var r=Array(l),u=0;u<l;u++)r[u]=arguments[u+2];i.children=r}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)i[n]===void 0&&(i[n]=l[n]);return Au(e,s,i)};P.createRef=function(){return{current:null}};P.forwardRef=function(e){return{$$typeof:ig,render:e}};P.isValidElement=Ou;P.lazy=function(e){return{$$typeof:Nh,_payload:{_status:-1,_result:e},_init:hg}};P.memo=function(e,t){return{$$typeof:lg,type:e,compare:t===void 0?null:t}};P.startTransition=function(e){var t=xe.T,a={};xe.T=a;try{var n=e(),i=xe.S;i!==null&&i(a,n),typeof n=="object"&&n!==null&&typeof n.then=="function"&&n.then(yo,Rc)}catch(s){Rc(s)}finally{t!==null&&a.types!==null&&(t.types=a.types),xe.T=t}};P.unstable_useCacheRefresh=function(){return xe.H.useCacheRefresh()};P.use=function(e){return xe.H.use(e)};P.useActionState=function(e,t,a){return xe.H.useActionState(e,t,a)};P.useCallback=function(e,t){return xe.H.useCallback(e,t)};P.useContext=function(e){return xe.H.useContext(e)};P.useDebugValue=function(){};P.useDeferredValue=function(e,t){return xe.H.useDeferredValue(e,t)};P.useEffect=function(e,t){return xe.H.useEffect(e,t)};P.useEffectEvent=function(e){return xe.H.useEffectEvent(e)};P.useId=function(){return xe.H.useId()};P.useImperativeHandle=function(e,t,a){return xe.H.useImperativeHandle(e,t,a)};P.useInsertionEffect=function(e,t){return xe.H.useInsertionEffect(e,t)};P.useLayoutEffect=function(e,t){return xe.H.useLayoutEffect(e,t)};P.useMemo=function(e,t){return xe.H.useMemo(e,t)};P.useOptimistic=function(e,t){return xe.H.useOptimistic(e,t)};P.useReducer=function(e,t,a){return xe.H.useReducer(e,t,a)};P.useRef=function(e){return xe.H.useRef(e)};P.useState=function(e){return xe.H.useState(e)};P.useSyncExternalStore=function(e,t,a){return xe.H.useSyncExternalStore(e,t,a)};P.useTransition=function(){return xe.H.useTransition()};P.version="19.2.4";Ch.exports=P;var A=Ch.exports,Mh={exports:{}},nr={},qh={exports:{}},Bh={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(O,L){var Y=O.length;O.push(L);e:for(;0<Y;){var G=Y-1>>>1,W=O[G];if(0<i(W,L))O[G]=L,O[Y]=W,Y=G;else break e}}function a(O){return O.length===0?null:O[0]}function n(O){if(O.length===0)return null;var L=O[0],Y=O.pop();if(Y!==L){O[0]=Y;e:for(var G=0,W=O.length,Ke=W>>>1;G<Ke;){var oe=2*(G+1)-1,ze=O[oe],Me=oe+1,le=O[Me];if(0>i(ze,Y))Me<W&&0>i(le,ze)?(O[G]=le,O[Me]=Y,G=Me):(O[G]=ze,O[oe]=Y,G=oe);else if(Me<W&&0>i(le,Y))O[G]=le,O[Me]=Y,G=Me;else break e}}return L}function i(O,L){var Y=O.sortIndex-L.sortIndex;return Y!==0?Y:O.id-L.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var l=Date,r=l.now();e.unstable_now=function(){return l.now()-r}}var u=[],c=[],d=1,v=null,h=3,f=!1,y=!1,S=!1,w=!1,g=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;function _(O){for(var L=a(c);L!==null;){if(L.callback===null)n(c);else if(L.startTime<=O)n(c),L.sortIndex=L.expirationTime,t(u,L);else break;L=a(c)}}function T(O){if(S=!1,_(O),!y)if(a(u)!==null)y=!0,x||(x=!0,Q());else{var L=a(c);L!==null&&ye(T,L.startTime-O)}}var x=!1,j=-1,D=5,U=-1;function Z(){return w?!0:!(e.unstable_now()-U<D)}function M(){if(w=!1,x){var O=e.unstable_now();U=O;var L=!0;try{e:{y=!1,S&&(S=!1,m(j),j=-1),f=!0;var Y=h;try{t:{for(_(O),v=a(u);v!==null&&!(v.expirationTime>O&&Z());){var G=v.callback;if(typeof G=="function"){v.callback=null,h=v.priorityLevel;var W=G(v.expirationTime<=O);if(O=e.unstable_now(),typeof W=="function"){v.callback=W,_(O),L=!0;break t}v===a(u)&&n(u),_(O)}else n(u);v=a(u)}if(v!==null)L=!0;else{var Ke=a(c);Ke!==null&&ye(T,Ke.startTime-O),L=!1}}break e}finally{v=null,h=Y,f=!1}L=void 0}}finally{L?Q():x=!1}}}var Q;if(typeof p=="function")Q=function(){p(M)};else if(typeof MessageChannel<"u"){var he=new MessageChannel,Ye=he.port2;he.port1.onmessage=M,Q=function(){Ye.postMessage(null)}}else Q=function(){g(M,0)};function ye(O,L){j=g(function(){O(e.unstable_now())},L)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(O){O.callback=null},e.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<O?Math.floor(1e3/O):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_next=function(O){switch(h){case 1:case 2:case 3:var L=3;break;default:L=h}var Y=h;h=L;try{return O()}finally{h=Y}},e.unstable_requestPaint=function(){w=!0},e.unstable_runWithPriority=function(O,L){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var Y=h;h=O;try{return L()}finally{h=Y}},e.unstable_scheduleCallback=function(O,L,Y){var G=e.unstable_now();switch(typeof Y=="object"&&Y!==null?(Y=Y.delay,Y=typeof Y=="number"&&0<Y?G+Y:G):Y=G,O){case 1:var W=-1;break;case 2:W=250;break;case 5:W=1073741823;break;case 4:W=1e4;break;default:W=5e3}return W=Y+W,O={id:d++,callback:L,priorityLevel:O,startTime:Y,expirationTime:W,sortIndex:-1},Y>G?(O.sortIndex=Y,t(c,O),a(u)===null&&O===a(c)&&(S?(m(j),j=-1):S=!0,ye(T,Y-G))):(O.sortIndex=W,t(u,O),y||f||(y=!0,x||(x=!0,Q()))),O},e.unstable_shouldYield=Z,e.unstable_wrapCallback=function(O){var L=h;return function(){var Y=h;h=L;try{return O.apply(this,arguments)}finally{h=Y}}}})(Bh);qh.exports=Bh;var mg=qh.exports,Lh={exports:{}},ut={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vg=A;function Hh(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)t+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function Ea(){}var ot={d:{f:Ea,r:function(){throw Error(Hh(522))},D:Ea,C:Ea,L:Ea,m:Ea,X:Ea,S:Ea,M:Ea},p:0,findDOMNode:null},gg=Symbol.for("react.portal");function pg(e,t,a){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:gg,key:n==null?null:""+n,children:e,containerInfo:t,implementation:a}}var Vi=vg.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function ir(e,t){if(e==="font")return"";if(typeof t=="string")return t==="use-credentials"?t:""}ut.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ot;ut.createPortal=function(e,t){var a=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)throw Error(Hh(299));return pg(e,t,null,a)};ut.flushSync=function(e){var t=Vi.T,a=ot.p;try{if(Vi.T=null,ot.p=2,e)return e()}finally{Vi.T=t,ot.p=a,ot.d.f()}};ut.preconnect=function(e,t){typeof e=="string"&&(t?(t=t.crossOrigin,t=typeof t=="string"?t==="use-credentials"?t:"":void 0):t=null,ot.d.C(e,t))};ut.prefetchDNS=function(e){typeof e=="string"&&ot.d.D(e)};ut.preinit=function(e,t){if(typeof e=="string"&&t&&typeof t.as=="string"){var a=t.as,n=ir(a,t.crossOrigin),i=typeof t.integrity=="string"?t.integrity:void 0,s=typeof t.fetchPriority=="string"?t.fetchPriority:void 0;a==="style"?ot.d.S(e,typeof t.precedence=="string"?t.precedence:void 0,{crossOrigin:n,integrity:i,fetchPriority:s}):a==="script"&&ot.d.X(e,{crossOrigin:n,integrity:i,fetchPriority:s,nonce:typeof t.nonce=="string"?t.nonce:void 0})}};ut.preinitModule=function(e,t){if(typeof e=="string")if(typeof t=="object"&&t!==null){if(t.as==null||t.as==="script"){var a=ir(t.as,t.crossOrigin);ot.d.M(e,{crossOrigin:a,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0})}}else t==null&&ot.d.M(e)};ut.preload=function(e,t){if(typeof e=="string"&&typeof t=="object"&&t!==null&&typeof t.as=="string"){var a=t.as,n=ir(a,t.crossOrigin);ot.d.L(e,a,{crossOrigin:n,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0,type:typeof t.type=="string"?t.type:void 0,fetchPriority:typeof t.fetchPriority=="string"?t.fetchPriority:void 0,referrerPolicy:typeof t.referrerPolicy=="string"?t.referrerPolicy:void 0,imageSrcSet:typeof t.imageSrcSet=="string"?t.imageSrcSet:void 0,imageSizes:typeof t.imageSizes=="string"?t.imageSizes:void 0,media:typeof t.media=="string"?t.media:void 0})}};ut.preloadModule=function(e,t){if(typeof e=="string")if(t){var a=ir(t.as,t.crossOrigin);ot.d.m(e,{as:typeof t.as=="string"&&t.as!=="script"?t.as:void 0,crossOrigin:a,integrity:typeof t.integrity=="string"?t.integrity:void 0})}else ot.d.m(e)};ut.requestFormReset=function(e){ot.d.r(e)};ut.unstable_batchedUpdates=function(e,t){return e(t)};ut.useFormState=function(e,t,a){return Vi.H.useFormState(e,t,a)};ut.useFormStatus=function(){return Vi.H.useHostTransitionStatus()};ut.version="19.2.4";function $h(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE($h)}catch(e){console.error(e)}}$h(),Lh.exports=ut;var yg=Lh.exports;/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Je=mg,Gh=A,bg=yg;function E(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)t+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function Vh(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Ts(e){var t=e,a=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(a=t.return),e=t.return;while(e)}return t.tag===3?a:null}function Yh(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Kh(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Dc(e){if(Ts(e)!==e)throw Error(E(188))}function _g(e){var t=e.alternate;if(!t){if(t=Ts(e),t===null)throw Error(E(188));return t!==e?null:e}for(var a=e,n=t;;){var i=a.return;if(i===null)break;var s=i.alternate;if(s===null){if(n=i.return,n!==null){a=n;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===a)return Dc(i),e;if(s===n)return Dc(i),t;s=s.sibling}throw Error(E(188))}if(a.return!==n.return)a=i,n=s;else{for(var l=!1,r=i.child;r;){if(r===a){l=!0,a=i,n=s;break}if(r===n){l=!0,n=i,a=s;break}r=r.sibling}if(!l){for(r=s.child;r;){if(r===a){l=!0,a=s,n=i;break}if(r===n){l=!0,n=s,a=i;break}r=r.sibling}if(!l)throw Error(E(189))}}if(a.alternate!==n)throw Error(E(190))}if(a.tag!==3)throw Error(E(188));return a.stateNode.current===a?e:t}function Qh(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=Qh(e),t!==null)return t;e=e.sibling}return null}var je=Object.assign,Sg=Symbol.for("react.element"),$s=Symbol.for("react.transitional.element"),qi=Symbol.for("react.portal"),$n=Symbol.for("react.fragment"),Xh=Symbol.for("react.strict_mode"),bo=Symbol.for("react.profiler"),Jh=Symbol.for("react.consumer"),ua=Symbol.for("react.context"),Cu=Symbol.for("react.forward_ref"),_o=Symbol.for("react.suspense"),So=Symbol.for("react.suspense_list"),Nu=Symbol.for("react.memo"),xa=Symbol.for("react.lazy"),wo=Symbol.for("react.activity"),wg=Symbol.for("react.memo_cache_sentinel"),Uc=Symbol.iterator;function Ci(e){return e===null||typeof e!="object"?null:(e=Uc&&e[Uc]||e["@@iterator"],typeof e=="function"?e:null)}var Eg=Symbol.for("react.client.reference");function Eo(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===Eg?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case $n:return"Fragment";case bo:return"Profiler";case Xh:return"StrictMode";case _o:return"Suspense";case So:return"SuspenseList";case wo:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case qi:return"Portal";case ua:return e.displayName||"Context";case Jh:return(e._context.displayName||"Context")+".Consumer";case Cu:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Nu:return t=e.displayName||null,t!==null?t:Eo(e.type)||"Memo";case xa:t=e._payload,e=e._init;try{return Eo(e(t))}catch{}}return null}var Bi=Array.isArray,J=Gh.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,de=bg.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,dn={pending:!1,data:null,method:null,action:null},xo=[],Gn=-1;function Pt(e){return{current:e}}function We(e){0>Gn||(e.current=xo[Gn],xo[Gn]=null,Gn--)}function Se(e,t){Gn++,xo[Gn]=e.current,e.current=t}var Wt=Pt(null),ss=Pt(null),qa=Pt(null),xl=Pt(null);function jl(e,t){switch(Se(qa,t),Se(ss,e),Se(Wt,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?Ld(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=Ld(t),e=vv(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}We(Wt),Se(Wt,e)}function oi(){We(Wt),We(ss),We(qa)}function jo(e){e.memoizedState!==null&&Se(xl,e);var t=Wt.current,a=vv(t,e.type);t!==a&&(Se(ss,e),Se(Wt,a))}function Tl(e){ss.current===e&&(We(Wt),We(ss)),xl.current===e&&(We(xl),gs._currentValue=dn)}var Or,kc;function an(e){if(Or===void 0)try{throw Error()}catch(a){var t=a.stack.trim().match(/\n( *(at )?)/);Or=t&&t[1]||"",kc=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Or+e+kc}var Cr=!1;function Nr(e,t){if(!e||Cr)return"";Cr=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var n={DetermineComponentFrameRoot:function(){try{if(t){var v=function(){throw Error()};if(Object.defineProperty(v.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(v,[])}catch(f){var h=f}Reflect.construct(e,[],v)}else{try{v.call()}catch(f){h=f}e.call(v.prototype)}}else{try{throw Error()}catch(f){h=f}(v=e())&&typeof v.catch=="function"&&v.catch(function(){})}}catch(f){if(f&&h&&typeof f.stack=="string")return[f.stack,h.stack]}return[null,null]}};n.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var i=Object.getOwnPropertyDescriptor(n.DetermineComponentFrameRoot,"name");i&&i.configurable&&Object.defineProperty(n.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var s=n.DetermineComponentFrameRoot(),l=s[0],r=s[1];if(l&&r){var u=l.split(`
`),c=r.split(`
`);for(i=n=0;n<u.length&&!u[n].includes("DetermineComponentFrameRoot");)n++;for(;i<c.length&&!c[i].includes("DetermineComponentFrameRoot");)i++;if(n===u.length||i===c.length)for(n=u.length-1,i=c.length-1;1<=n&&0<=i&&u[n]!==c[i];)i--;for(;1<=n&&0<=i;n--,i--)if(u[n]!==c[i]){if(n!==1||i!==1)do if(n--,i--,0>i||u[n]!==c[i]){var d=`
`+u[n].replace(" at new "," at ");return e.displayName&&d.includes("<anonymous>")&&(d=d.replace("<anonymous>",e.displayName)),d}while(1<=n&&0<=i);break}}}finally{Cr=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?an(a):""}function xg(e,t){switch(e.tag){case 26:case 27:case 5:return an(e.type);case 16:return an("Lazy");case 13:return e.child!==t&&t!==null?an("Suspense Fallback"):an("Suspense");case 19:return an("SuspenseList");case 0:case 15:return Nr(e.type,!1);case 11:return Nr(e.type.render,!1);case 1:return Nr(e.type,!0);case 31:return an("Activity");default:return""}}function zc(e){try{var t="",a=null;do t+=xg(e,a),a=e,e=e.return;while(e);return t}catch(n){return`
Error generating stack: `+n.message+`
`+n.stack}}var To=Object.prototype.hasOwnProperty,Ru=Je.unstable_scheduleCallback,Rr=Je.unstable_cancelCallback,jg=Je.unstable_shouldYield,Tg=Je.unstable_requestPaint,xt=Je.unstable_now,Ag=Je.unstable_getCurrentPriorityLevel,Zh=Je.unstable_ImmediatePriority,Ih=Je.unstable_UserBlockingPriority,Al=Je.unstable_NormalPriority,Og=Je.unstable_LowPriority,Wh=Je.unstable_IdlePriority,Cg=Je.log,Ng=Je.unstable_setDisableYieldValue,As=null,jt=null;function Da(e){if(typeof Cg=="function"&&Ng(e),jt&&typeof jt.setStrictMode=="function")try{jt.setStrictMode(As,e)}catch{}}var Tt=Math.clz32?Math.clz32:Ug,Rg=Math.log,Dg=Math.LN2;function Ug(e){return e>>>=0,e===0?32:31-(Rg(e)/Dg|0)|0}var Gs=256,Vs=262144,Ys=4194304;function nn(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function sr(e,t,a){var n=e.pendingLanes;if(n===0)return 0;var i=0,s=e.suspendedLanes,l=e.pingedLanes;e=e.warmLanes;var r=n&134217727;return r!==0?(n=r&~s,n!==0?i=nn(n):(l&=r,l!==0?i=nn(l):a||(a=r&~e,a!==0&&(i=nn(a))))):(r=n&~s,r!==0?i=nn(r):l!==0?i=nn(l):a||(a=n&~e,a!==0&&(i=nn(a)))),i===0?0:t!==0&&t!==i&&!(t&s)&&(s=i&-i,a=t&-t,s>=a||s===32&&(a&4194048)!==0)?t:i}function Os(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function kg(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ph(){var e=Ys;return Ys<<=1,!(Ys&62914560)&&(Ys=4194304),e}function Dr(e){for(var t=[],a=0;31>a;a++)t.push(e);return t}function Cs(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function zg(e,t,a,n,i,s){var l=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var r=e.entanglements,u=e.expirationTimes,c=e.hiddenUpdates;for(a=l&~a;0<a;){var d=31-Tt(a),v=1<<d;r[d]=0,u[d]=-1;var h=c[d];if(h!==null)for(c[d]=null,d=0;d<h.length;d++){var f=h[d];f!==null&&(f.lane&=-536870913)}a&=~v}n!==0&&Fh(e,n,0),s!==0&&i===0&&e.tag!==0&&(e.suspendedLanes|=s&~(l&~t))}function Fh(e,t,a){e.pendingLanes|=t,e.suspendedLanes&=~t;var n=31-Tt(t);e.entangledLanes|=t,e.entanglements[n]=e.entanglements[n]|1073741824|a&261930}function ef(e,t){var a=e.entangledLanes|=t;for(e=e.entanglements;a;){var n=31-Tt(a),i=1<<n;i&t|e[n]&t&&(e[n]|=t),a&=~i}}function tf(e,t){var a=t&-t;return a=a&42?1:Du(a),a&(e.suspendedLanes|t)?0:a}function Du(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Uu(e){return e&=-e,2<e?8<e?e&134217727?32:268435456:8:2}function af(){var e=de.p;return e!==0?e:(e=window.event,e===void 0?32:Tv(e.type))}function Mc(e,t){var a=de.p;try{return de.p=e,t()}finally{de.p=a}}var Ia=Math.random().toString(36).slice(2),at="__reactFiber$"+Ia,vt="__reactProps$"+Ia,_i="__reactContainer$"+Ia,Ao="__reactEvents$"+Ia,Mg="__reactListeners$"+Ia,qg="__reactHandles$"+Ia,qc="__reactResources$"+Ia,Ns="__reactMarker$"+Ia;function ku(e){delete e[at],delete e[vt],delete e[Ao],delete e[Mg],delete e[qg]}function Vn(e){var t=e[at];if(t)return t;for(var a=e.parentNode;a;){if(t=a[_i]||a[at]){if(a=t.alternate,t.child!==null||a!==null&&a.child!==null)for(e=Yd(e);e!==null;){if(a=e[at])return a;e=Yd(e)}return t}e=a,a=e.parentNode}return null}function Si(e){if(e=e[at]||e[_i]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function Li(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(E(33))}function ei(e){var t=e[qc];return t||(t=e[qc]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function Ie(e){e[Ns]=!0}var nf=new Set,sf={};function Sn(e,t){ui(e,t),ui(e+"Capture",t)}function ui(e,t){for(sf[e]=t,e=0;e<t.length;e++)nf.add(t[e])}var Bg=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Bc={},Lc={};function Lg(e){return To.call(Lc,e)?!0:To.call(Bc,e)?!1:Bg.test(e)?Lc[e]=!0:(Bc[e]=!0,!1)}function ul(e,t,a){if(Lg(t))if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var n=t.toLowerCase().slice(0,5);if(n!=="data-"&&n!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+a)}}function Ks(e,t,a){if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+a)}}function ta(e,t,a,n){if(n===null)e.removeAttribute(a);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(t,a,""+n)}}function Rt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function lf(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Hg(e,t,a){var n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(l){a=""+l,s.call(this,l)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return a},setValue:function(l){a=""+l},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Oo(e){if(!e._valueTracker){var t=lf(e)?"checked":"value";e._valueTracker=Hg(e,t,""+e[t])}}function rf(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var a=t.getValue(),n="";return e&&(n=lf(e)?e.checked?"true":"false":e.value),e=n,e!==a?(t.setValue(e),!0):!1}function Ol(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var $g=/[\n"\\]/g;function kt(e){return e.replace($g,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function Co(e,t,a,n,i,s,l,r){e.name="",l!=null&&typeof l!="function"&&typeof l!="symbol"&&typeof l!="boolean"?e.type=l:e.removeAttribute("type"),t!=null?l==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+Rt(t)):e.value!==""+Rt(t)&&(e.value=""+Rt(t)):l!=="submit"&&l!=="reset"||e.removeAttribute("value"),t!=null?No(e,l,Rt(t)):a!=null?No(e,l,Rt(a)):n!=null&&e.removeAttribute("value"),i==null&&s!=null&&(e.defaultChecked=!!s),i!=null&&(e.checked=i&&typeof i!="function"&&typeof i!="symbol"),r!=null&&typeof r!="function"&&typeof r!="symbol"&&typeof r!="boolean"?e.name=""+Rt(r):e.removeAttribute("name")}function of(e,t,a,n,i,s,l,r){if(s!=null&&typeof s!="function"&&typeof s!="symbol"&&typeof s!="boolean"&&(e.type=s),t!=null||a!=null){if(!(s!=="submit"&&s!=="reset"||t!=null)){Oo(e);return}a=a!=null?""+Rt(a):"",t=t!=null?""+Rt(t):a,r||t===e.value||(e.value=t),e.defaultValue=t}n=n??i,n=typeof n!="function"&&typeof n!="symbol"&&!!n,e.checked=r?e.checked:!!n,e.defaultChecked=!!n,l!=null&&typeof l!="function"&&typeof l!="symbol"&&typeof l!="boolean"&&(e.name=l),Oo(e)}function No(e,t,a){t==="number"&&Ol(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function ti(e,t,a,n){if(e=e.options,t){t={};for(var i=0;i<a.length;i++)t["$"+a[i]]=!0;for(a=0;a<e.length;a++)i=t.hasOwnProperty("$"+e[a].value),e[a].selected!==i&&(e[a].selected=i),i&&n&&(e[a].defaultSelected=!0)}else{for(a=""+Rt(a),t=null,i=0;i<e.length;i++){if(e[i].value===a){e[i].selected=!0,n&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function uf(e,t,a){if(t!=null&&(t=""+Rt(t),t!==e.value&&(e.value=t),a==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=a!=null?""+Rt(a):""}function cf(e,t,a,n){if(t==null){if(n!=null){if(a!=null)throw Error(E(92));if(Bi(n)){if(1<n.length)throw Error(E(93));n=n[0]}a=n}a==null&&(a=""),t=a}a=Rt(t),e.defaultValue=a,n=e.textContent,n===a&&n!==""&&n!==null&&(e.value=n),Oo(e)}function ci(e,t){if(t){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=t;return}}e.textContent=t}var Gg=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Hc(e,t,a){var n=t.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?n?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":n?e.setProperty(t,a):typeof a!="number"||a===0||Gg.has(t)?t==="float"?e.cssFloat=a:e[t]=(""+a).trim():e[t]=a+"px"}function df(e,t,a){if(t!=null&&typeof t!="object")throw Error(E(62));if(e=e.style,a!=null){for(var n in a)!a.hasOwnProperty(n)||t!=null&&t.hasOwnProperty(n)||(n.indexOf("--")===0?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="");for(var i in t)n=t[i],t.hasOwnProperty(i)&&a[i]!==n&&Hc(e,i,n)}else for(var s in t)t.hasOwnProperty(s)&&Hc(e,s,t[s])}function zu(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Vg=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Yg=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function cl(e){return Yg.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function ca(){}var Ro=null;function Mu(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Yn=null,ai=null;function $c(e){var t=Si(e);if(t&&(e=t.stateNode)){var a=e[vt]||null;e:switch(e=t.stateNode,t.type){case"input":if(Co(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),t=a.name,a.type==="radio"&&t!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+kt(""+t)+'"][type="radio"]'),t=0;t<a.length;t++){var n=a[t];if(n!==e&&n.form===e.form){var i=n[vt]||null;if(!i)throw Error(E(90));Co(n,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name)}}for(t=0;t<a.length;t++)n=a[t],n.form===e.form&&rf(n)}break e;case"textarea":uf(e,a.value,a.defaultValue);break e;case"select":t=a.value,t!=null&&ti(e,!!a.multiple,t,!1)}}}var Ur=!1;function hf(e,t,a){if(Ur)return e(t,a);Ur=!0;try{var n=e(t);return n}finally{if(Ur=!1,(Yn!==null||ai!==null)&&(pr(),Yn&&(t=Yn,e=ai,ai=Yn=null,$c(t),e)))for(t=0;t<e.length;t++)$c(e[t])}}function ls(e,t){var a=e.stateNode;if(a===null)return null;var n=a[vt]||null;if(n===null)return null;a=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(E(231,t,typeof a));return a}var va=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Do=!1;if(va)try{var Ni={};Object.defineProperty(Ni,"passive",{get:function(){Do=!0}}),window.addEventListener("test",Ni,Ni),window.removeEventListener("test",Ni,Ni)}catch{Do=!1}var Ua=null,qu=null,dl=null;function ff(){if(dl)return dl;var e,t=qu,a=t.length,n,i="value"in Ua?Ua.value:Ua.textContent,s=i.length;for(e=0;e<a&&t[e]===i[e];e++);var l=a-e;for(n=1;n<=l&&t[a-n]===i[s-n];n++);return dl=i.slice(e,1<n?1-n:void 0)}function hl(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Qs(){return!0}function Gc(){return!1}function gt(e){function t(a,n,i,s,l){this._reactName=a,this._targetInst=i,this.type=n,this.nativeEvent=s,this.target=l,this.currentTarget=null;for(var r in e)e.hasOwnProperty(r)&&(a=e[r],this[r]=a?a(s):s[r]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Qs:Gc,this.isPropagationStopped=Gc,this}return je(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Qs)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Qs)},persist:function(){},isPersistent:Qs}),t}var wn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},lr=gt(wn),Rs=je({},wn,{view:0,detail:0}),Kg=gt(Rs),kr,zr,Ri,rr=je({},Rs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Bu,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ri&&(Ri&&e.type==="mousemove"?(kr=e.screenX-Ri.screenX,zr=e.screenY-Ri.screenY):zr=kr=0,Ri=e),kr)},movementY:function(e){return"movementY"in e?e.movementY:zr}}),Vc=gt(rr),Qg=je({},rr,{dataTransfer:0}),Xg=gt(Qg),Jg=je({},Rs,{relatedTarget:0}),Mr=gt(Jg),Zg=je({},wn,{animationName:0,elapsedTime:0,pseudoElement:0}),Ig=gt(Zg),Wg=je({},wn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Pg=gt(Wg),Fg=je({},wn,{data:0}),Yc=gt(Fg),ep={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},tp={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ap={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function np(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=ap[e])?!!t[e]:!1}function Bu(){return np}var ip=je({},Rs,{key:function(e){if(e.key){var t=ep[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=hl(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?tp[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Bu,charCode:function(e){return e.type==="keypress"?hl(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?hl(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),sp=gt(ip),lp=je({},rr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Kc=gt(lp),rp=je({},Rs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Bu}),op=gt(rp),up=je({},wn,{propertyName:0,elapsedTime:0,pseudoElement:0}),cp=gt(up),dp=je({},rr,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),hp=gt(dp),fp=je({},wn,{newState:0,oldState:0}),mp=gt(fp),vp=[9,13,27,32],Lu=va&&"CompositionEvent"in window,Yi=null;va&&"documentMode"in document&&(Yi=document.documentMode);var gp=va&&"TextEvent"in window&&!Yi,mf=va&&(!Lu||Yi&&8<Yi&&11>=Yi),Qc=" ",Xc=!1;function vf(e,t){switch(e){case"keyup":return vp.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function gf(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Kn=!1;function pp(e,t){switch(e){case"compositionend":return gf(t);case"keypress":return t.which!==32?null:(Xc=!0,Qc);case"textInput":return e=t.data,e===Qc&&Xc?null:e;default:return null}}function yp(e,t){if(Kn)return e==="compositionend"||!Lu&&vf(e,t)?(e=ff(),dl=qu=Ua=null,Kn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return mf&&t.locale!=="ko"?null:t.data;default:return null}}var bp={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Jc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!bp[e.type]:t==="textarea"}function pf(e,t,a,n){Yn?ai?ai.push(n):ai=[n]:Yn=n,t=Ql(t,"onChange"),0<t.length&&(a=new lr("onChange","change",null,a,n),e.push({event:a,listeners:t}))}var Ki=null,rs=null;function _p(e){hv(e,0)}function or(e){var t=Li(e);if(rf(t))return e}function Zc(e,t){if(e==="change")return t}var yf=!1;if(va){var qr;if(va){var Br="oninput"in document;if(!Br){var Ic=document.createElement("div");Ic.setAttribute("oninput","return;"),Br=typeof Ic.oninput=="function"}qr=Br}else qr=!1;yf=qr&&(!document.documentMode||9<document.documentMode)}function Wc(){Ki&&(Ki.detachEvent("onpropertychange",bf),rs=Ki=null)}function bf(e){if(e.propertyName==="value"&&or(rs)){var t=[];pf(t,rs,e,Mu(e)),hf(_p,t)}}function Sp(e,t,a){e==="focusin"?(Wc(),Ki=t,rs=a,Ki.attachEvent("onpropertychange",bf)):e==="focusout"&&Wc()}function wp(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return or(rs)}function Ep(e,t){if(e==="click")return or(t)}function xp(e,t){if(e==="input"||e==="change")return or(t)}function jp(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Ot=typeof Object.is=="function"?Object.is:jp;function os(e,t){if(Ot(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var a=Object.keys(e),n=Object.keys(t);if(a.length!==n.length)return!1;for(n=0;n<a.length;n++){var i=a[n];if(!To.call(t,i)||!Ot(e[i],t[i]))return!1}return!0}function Pc(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Fc(e,t){var a=Pc(e);e=0;for(var n;a;){if(a.nodeType===3){if(n=e+a.textContent.length,e<=t&&n>=t)return{node:a,offset:t-e};e=n}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Pc(a)}}function _f(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?_f(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Sf(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=Ol(e.document);t instanceof e.HTMLIFrameElement;){try{var a=typeof t.contentWindow.location.href=="string"}catch{a=!1}if(a)e=t.contentWindow;else break;t=Ol(e.document)}return t}function Hu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var Tp=va&&"documentMode"in document&&11>=document.documentMode,Qn=null,Uo=null,Qi=null,ko=!1;function ed(e,t,a){var n=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;ko||Qn==null||Qn!==Ol(n)||(n=Qn,"selectionStart"in n&&Hu(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Qi&&os(Qi,n)||(Qi=n,n=Ql(Uo,"onSelect"),0<n.length&&(t=new lr("onSelect","select",null,t,a),e.push({event:t,listeners:n}),t.target=Qn)))}function Fa(e,t){var a={};return a[e.toLowerCase()]=t.toLowerCase(),a["Webkit"+e]="webkit"+t,a["Moz"+e]="moz"+t,a}var Xn={animationend:Fa("Animation","AnimationEnd"),animationiteration:Fa("Animation","AnimationIteration"),animationstart:Fa("Animation","AnimationStart"),transitionrun:Fa("Transition","TransitionRun"),transitionstart:Fa("Transition","TransitionStart"),transitioncancel:Fa("Transition","TransitionCancel"),transitionend:Fa("Transition","TransitionEnd")},Lr={},wf={};va&&(wf=document.createElement("div").style,"AnimationEvent"in window||(delete Xn.animationend.animation,delete Xn.animationiteration.animation,delete Xn.animationstart.animation),"TransitionEvent"in window||delete Xn.transitionend.transition);function En(e){if(Lr[e])return Lr[e];if(!Xn[e])return e;var t=Xn[e],a;for(a in t)if(t.hasOwnProperty(a)&&a in wf)return Lr[e]=t[a];return e}var Ef=En("animationend"),xf=En("animationiteration"),jf=En("animationstart"),Ap=En("transitionrun"),Op=En("transitionstart"),Cp=En("transitioncancel"),Tf=En("transitionend"),Af=new Map,zo="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");zo.push("scrollEnd");function Qt(e,t){Af.set(e,t),Sn(t,[e])}var Cl=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Nt=[],Jn=0,$u=0;function ur(){for(var e=Jn,t=$u=Jn=0;t<e;){var a=Nt[t];Nt[t++]=null;var n=Nt[t];Nt[t++]=null;var i=Nt[t];Nt[t++]=null;var s=Nt[t];if(Nt[t++]=null,n!==null&&i!==null){var l=n.pending;l===null?i.next=i:(i.next=l.next,l.next=i),n.pending=i}s!==0&&Of(a,i,s)}}function cr(e,t,a,n){Nt[Jn++]=e,Nt[Jn++]=t,Nt[Jn++]=a,Nt[Jn++]=n,$u|=n,e.lanes|=n,e=e.alternate,e!==null&&(e.lanes|=n)}function Gu(e,t,a,n){return cr(e,t,a,n),Nl(e)}function xn(e,t){return cr(e,null,null,t),Nl(e)}function Of(e,t,a){e.lanes|=a;var n=e.alternate;n!==null&&(n.lanes|=a);for(var i=!1,s=e.return;s!==null;)s.childLanes|=a,n=s.alternate,n!==null&&(n.childLanes|=a),s.tag===22&&(e=s.stateNode,e===null||e._visibility&1||(i=!0)),e=s,s=s.return;return e.tag===3?(s=e.stateNode,i&&t!==null&&(i=31-Tt(a),e=s.hiddenUpdates,n=e[i],n===null?e[i]=[t]:n.push(t),t.lane=a|536870912),s):null}function Nl(e){if(50<ts)throw ts=0,au=null,Error(E(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var Zn={};function Np(e,t,a,n){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function St(e,t,a,n){return new Np(e,t,a,n)}function Vu(e){return e=e.prototype,!(!e||!e.isReactComponent)}function ha(e,t){var a=e.alternate;return a===null?(a=St(e.tag,t,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=t,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,t=e.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function Cf(e,t){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,t=a.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function fl(e,t,a,n,i,s){var l=0;if(n=e,typeof e=="function")Vu(e)&&(l=1);else if(typeof e=="string")l=zy(e,a,Wt.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case wo:return e=St(31,a,t,i),e.elementType=wo,e.lanes=s,e;case $n:return hn(a.children,i,s,t);case Xh:l=8,i|=24;break;case bo:return e=St(12,a,t,i|2),e.elementType=bo,e.lanes=s,e;case _o:return e=St(13,a,t,i),e.elementType=_o,e.lanes=s,e;case So:return e=St(19,a,t,i),e.elementType=So,e.lanes=s,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case ua:l=10;break e;case Jh:l=9;break e;case Cu:l=11;break e;case Nu:l=14;break e;case xa:l=16,n=null;break e}l=29,a=Error(E(130,e===null?"null":typeof e,"")),n=null}return t=St(l,a,t,i),t.elementType=e,t.type=n,t.lanes=s,t}function hn(e,t,a,n){return e=St(7,e,n,t),e.lanes=a,e}function Hr(e,t,a){return e=St(6,e,null,t),e.lanes=a,e}function Nf(e){var t=St(18,null,null,0);return t.stateNode=e,t}function $r(e,t,a){return t=St(4,e.children!==null?e.children:[],e.key,t),t.lanes=a,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var td=new WeakMap;function zt(e,t){if(typeof e=="object"&&e!==null){var a=td.get(e);return a!==void 0?a:(t={value:e,source:t,stack:zc(t)},td.set(e,t),t)}return{value:e,source:t,stack:zc(t)}}var In=[],Wn=0,Rl=null,us=0,Dt=[],Ut=0,Qa=null,Jt=1,Zt="";function ra(e,t){In[Wn++]=us,In[Wn++]=Rl,Rl=e,us=t}function Rf(e,t,a){Dt[Ut++]=Jt,Dt[Ut++]=Zt,Dt[Ut++]=Qa,Qa=e;var n=Jt;e=Zt;var i=32-Tt(n)-1;n&=~(1<<i),a+=1;var s=32-Tt(t)+i;if(30<s){var l=i-i%5;s=(n&(1<<l)-1).toString(32),n>>=l,i-=l,Jt=1<<32-Tt(t)+i|a<<i|n,Zt=s+e}else Jt=1<<s|a<<i|n,Zt=e}function Yu(e){e.return!==null&&(ra(e,1),Rf(e,1,0))}function Ku(e){for(;e===Rl;)Rl=In[--Wn],In[Wn]=null,us=In[--Wn],In[Wn]=null;for(;e===Qa;)Qa=Dt[--Ut],Dt[Ut]=null,Zt=Dt[--Ut],Dt[Ut]=null,Jt=Dt[--Ut],Dt[Ut]=null}function Df(e,t){Dt[Ut++]=Jt,Dt[Ut++]=Zt,Dt[Ut++]=Qa,Jt=t.id,Zt=t.overflow,Qa=e}var nt=null,Ee=null,se=!1,Ba=null,Mt=!1,Mo=Error(E(519));function Xa(e){var t=Error(E(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw cs(zt(t,e)),Mo}function ad(e){var t=e.stateNode,a=e.type,n=e.memoizedProps;switch(t[at]=e,t[vt]=n,a){case"dialog":te("cancel",t),te("close",t);break;case"iframe":case"object":case"embed":te("load",t);break;case"video":case"audio":for(a=0;a<ms.length;a++)te(ms[a],t);break;case"source":te("error",t);break;case"img":case"image":case"link":te("error",t),te("load",t);break;case"details":te("toggle",t);break;case"input":te("invalid",t),of(t,n.value,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name,!0);break;case"select":te("invalid",t);break;case"textarea":te("invalid",t),cf(t,n.value,n.defaultValue,n.children)}a=n.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||t.textContent===""+a||n.suppressHydrationWarning===!0||mv(t.textContent,a)?(n.popover!=null&&(te("beforetoggle",t),te("toggle",t)),n.onScroll!=null&&te("scroll",t),n.onScrollEnd!=null&&te("scrollend",t),n.onClick!=null&&(t.onclick=ca),t=!0):t=!1,t||Xa(e,!0)}function nd(e){for(nt=e.return;nt;)switch(nt.tag){case 5:case 31:case 13:Mt=!1;return;case 27:case 3:Mt=!0;return;default:nt=nt.return}}function An(e){if(e!==nt)return!1;if(!se)return nd(e),se=!0,!1;var t=e.tag,a;if((a=t!==3&&t!==27)&&((a=t===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||ru(e.type,e.memoizedProps)),a=!a),a&&Ee&&Xa(e),nd(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(E(317));Ee=Vd(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(E(317));Ee=Vd(e)}else t===27?(t=Ee,Wa(e.type)?(e=du,du=null,Ee=e):Ee=t):Ee=nt?Bt(e.stateNode.nextSibling):null;return!0}function gn(){Ee=nt=null,se=!1}function Gr(){var e=Ba;return e!==null&&(ft===null?ft=e:ft.push.apply(ft,e),Ba=null),e}function cs(e){Ba===null?Ba=[e]:Ba.push(e)}var qo=Pt(null),jn=null,da=null;function Aa(e,t,a){Se(qo,t._currentValue),t._currentValue=a}function fa(e){e._currentValue=qo.current,We(qo)}function Bo(e,t,a){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===a)break;e=e.return}}function Lo(e,t,a,n){var i=e.child;for(i!==null&&(i.return=e);i!==null;){var s=i.dependencies;if(s!==null){var l=i.child;s=s.firstContext;e:for(;s!==null;){var r=s;s=i;for(var u=0;u<t.length;u++)if(r.context===t[u]){s.lanes|=a,r=s.alternate,r!==null&&(r.lanes|=a),Bo(s.return,a,e),n||(l=null);break e}s=r.next}}else if(i.tag===18){if(l=i.return,l===null)throw Error(E(341));l.lanes|=a,s=l.alternate,s!==null&&(s.lanes|=a),Bo(l,a,e),l=null}else l=i.child;if(l!==null)l.return=i;else for(l=i;l!==null;){if(l===e){l=null;break}if(i=l.sibling,i!==null){i.return=l.return,l=i;break}l=l.return}i=l}}function wi(e,t,a,n){e=null;for(var i=t,s=!1;i!==null;){if(!s){if(i.flags&524288)s=!0;else if(i.flags&262144)break}if(i.tag===10){var l=i.alternate;if(l===null)throw Error(E(387));if(l=l.memoizedProps,l!==null){var r=i.type;Ot(i.pendingProps.value,l.value)||(e!==null?e.push(r):e=[r])}}else if(i===xl.current){if(l=i.alternate,l===null)throw Error(E(387));l.memoizedState.memoizedState!==i.memoizedState.memoizedState&&(e!==null?e.push(gs):e=[gs])}i=i.return}e!==null&&Lo(t,e,a,n),t.flags|=262144}function Dl(e){for(e=e.firstContext;e!==null;){if(!Ot(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function pn(e){jn=e,da=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function it(e){return Uf(jn,e)}function Xs(e,t){return jn===null&&pn(e),Uf(e,t)}function Uf(e,t){var a=t._currentValue;if(t={context:t,memoizedValue:a,next:null},da===null){if(e===null)throw Error(E(308));da=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else da=da.next=t;return a}var Rp=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(a,n){e.push(n)}};this.abort=function(){t.aborted=!0,e.forEach(function(a){return a()})}},Dp=Je.unstable_scheduleCallback,Up=Je.unstable_NormalPriority,Ge={$$typeof:ua,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Qu(){return{controller:new Rp,data:new Map,refCount:0}}function Ds(e){e.refCount--,e.refCount===0&&Dp(Up,function(){e.controller.abort()})}var Xi=null,Ho=0,di=0,ni=null;function kp(e,t){if(Xi===null){var a=Xi=[];Ho=0,di=pc(),ni={status:"pending",value:void 0,then:function(n){a.push(n)}}}return Ho++,t.then(id,id),t}function id(){if(--Ho===0&&Xi!==null){ni!==null&&(ni.status="fulfilled");var e=Xi;Xi=null,di=0,ni=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function zp(e,t){var a=[],n={status:"pending",value:null,reason:null,then:function(i){a.push(i)}};return e.then(function(){n.status="fulfilled",n.value=t;for(var i=0;i<a.length;i++)(0,a[i])(t)},function(i){for(n.status="rejected",n.reason=i,i=0;i<a.length;i++)(0,a[i])(void 0)}),n}var sd=J.S;J.S=function(e,t){Xm=xt(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&kp(e,t),sd!==null&&sd(e,t)};var fn=Pt(null);function Xu(){var e=fn.current;return e!==null?e:be.pooledCache}function ml(e,t){t===null?Se(fn,fn.current):Se(fn,t.pool)}function kf(){var e=Xu();return e===null?null:{parent:Ge._currentValue,pool:e}}var Ei=Error(E(460)),Ju=Error(E(474)),dr=Error(E(542)),Ul={then:function(){}};function ld(e){return e=e.status,e==="fulfilled"||e==="rejected"}function zf(e,t,a){switch(a=e[a],a===void 0?e.push(t):a!==t&&(t.then(ca,ca),t=a),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,od(e),e;default:if(typeof t.status=="string")t.then(ca,ca);else{if(e=be,e!==null&&100<e.shellSuspendCounter)throw Error(E(482));e=t,e.status="pending",e.then(function(n){if(t.status==="pending"){var i=t;i.status="fulfilled",i.value=n}},function(n){if(t.status==="pending"){var i=t;i.status="rejected",i.reason=n}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,od(e),e}throw mn=t,Ei}}function sn(e){try{var t=e._init;return t(e._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(mn=a,Ei):a}}var mn=null;function rd(){if(mn===null)throw Error(E(459));var e=mn;return mn=null,e}function od(e){if(e===Ei||e===dr)throw Error(E(483))}var ii=null,ds=0;function Js(e){var t=ds;return ds+=1,ii===null&&(ii=[]),zf(ii,e,t)}function Di(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function Zs(e,t){throw t.$$typeof===Sg?Error(E(525)):(e=Object.prototype.toString.call(t),Error(E(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function Mf(e){function t(g,m){if(e){var p=g.deletions;p===null?(g.deletions=[m],g.flags|=16):p.push(m)}}function a(g,m){if(!e)return null;for(;m!==null;)t(g,m),m=m.sibling;return null}function n(g){for(var m=new Map;g!==null;)g.key!==null?m.set(g.key,g):m.set(g.index,g),g=g.sibling;return m}function i(g,m){return g=ha(g,m),g.index=0,g.sibling=null,g}function s(g,m,p){return g.index=p,e?(p=g.alternate,p!==null?(p=p.index,p<m?(g.flags|=67108866,m):p):(g.flags|=67108866,m)):(g.flags|=1048576,m)}function l(g){return e&&g.alternate===null&&(g.flags|=67108866),g}function r(g,m,p,_){return m===null||m.tag!==6?(m=Hr(p,g.mode,_),m.return=g,m):(m=i(m,p),m.return=g,m)}function u(g,m,p,_){var T=p.type;return T===$n?d(g,m,p.props.children,_,p.key):m!==null&&(m.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===xa&&sn(T)===m.type)?(m=i(m,p.props),Di(m,p),m.return=g,m):(m=fl(p.type,p.key,p.props,null,g.mode,_),Di(m,p),m.return=g,m)}function c(g,m,p,_){return m===null||m.tag!==4||m.stateNode.containerInfo!==p.containerInfo||m.stateNode.implementation!==p.implementation?(m=$r(p,g.mode,_),m.return=g,m):(m=i(m,p.children||[]),m.return=g,m)}function d(g,m,p,_,T){return m===null||m.tag!==7?(m=hn(p,g.mode,_,T),m.return=g,m):(m=i(m,p),m.return=g,m)}function v(g,m,p){if(typeof m=="string"&&m!==""||typeof m=="number"||typeof m=="bigint")return m=Hr(""+m,g.mode,p),m.return=g,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case $s:return p=fl(m.type,m.key,m.props,null,g.mode,p),Di(p,m),p.return=g,p;case qi:return m=$r(m,g.mode,p),m.return=g,m;case xa:return m=sn(m),v(g,m,p)}if(Bi(m)||Ci(m))return m=hn(m,g.mode,p,null),m.return=g,m;if(typeof m.then=="function")return v(g,Js(m),p);if(m.$$typeof===ua)return v(g,Xs(g,m),p);Zs(g,m)}return null}function h(g,m,p,_){var T=m!==null?m.key:null;if(typeof p=="string"&&p!==""||typeof p=="number"||typeof p=="bigint")return T!==null?null:r(g,m,""+p,_);if(typeof p=="object"&&p!==null){switch(p.$$typeof){case $s:return p.key===T?u(g,m,p,_):null;case qi:return p.key===T?c(g,m,p,_):null;case xa:return p=sn(p),h(g,m,p,_)}if(Bi(p)||Ci(p))return T!==null?null:d(g,m,p,_,null);if(typeof p.then=="function")return h(g,m,Js(p),_);if(p.$$typeof===ua)return h(g,m,Xs(g,p),_);Zs(g,p)}return null}function f(g,m,p,_,T){if(typeof _=="string"&&_!==""||typeof _=="number"||typeof _=="bigint")return g=g.get(p)||null,r(m,g,""+_,T);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case $s:return g=g.get(_.key===null?p:_.key)||null,u(m,g,_,T);case qi:return g=g.get(_.key===null?p:_.key)||null,c(m,g,_,T);case xa:return _=sn(_),f(g,m,p,_,T)}if(Bi(_)||Ci(_))return g=g.get(p)||null,d(m,g,_,T,null);if(typeof _.then=="function")return f(g,m,p,Js(_),T);if(_.$$typeof===ua)return f(g,m,p,Xs(m,_),T);Zs(m,_)}return null}function y(g,m,p,_){for(var T=null,x=null,j=m,D=m=0,U=null;j!==null&&D<p.length;D++){j.index>D?(U=j,j=null):U=j.sibling;var Z=h(g,j,p[D],_);if(Z===null){j===null&&(j=U);break}e&&j&&Z.alternate===null&&t(g,j),m=s(Z,m,D),x===null?T=Z:x.sibling=Z,x=Z,j=U}if(D===p.length)return a(g,j),se&&ra(g,D),T;if(j===null){for(;D<p.length;D++)j=v(g,p[D],_),j!==null&&(m=s(j,m,D),x===null?T=j:x.sibling=j,x=j);return se&&ra(g,D),T}for(j=n(j);D<p.length;D++)U=f(j,g,D,p[D],_),U!==null&&(e&&U.alternate!==null&&j.delete(U.key===null?D:U.key),m=s(U,m,D),x===null?T=U:x.sibling=U,x=U);return e&&j.forEach(function(M){return t(g,M)}),se&&ra(g,D),T}function S(g,m,p,_){if(p==null)throw Error(E(151));for(var T=null,x=null,j=m,D=m=0,U=null,Z=p.next();j!==null&&!Z.done;D++,Z=p.next()){j.index>D?(U=j,j=null):U=j.sibling;var M=h(g,j,Z.value,_);if(M===null){j===null&&(j=U);break}e&&j&&M.alternate===null&&t(g,j),m=s(M,m,D),x===null?T=M:x.sibling=M,x=M,j=U}if(Z.done)return a(g,j),se&&ra(g,D),T;if(j===null){for(;!Z.done;D++,Z=p.next())Z=v(g,Z.value,_),Z!==null&&(m=s(Z,m,D),x===null?T=Z:x.sibling=Z,x=Z);return se&&ra(g,D),T}for(j=n(j);!Z.done;D++,Z=p.next())Z=f(j,g,D,Z.value,_),Z!==null&&(e&&Z.alternate!==null&&j.delete(Z.key===null?D:Z.key),m=s(Z,m,D),x===null?T=Z:x.sibling=Z,x=Z);return e&&j.forEach(function(Q){return t(g,Q)}),se&&ra(g,D),T}function w(g,m,p,_){if(typeof p=="object"&&p!==null&&p.type===$n&&p.key===null&&(p=p.props.children),typeof p=="object"&&p!==null){switch(p.$$typeof){case $s:e:{for(var T=p.key;m!==null;){if(m.key===T){if(T=p.type,T===$n){if(m.tag===7){a(g,m.sibling),_=i(m,p.props.children),_.return=g,g=_;break e}}else if(m.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===xa&&sn(T)===m.type){a(g,m.sibling),_=i(m,p.props),Di(_,p),_.return=g,g=_;break e}a(g,m);break}else t(g,m);m=m.sibling}p.type===$n?(_=hn(p.props.children,g.mode,_,p.key),_.return=g,g=_):(_=fl(p.type,p.key,p.props,null,g.mode,_),Di(_,p),_.return=g,g=_)}return l(g);case qi:e:{for(T=p.key;m!==null;){if(m.key===T)if(m.tag===4&&m.stateNode.containerInfo===p.containerInfo&&m.stateNode.implementation===p.implementation){a(g,m.sibling),_=i(m,p.children||[]),_.return=g,g=_;break e}else{a(g,m);break}else t(g,m);m=m.sibling}_=$r(p,g.mode,_),_.return=g,g=_}return l(g);case xa:return p=sn(p),w(g,m,p,_)}if(Bi(p))return y(g,m,p,_);if(Ci(p)){if(T=Ci(p),typeof T!="function")throw Error(E(150));return p=T.call(p),S(g,m,p,_)}if(typeof p.then=="function")return w(g,m,Js(p),_);if(p.$$typeof===ua)return w(g,m,Xs(g,p),_);Zs(g,p)}return typeof p=="string"&&p!==""||typeof p=="number"||typeof p=="bigint"?(p=""+p,m!==null&&m.tag===6?(a(g,m.sibling),_=i(m,p),_.return=g,g=_):(a(g,m),_=Hr(p,g.mode,_),_.return=g,g=_),l(g)):a(g,m)}return function(g,m,p,_){try{ds=0;var T=w(g,m,p,_);return ii=null,T}catch(j){if(j===Ei||j===dr)throw j;var x=St(29,j,null,g.mode);return x.lanes=_,x.return=g,x}finally{}}}var yn=Mf(!0),qf=Mf(!1),ja=!1;function Zu(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function $o(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function La(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Ha(e,t,a){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,ce&2){var i=n.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),n.pending=t,t=Nl(e),Of(e,null,a),t}return cr(e,n,t,a),Nl(e)}function Ji(e,t,a){if(t=t.updateQueue,t!==null&&(t=t.shared,(a&4194048)!==0)){var n=t.lanes;n&=e.pendingLanes,a|=n,t.lanes=a,ef(e,a)}}function Vr(e,t){var a=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,a===n)){var i=null,s=null;if(a=a.firstBaseUpdate,a!==null){do{var l={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};s===null?i=s=l:s=s.next=l,a=a.next}while(a!==null);s===null?i=s=t:s=s.next=t}else i=s=t;a={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:n.shared,callbacks:n.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=t:e.next=t,a.lastBaseUpdate=t}var Go=!1;function Zi(){if(Go){var e=ni;if(e!==null)throw e}}function Ii(e,t,a,n){Go=!1;var i=e.updateQueue;ja=!1;var s=i.firstBaseUpdate,l=i.lastBaseUpdate,r=i.shared.pending;if(r!==null){i.shared.pending=null;var u=r,c=u.next;u.next=null,l===null?s=c:l.next=c,l=u;var d=e.alternate;d!==null&&(d=d.updateQueue,r=d.lastBaseUpdate,r!==l&&(r===null?d.firstBaseUpdate=c:r.next=c,d.lastBaseUpdate=u))}if(s!==null){var v=i.baseState;l=0,d=c=u=null,r=s;do{var h=r.lane&-536870913,f=h!==r.lane;if(f?(ne&h)===h:(n&h)===h){h!==0&&h===di&&(Go=!0),d!==null&&(d=d.next={lane:0,tag:r.tag,payload:r.payload,callback:null,next:null});e:{var y=e,S=r;h=t;var w=a;switch(S.tag){case 1:if(y=S.payload,typeof y=="function"){v=y.call(w,v,h);break e}v=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=S.payload,h=typeof y=="function"?y.call(w,v,h):y,h==null)break e;v=je({},v,h);break e;case 2:ja=!0}}h=r.callback,h!==null&&(e.flags|=64,f&&(e.flags|=8192),f=i.callbacks,f===null?i.callbacks=[h]:f.push(h))}else f={lane:h,tag:r.tag,payload:r.payload,callback:r.callback,next:null},d===null?(c=d=f,u=v):d=d.next=f,l|=h;if(r=r.next,r===null){if(r=i.shared.pending,r===null)break;f=r,r=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(!0);d===null&&(u=v),i.baseState=u,i.firstBaseUpdate=c,i.lastBaseUpdate=d,s===null&&(i.shared.lanes=0),Za|=l,e.lanes=l,e.memoizedState=v}}function Bf(e,t){if(typeof e!="function")throw Error(E(191,e));e.call(t)}function Lf(e,t){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)Bf(a[e],t)}var hi=Pt(null),kl=Pt(0);function ud(e,t){e=ba,Se(kl,e),Se(hi,t),ba=e|t.baseLanes}function Vo(){Se(kl,ba),Se(hi,hi.current)}function Iu(){ba=kl.current,We(hi),We(kl)}var Ct=Pt(null),qt=null;function Oa(e){var t=e.alternate;Se(Ue,Ue.current&1),Se(Ct,e),qt===null&&(t===null||hi.current!==null||t.memoizedState!==null)&&(qt=e)}function Yo(e){Se(Ue,Ue.current),Se(Ct,e),qt===null&&(qt=e)}function Hf(e){e.tag===22?(Se(Ue,Ue.current),Se(Ct,e),qt===null&&(qt=e)):Ca()}function Ca(){Se(Ue,Ue.current),Se(Ct,Ct.current)}function _t(e){We(Ct),qt===e&&(qt=null),We(Ue)}var Ue=Pt(0);function zl(e){for(var t=e;t!==null;){if(t.tag===13){var a=t.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||uu(a)||cu(a)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ga=0,F=null,pe=null,He=null,Ml=!1,si=!1,bn=!1,ql=0,hs=0,li=null,Mp=0;function Ne(){throw Error(E(321))}function Wu(e,t){if(t===null)return!1;for(var a=0;a<t.length&&a<e.length;a++)if(!Ot(e[a],t[a]))return!1;return!0}function Pu(e,t,a,n,i,s){return ga=s,F=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,J.H=e===null||e.memoizedState===null?pm:uc,bn=!1,s=a(n,i),bn=!1,si&&(s=Gf(t,a,n,i)),$f(e),s}function $f(e){J.H=fs;var t=pe!==null&&pe.next!==null;if(ga=0,He=pe=F=null,Ml=!1,hs=0,li=null,t)throw Error(E(300));e===null||Ve||(e=e.dependencies,e!==null&&Dl(e)&&(Ve=!0))}function Gf(e,t,a,n){F=e;var i=0;do{if(si&&(li=null),hs=0,si=!1,25<=i)throw Error(E(301));if(i+=1,He=pe=null,e.updateQueue!=null){var s=e.updateQueue;s.lastEffect=null,s.events=null,s.stores=null,s.memoCache!=null&&(s.memoCache.index=0)}J.H=ym,s=t(a,n)}while(si);return s}function qp(){var e=J.H,t=e.useState()[0];return t=typeof t.then=="function"?Us(t):t,e=e.useState()[0],(pe!==null?pe.memoizedState:null)!==e&&(F.flags|=1024),t}function Fu(){var e=ql!==0;return ql=0,e}function ec(e,t,a){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a}function tc(e){if(Ml){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}Ml=!1}ga=0,He=pe=F=null,si=!1,hs=ql=0,li=null}function rt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return He===null?F.memoizedState=He=e:He=He.next=e,He}function ke(){if(pe===null){var e=F.alternate;e=e!==null?e.memoizedState:null}else e=pe.next;var t=He===null?F.memoizedState:He.next;if(t!==null)He=t,pe=e;else{if(e===null)throw F.alternate===null?Error(E(467)):Error(E(310));pe=e,e={memoizedState:pe.memoizedState,baseState:pe.baseState,baseQueue:pe.baseQueue,queue:pe.queue,next:null},He===null?F.memoizedState=He=e:He=He.next=e}return He}function hr(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Us(e){var t=hs;return hs+=1,li===null&&(li=[]),e=zf(li,e,t),t=F,(He===null?t.memoizedState:He.next)===null&&(t=t.alternate,J.H=t===null||t.memoizedState===null?pm:uc),e}function fr(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Us(e);if(e.$$typeof===ua)return it(e)}throw Error(E(438,String(e)))}function ac(e){var t=null,a=F.updateQueue;if(a!==null&&(t=a.memoCache),t==null){var n=F.alternate;n!==null&&(n=n.updateQueue,n!==null&&(n=n.memoCache,n!=null&&(t={data:n.data.map(function(i){return i.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),a===null&&(a=hr(),F.updateQueue=a),a.memoCache=t,a=t.data[t.index],a===void 0)for(a=t.data[t.index]=Array(e),n=0;n<e;n++)a[n]=wg;return t.index++,a}function pa(e,t){return typeof t=="function"?t(e):t}function vl(e){var t=ke();return nc(t,pe,e)}function nc(e,t,a){var n=e.queue;if(n===null)throw Error(E(311));n.lastRenderedReducer=a;var i=e.baseQueue,s=n.pending;if(s!==null){if(i!==null){var l=i.next;i.next=s.next,s.next=l}t.baseQueue=i=s,n.pending=null}if(s=e.baseState,i===null)e.memoizedState=s;else{t=i.next;var r=l=null,u=null,c=t,d=!1;do{var v=c.lane&-536870913;if(v!==c.lane?(ne&v)===v:(ga&v)===v){var h=c.revertLane;if(h===0)u!==null&&(u=u.next={lane:0,revertLane:0,gesture:null,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),v===di&&(d=!0);else if((ga&h)===h){c=c.next,h===di&&(d=!0);continue}else v={lane:0,revertLane:c.revertLane,gesture:null,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null},u===null?(r=u=v,l=s):u=u.next=v,F.lanes|=h,Za|=h;v=c.action,bn&&a(s,v),s=c.hasEagerState?c.eagerState:a(s,v)}else h={lane:v,revertLane:c.revertLane,gesture:c.gesture,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null},u===null?(r=u=h,l=s):u=u.next=h,F.lanes|=v,Za|=v;c=c.next}while(c!==null&&c!==t);if(u===null?l=s:u.next=r,!Ot(s,e.memoizedState)&&(Ve=!0,d&&(a=ni,a!==null)))throw a;e.memoizedState=s,e.baseState=l,e.baseQueue=u,n.lastRenderedState=s}return i===null&&(n.lanes=0),[e.memoizedState,n.dispatch]}function Yr(e){var t=ke(),a=t.queue;if(a===null)throw Error(E(311));a.lastRenderedReducer=e;var n=a.dispatch,i=a.pending,s=t.memoizedState;if(i!==null){a.pending=null;var l=i=i.next;do s=e(s,l.action),l=l.next;while(l!==i);Ot(s,t.memoizedState)||(Ve=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),a.lastRenderedState=s}return[s,n]}function Vf(e,t,a){var n=F,i=ke(),s=se;if(s){if(a===void 0)throw Error(E(407));a=a()}else a=t();var l=!Ot((pe||i).memoizedState,a);if(l&&(i.memoizedState=a,Ve=!0),i=i.queue,ic(Qf.bind(null,n,i,e),[e]),i.getSnapshot!==t||l||He!==null&&He.memoizedState.tag&1){if(n.flags|=2048,fi(9,{destroy:void 0},Kf.bind(null,n,i,a,t),null),be===null)throw Error(E(349));s||ga&127||Yf(n,t,a)}return a}function Yf(e,t,a){e.flags|=16384,e={getSnapshot:t,value:a},t=F.updateQueue,t===null?(t=hr(),F.updateQueue=t,t.stores=[e]):(a=t.stores,a===null?t.stores=[e]:a.push(e))}function Kf(e,t,a,n){t.value=a,t.getSnapshot=n,Xf(t)&&Jf(e)}function Qf(e,t,a){return a(function(){Xf(t)&&Jf(e)})}function Xf(e){var t=e.getSnapshot;e=e.value;try{var a=t();return!Ot(e,a)}catch{return!0}}function Jf(e){var t=xn(e,2);t!==null&&mt(t,e,2)}function Ko(e){var t=rt();if(typeof e=="function"){var a=e;if(e=a(),bn){Da(!0);try{a()}finally{Da(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:pa,lastRenderedState:e},t}function Zf(e,t,a,n){return e.baseState=a,nc(e,pe,typeof n=="function"?n:pa)}function Bp(e,t,a,n,i){if(vr(e))throw Error(E(485));if(e=t.action,e!==null){var s={payload:i,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(l){s.listeners.push(l)}};J.T!==null?a(!0):s.isTransition=!1,n(s),a=t.pending,a===null?(s.next=t.pending=s,If(t,s)):(s.next=a.next,t.pending=a.next=s)}}function If(e,t){var a=t.action,n=t.payload,i=e.state;if(t.isTransition){var s=J.T,l={};J.T=l;try{var r=a(i,n),u=J.S;u!==null&&u(l,r),cd(e,t,r)}catch(c){Qo(e,t,c)}finally{s!==null&&l.types!==null&&(s.types=l.types),J.T=s}}else try{s=a(i,n),cd(e,t,s)}catch(c){Qo(e,t,c)}}function cd(e,t,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(n){dd(e,t,n)},function(n){return Qo(e,t,n)}):dd(e,t,a)}function dd(e,t,a){t.status="fulfilled",t.value=a,Wf(t),e.state=a,t=e.pending,t!==null&&(a=t.next,a===t?e.pending=null:(a=a.next,t.next=a,If(e,a)))}function Qo(e,t,a){var n=e.pending;if(e.pending=null,n!==null){n=n.next;do t.status="rejected",t.reason=a,Wf(t),t=t.next;while(t!==n)}e.action=null}function Wf(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Pf(e,t){return t}function hd(e,t){if(se){var a=be.formState;if(a!==null){e:{var n=F;if(se){if(Ee){t:{for(var i=Ee,s=Mt;i.nodeType!==8;){if(!s){i=null;break t}if(i=Bt(i.nextSibling),i===null){i=null;break t}}s=i.data,i=s==="F!"||s==="F"?i:null}if(i){Ee=Bt(i.nextSibling),n=i.data==="F!";break e}}Xa(n)}n=!1}n&&(t=a[0])}}return a=rt(),a.memoizedState=a.baseState=t,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pf,lastRenderedState:t},a.queue=n,a=mm.bind(null,F,n),n.dispatch=a,n=Ko(!1),s=oc.bind(null,F,!1,n.queue),n=rt(),i={state:t,dispatch:null,action:e,pending:null},n.queue=i,a=Bp.bind(null,F,i,s,a),i.dispatch=a,n.memoizedState=e,[t,a,!1]}function fd(e){var t=ke();return Ff(t,pe,e)}function Ff(e,t,a){if(t=nc(e,t,Pf)[0],e=vl(pa)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var n=Us(t)}catch(l){throw l===Ei?dr:l}else n=t;t=ke();var i=t.queue,s=i.dispatch;return a!==t.memoizedState&&(F.flags|=2048,fi(9,{destroy:void 0},Lp.bind(null,i,a),null)),[n,s,e]}function Lp(e,t){e.action=t}function md(e){var t=ke(),a=pe;if(a!==null)return Ff(t,a,e);ke(),t=t.memoizedState,a=ke();var n=a.queue.dispatch;return a.memoizedState=e,[t,n,!1]}function fi(e,t,a,n){return e={tag:e,create:a,deps:n,inst:t,next:null},t=F.updateQueue,t===null&&(t=hr(),F.updateQueue=t),a=t.lastEffect,a===null?t.lastEffect=e.next=e:(n=a.next,a.next=e,e.next=n,t.lastEffect=e),e}function em(){return ke().memoizedState}function gl(e,t,a,n){var i=rt();F.flags|=e,i.memoizedState=fi(1|t,{destroy:void 0},a,n===void 0?null:n)}function mr(e,t,a,n){var i=ke();n=n===void 0?null:n;var s=i.memoizedState.inst;pe!==null&&n!==null&&Wu(n,pe.memoizedState.deps)?i.memoizedState=fi(t,s,a,n):(F.flags|=e,i.memoizedState=fi(1|t,s,a,n))}function vd(e,t){gl(8390656,8,e,t)}function ic(e,t){mr(2048,8,e,t)}function Hp(e){F.flags|=4;var t=F.updateQueue;if(t===null)t=hr(),F.updateQueue=t,t.events=[e];else{var a=t.events;a===null?t.events=[e]:a.push(e)}}function tm(e){var t=ke().memoizedState;return Hp({ref:t,nextImpl:e}),function(){if(ce&2)throw Error(E(440));return t.impl.apply(void 0,arguments)}}function am(e,t){return mr(4,2,e,t)}function nm(e,t){return mr(4,4,e,t)}function im(e,t){if(typeof t=="function"){e=e();var a=t(e);return function(){typeof a=="function"?a():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function sm(e,t,a){a=a!=null?a.concat([e]):null,mr(4,4,im.bind(null,t,e),a)}function sc(){}function lm(e,t){var a=ke();t=t===void 0?null:t;var n=a.memoizedState;return t!==null&&Wu(t,n[1])?n[0]:(a.memoizedState=[e,t],e)}function rm(e,t){var a=ke();t=t===void 0?null:t;var n=a.memoizedState;if(t!==null&&Wu(t,n[1]))return n[0];if(n=e(),bn){Da(!0);try{e()}finally{Da(!1)}}return a.memoizedState=[n,t],n}function lc(e,t,a){return a===void 0||ga&1073741824&&!(ne&261930)?e.memoizedState=t:(e.memoizedState=a,e=Zm(),F.lanes|=e,Za|=e,a)}function om(e,t,a,n){return Ot(a,t)?a:hi.current!==null?(e=lc(e,a,n),Ot(e,t)||(Ve=!0),e):!(ga&42)||ga&1073741824&&!(ne&261930)?(Ve=!0,e.memoizedState=a):(e=Zm(),F.lanes|=e,Za|=e,t)}function um(e,t,a,n,i){var s=de.p;de.p=s!==0&&8>s?s:8;var l=J.T,r={};J.T=r,oc(e,!1,t,a);try{var u=i(),c=J.S;if(c!==null&&c(r,u),u!==null&&typeof u=="object"&&typeof u.then=="function"){var d=zp(u,n);Wi(e,t,d,At(e))}else Wi(e,t,n,At(e))}catch(v){Wi(e,t,{then:function(){},status:"rejected",reason:v},At())}finally{de.p=s,l!==null&&r.types!==null&&(l.types=r.types),J.T=l}}function $p(){}function Xo(e,t,a,n){if(e.tag!==5)throw Error(E(476));var i=cm(e).queue;um(e,i,t,dn,a===null?$p:function(){return dm(e),a(n)})}function cm(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:dn,baseState:dn,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:pa,lastRenderedState:dn},next:null};var a={};return t.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:pa,lastRenderedState:a},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function dm(e){var t=cm(e);t.next===null&&(t=e.alternate.memoizedState),Wi(e,t.next.queue,{},At())}function rc(){return it(gs)}function hm(){return ke().memoizedState}function fm(){return ke().memoizedState}function Gp(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var a=At();e=La(a);var n=Ha(t,e,a);n!==null&&(mt(n,t,a),Ji(n,t,a)),t={cache:Qu()},e.payload=t;return}t=t.return}}function Vp(e,t,a){var n=At();a={lane:n,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},vr(e)?vm(t,a):(a=Gu(e,t,a,n),a!==null&&(mt(a,e,n),gm(a,t,n)))}function mm(e,t,a){var n=At();Wi(e,t,a,n)}function Wi(e,t,a,n){var i={lane:n,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(vr(e))vm(t,i);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var l=t.lastRenderedState,r=s(l,a);if(i.hasEagerState=!0,i.eagerState=r,Ot(r,l))return cr(e,t,i,0),be===null&&ur(),!1}catch{}finally{}if(a=Gu(e,t,i,n),a!==null)return mt(a,e,n),gm(a,t,n),!0}return!1}function oc(e,t,a,n){if(n={lane:2,revertLane:pc(),gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},vr(e)){if(t)throw Error(E(479))}else t=Gu(e,a,n,2),t!==null&&mt(t,e,2)}function vr(e){var t=e.alternate;return e===F||t!==null&&t===F}function vm(e,t){si=Ml=!0;var a=e.pending;a===null?t.next=t:(t.next=a.next,a.next=t),e.pending=t}function gm(e,t,a){if(a&4194048){var n=t.lanes;n&=e.pendingLanes,a|=n,t.lanes=a,ef(e,a)}}var fs={readContext:it,use:fr,useCallback:Ne,useContext:Ne,useEffect:Ne,useImperativeHandle:Ne,useLayoutEffect:Ne,useInsertionEffect:Ne,useMemo:Ne,useReducer:Ne,useRef:Ne,useState:Ne,useDebugValue:Ne,useDeferredValue:Ne,useTransition:Ne,useSyncExternalStore:Ne,useId:Ne,useHostTransitionStatus:Ne,useFormState:Ne,useActionState:Ne,useOptimistic:Ne,useMemoCache:Ne,useCacheRefresh:Ne};fs.useEffectEvent=Ne;var pm={readContext:it,use:fr,useCallback:function(e,t){return rt().memoizedState=[e,t===void 0?null:t],e},useContext:it,useEffect:vd,useImperativeHandle:function(e,t,a){a=a!=null?a.concat([e]):null,gl(4194308,4,im.bind(null,t,e),a)},useLayoutEffect:function(e,t){return gl(4194308,4,e,t)},useInsertionEffect:function(e,t){gl(4,2,e,t)},useMemo:function(e,t){var a=rt();t=t===void 0?null:t;var n=e();if(bn){Da(!0);try{e()}finally{Da(!1)}}return a.memoizedState=[n,t],n},useReducer:function(e,t,a){var n=rt();if(a!==void 0){var i=a(t);if(bn){Da(!0);try{a(t)}finally{Da(!1)}}}else i=t;return n.memoizedState=n.baseState=i,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:i},n.queue=e,e=e.dispatch=Vp.bind(null,F,e),[n.memoizedState,e]},useRef:function(e){var t=rt();return e={current:e},t.memoizedState=e},useState:function(e){e=Ko(e);var t=e.queue,a=mm.bind(null,F,t);return t.dispatch=a,[e.memoizedState,a]},useDebugValue:sc,useDeferredValue:function(e,t){var a=rt();return lc(a,e,t)},useTransition:function(){var e=Ko(!1);return e=um.bind(null,F,e.queue,!0,!1),rt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,a){var n=F,i=rt();if(se){if(a===void 0)throw Error(E(407));a=a()}else{if(a=t(),be===null)throw Error(E(349));ne&127||Yf(n,t,a)}i.memoizedState=a;var s={value:a,getSnapshot:t};return i.queue=s,vd(Qf.bind(null,n,s,e),[e]),n.flags|=2048,fi(9,{destroy:void 0},Kf.bind(null,n,s,a,t),null),a},useId:function(){var e=rt(),t=be.identifierPrefix;if(se){var a=Zt,n=Jt;a=(n&~(1<<32-Tt(n)-1)).toString(32)+a,t="_"+t+"R_"+a,a=ql++,0<a&&(t+="H"+a.toString(32)),t+="_"}else a=Mp++,t="_"+t+"r_"+a.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:rc,useFormState:hd,useActionState:hd,useOptimistic:function(e){var t=rt();t.memoizedState=t.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=a,t=oc.bind(null,F,!0,a),a.dispatch=t,[e,t]},useMemoCache:ac,useCacheRefresh:function(){return rt().memoizedState=Gp.bind(null,F)},useEffectEvent:function(e){var t=rt(),a={impl:e};return t.memoizedState=a,function(){if(ce&2)throw Error(E(440));return a.impl.apply(void 0,arguments)}}},uc={readContext:it,use:fr,useCallback:lm,useContext:it,useEffect:ic,useImperativeHandle:sm,useInsertionEffect:am,useLayoutEffect:nm,useMemo:rm,useReducer:vl,useRef:em,useState:function(){return vl(pa)},useDebugValue:sc,useDeferredValue:function(e,t){var a=ke();return om(a,pe.memoizedState,e,t)},useTransition:function(){var e=vl(pa)[0],t=ke().memoizedState;return[typeof e=="boolean"?e:Us(e),t]},useSyncExternalStore:Vf,useId:hm,useHostTransitionStatus:rc,useFormState:fd,useActionState:fd,useOptimistic:function(e,t){var a=ke();return Zf(a,pe,e,t)},useMemoCache:ac,useCacheRefresh:fm};uc.useEffectEvent=tm;var ym={readContext:it,use:fr,useCallback:lm,useContext:it,useEffect:ic,useImperativeHandle:sm,useInsertionEffect:am,useLayoutEffect:nm,useMemo:rm,useReducer:Yr,useRef:em,useState:function(){return Yr(pa)},useDebugValue:sc,useDeferredValue:function(e,t){var a=ke();return pe===null?lc(a,e,t):om(a,pe.memoizedState,e,t)},useTransition:function(){var e=Yr(pa)[0],t=ke().memoizedState;return[typeof e=="boolean"?e:Us(e),t]},useSyncExternalStore:Vf,useId:hm,useHostTransitionStatus:rc,useFormState:md,useActionState:md,useOptimistic:function(e,t){var a=ke();return pe!==null?Zf(a,pe,e,t):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:ac,useCacheRefresh:fm};ym.useEffectEvent=tm;function Kr(e,t,a,n){t=e.memoizedState,a=a(n,t),a=a==null?t:je({},t,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var Jo={enqueueSetState:function(e,t,a){e=e._reactInternals;var n=At(),i=La(n);i.payload=t,a!=null&&(i.callback=a),t=Ha(e,i,n),t!==null&&(mt(t,e,n),Ji(t,e,n))},enqueueReplaceState:function(e,t,a){e=e._reactInternals;var n=At(),i=La(n);i.tag=1,i.payload=t,a!=null&&(i.callback=a),t=Ha(e,i,n),t!==null&&(mt(t,e,n),Ji(t,e,n))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var a=At(),n=La(a);n.tag=2,t!=null&&(n.callback=t),t=Ha(e,n,a),t!==null&&(mt(t,e,a),Ji(t,e,a))}};function gd(e,t,a,n,i,s,l){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,s,l):t.prototype&&t.prototype.isPureReactComponent?!os(a,n)||!os(i,s):!0}function pd(e,t,a,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(a,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(a,n),t.state!==e&&Jo.enqueueReplaceState(t,t.state,null)}function _n(e,t){var a=t;if("ref"in t){a={};for(var n in t)n!=="ref"&&(a[n]=t[n])}if(e=e.defaultProps){a===t&&(a=je({},a));for(var i in e)a[i]===void 0&&(a[i]=e[i])}return a}function bm(e){Cl(e)}function _m(e){console.error(e)}function Sm(e){Cl(e)}function Bl(e,t){try{var a=e.onUncaughtError;a(t.value,{componentStack:t.stack})}catch(n){setTimeout(function(){throw n})}}function yd(e,t,a){try{var n=e.onCaughtError;n(a.value,{componentStack:a.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(i){setTimeout(function(){throw i})}}function Zo(e,t,a){return a=La(a),a.tag=3,a.payload={element:null},a.callback=function(){Bl(e,t)},a}function wm(e){return e=La(e),e.tag=3,e}function Em(e,t,a,n){var i=a.type.getDerivedStateFromError;if(typeof i=="function"){var s=n.value;e.payload=function(){return i(s)},e.callback=function(){yd(t,a,n)}}var l=a.stateNode;l!==null&&typeof l.componentDidCatch=="function"&&(e.callback=function(){yd(t,a,n),typeof i!="function"&&($a===null?$a=new Set([this]):$a.add(this));var r=n.stack;this.componentDidCatch(n.value,{componentStack:r!==null?r:""})})}function Yp(e,t,a,n,i){if(a.flags|=32768,n!==null&&typeof n=="object"&&typeof n.then=="function"){if(t=a.alternate,t!==null&&wi(t,a,i,!0),a=Ct.current,a!==null){switch(a.tag){case 31:case 13:return qt===null?Vl():a.alternate===null&&De===0&&(De=3),a.flags&=-257,a.flags|=65536,a.lanes=i,n===Ul?a.flags|=16384:(t=a.updateQueue,t===null?a.updateQueue=new Set([n]):t.add(n),ao(e,n,i)),!1;case 22:return a.flags|=65536,n===Ul?a.flags|=16384:(t=a.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([n])},a.updateQueue=t):(a=t.retryQueue,a===null?t.retryQueue=new Set([n]):a.add(n)),ao(e,n,i)),!1}throw Error(E(435,a.tag))}return ao(e,n,i),Vl(),!1}if(se)return t=Ct.current,t!==null?(!(t.flags&65536)&&(t.flags|=256),t.flags|=65536,t.lanes=i,n!==Mo&&(e=Error(E(422),{cause:n}),cs(zt(e,a)))):(n!==Mo&&(t=Error(E(423),{cause:n}),cs(zt(t,a))),e=e.current.alternate,e.flags|=65536,i&=-i,e.lanes|=i,n=zt(n,a),i=Zo(e.stateNode,n,i),Vr(e,i),De!==4&&(De=2)),!1;var s=Error(E(520),{cause:n});if(s=zt(s,a),es===null?es=[s]:es.push(s),De!==4&&(De=2),t===null)return!0;n=zt(n,a),a=t;do{switch(a.tag){case 3:return a.flags|=65536,e=i&-i,a.lanes|=e,e=Zo(a.stateNode,n,e),Vr(a,e),!1;case 1:if(t=a.type,s=a.stateNode,(a.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||s!==null&&typeof s.componentDidCatch=="function"&&($a===null||!$a.has(s))))return a.flags|=65536,i&=-i,a.lanes|=i,i=wm(i),Em(i,e,a,n),Vr(a,i),!1}a=a.return}while(a!==null);return!1}var cc=Error(E(461)),Ve=!1;function tt(e,t,a,n){t.child=e===null?qf(t,null,a,n):yn(t,e.child,a,n)}function bd(e,t,a,n,i){a=a.render;var s=t.ref;if("ref"in n){var l={};for(var r in n)r!=="ref"&&(l[r]=n[r])}else l=n;return pn(t),n=Pu(e,t,a,l,s,i),r=Fu(),e!==null&&!Ve?(ec(e,t,i),ya(e,t,i)):(se&&r&&Yu(t),t.flags|=1,tt(e,t,n,i),t.child)}function _d(e,t,a,n,i){if(e===null){var s=a.type;return typeof s=="function"&&!Vu(s)&&s.defaultProps===void 0&&a.compare===null?(t.tag=15,t.type=s,xm(e,t,s,n,i)):(e=fl(a.type,null,n,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!dc(e,i)){var l=s.memoizedProps;if(a=a.compare,a=a!==null?a:os,a(l,n)&&e.ref===t.ref)return ya(e,t,i)}return t.flags|=1,e=ha(s,n),e.ref=t.ref,e.return=t,t.child=e}function xm(e,t,a,n,i){if(e!==null){var s=e.memoizedProps;if(os(s,n)&&e.ref===t.ref)if(Ve=!1,t.pendingProps=n=s,dc(e,i))e.flags&131072&&(Ve=!0);else return t.lanes=e.lanes,ya(e,t,i)}return Io(e,t,a,n,i)}function jm(e,t,a,n){var i=n.children,s=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.mode==="hidden"){if(t.flags&128){if(s=s!==null?s.baseLanes|a:a,e!==null){for(n=t.child=e.child,i=0;n!==null;)i=i|n.lanes|n.childLanes,n=n.sibling;n=i&~s}else n=0,t.child=null;return Sd(e,t,s,a,n)}if(a&536870912)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&ml(t,s!==null?s.cachePool:null),s!==null?ud(t,s):Vo(),Hf(t);else return n=t.lanes=536870912,Sd(e,t,s!==null?s.baseLanes|a:a,a,n)}else s!==null?(ml(t,s.cachePool),ud(t,s),Ca(),t.memoizedState=null):(e!==null&&ml(t,null),Vo(),Ca());return tt(e,t,i,a),t.child}function Hi(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function Sd(e,t,a,n,i){var s=Xu();return s=s===null?null:{parent:Ge._currentValue,pool:s},t.memoizedState={baseLanes:a,cachePool:s},e!==null&&ml(t,null),Vo(),Hf(t),e!==null&&wi(e,t,n,!0),t.childLanes=i,null}function pl(e,t){return t=Ll({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function wd(e,t,a){return yn(t,e.child,null,a),e=pl(t,t.pendingProps),e.flags|=2,_t(t),t.memoizedState=null,e}function Kp(e,t,a){var n=t.pendingProps,i=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(se){if(n.mode==="hidden")return e=pl(t,n),t.lanes=536870912,Hi(null,e);if(Yo(t),(e=Ee)?(e=pv(e,Mt),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Qa!==null?{id:Jt,overflow:Zt}:null,retryLane:536870912,hydrationErrors:null},a=Nf(e),a.return=t,t.child=a,nt=t,Ee=null)):e=null,e===null)throw Xa(t);return t.lanes=536870912,null}return pl(t,n)}var s=e.memoizedState;if(s!==null){var l=s.dehydrated;if(Yo(t),i)if(t.flags&256)t.flags&=-257,t=wd(e,t,a);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(E(558));else if(Ve||wi(e,t,a,!1),i=(a&e.childLanes)!==0,Ve||i){if(n=be,n!==null&&(l=tf(n,a),l!==0&&l!==s.retryLane))throw s.retryLane=l,xn(e,l),mt(n,e,l),cc;Vl(),t=wd(e,t,a)}else e=s.treeContext,Ee=Bt(l.nextSibling),nt=t,se=!0,Ba=null,Mt=!1,e!==null&&Df(t,e),t=pl(t,n),t.flags|=4096;return t}return e=ha(e.child,{mode:n.mode,children:n.children}),e.ref=t.ref,t.child=e,e.return=t,e}function yl(e,t){var a=t.ref;if(a===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(E(284));(e===null||e.ref!==a)&&(t.flags|=4194816)}}function Io(e,t,a,n,i){return pn(t),a=Pu(e,t,a,n,void 0,i),n=Fu(),e!==null&&!Ve?(ec(e,t,i),ya(e,t,i)):(se&&n&&Yu(t),t.flags|=1,tt(e,t,a,i),t.child)}function Ed(e,t,a,n,i,s){return pn(t),t.updateQueue=null,a=Gf(t,n,a,i),$f(e),n=Fu(),e!==null&&!Ve?(ec(e,t,s),ya(e,t,s)):(se&&n&&Yu(t),t.flags|=1,tt(e,t,a,s),t.child)}function xd(e,t,a,n,i){if(pn(t),t.stateNode===null){var s=Zn,l=a.contextType;typeof l=="object"&&l!==null&&(s=it(l)),s=new a(n,s),t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=Jo,t.stateNode=s,s._reactInternals=t,s=t.stateNode,s.props=n,s.state=t.memoizedState,s.refs={},Zu(t),l=a.contextType,s.context=typeof l=="object"&&l!==null?it(l):Zn,s.state=t.memoizedState,l=a.getDerivedStateFromProps,typeof l=="function"&&(Kr(t,a,l,n),s.state=t.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(l=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),l!==s.state&&Jo.enqueueReplaceState(s,s.state,null),Ii(t,n,s,i),Zi(),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308),n=!0}else if(e===null){s=t.stateNode;var r=t.memoizedProps,u=_n(a,r);s.props=u;var c=s.context,d=a.contextType;l=Zn,typeof d=="object"&&d!==null&&(l=it(d));var v=a.getDerivedStateFromProps;d=typeof v=="function"||typeof s.getSnapshotBeforeUpdate=="function",r=t.pendingProps!==r,d||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(r||c!==l)&&pd(t,s,n,l),ja=!1;var h=t.memoizedState;s.state=h,Ii(t,n,s,i),Zi(),c=t.memoizedState,r||h!==c||ja?(typeof v=="function"&&(Kr(t,a,v,n),c=t.memoizedState),(u=ja||gd(t,a,u,n,h,c,l))?(d||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),s.props=n,s.state=c,s.context=l,n=u):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{s=t.stateNode,$o(e,t),l=t.memoizedProps,d=_n(a,l),s.props=d,v=t.pendingProps,h=s.context,c=a.contextType,u=Zn,typeof c=="object"&&c!==null&&(u=it(c)),r=a.getDerivedStateFromProps,(c=typeof r=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(l!==v||h!==u)&&pd(t,s,n,u),ja=!1,h=t.memoizedState,s.state=h,Ii(t,n,s,i),Zi();var f=t.memoizedState;l!==v||h!==f||ja||e!==null&&e.dependencies!==null&&Dl(e.dependencies)?(typeof r=="function"&&(Kr(t,a,r,n),f=t.memoizedState),(d=ja||gd(t,a,d,n,h,f,u)||e!==null&&e.dependencies!==null&&Dl(e.dependencies))?(c||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(n,f,u),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(n,f,u)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=f),s.props=n,s.state=f,s.context=u,n=d):(typeof s.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return s=n,yl(e,t),n=(t.flags&128)!==0,s||n?(s=t.stateNode,a=n&&typeof a.getDerivedStateFromError!="function"?null:s.render(),t.flags|=1,e!==null&&n?(t.child=yn(t,e.child,null,i),t.child=yn(t,null,a,i)):tt(e,t,a,i),t.memoizedState=s.state,e=t.child):e=ya(e,t,i),e}function jd(e,t,a,n){return gn(),t.flags|=256,tt(e,t,a,n),t.child}var Qr={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Xr(e){return{baseLanes:e,cachePool:kf()}}function Jr(e,t,a){return e=e!==null?e.childLanes&~a:0,t&&(e|=Et),e}function Tm(e,t,a){var n=t.pendingProps,i=!1,s=(t.flags&128)!==0,l;if((l=s)||(l=e!==null&&e.memoizedState===null?!1:(Ue.current&2)!==0),l&&(i=!0,t.flags&=-129),l=(t.flags&32)!==0,t.flags&=-33,e===null){if(se){if(i?Oa(t):Ca(),(e=Ee)?(e=pv(e,Mt),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Qa!==null?{id:Jt,overflow:Zt}:null,retryLane:536870912,hydrationErrors:null},a=Nf(e),a.return=t,t.child=a,nt=t,Ee=null)):e=null,e===null)throw Xa(t);return cu(e)?t.lanes=32:t.lanes=536870912,null}var r=n.children;return n=n.fallback,i?(Ca(),i=t.mode,r=Ll({mode:"hidden",children:r},i),n=hn(n,i,a,null),r.return=t,n.return=t,r.sibling=n,t.child=r,n=t.child,n.memoizedState=Xr(a),n.childLanes=Jr(e,l,a),t.memoizedState=Qr,Hi(null,n)):(Oa(t),Wo(t,r))}var u=e.memoizedState;if(u!==null&&(r=u.dehydrated,r!==null)){if(s)t.flags&256?(Oa(t),t.flags&=-257,t=Zr(e,t,a)):t.memoizedState!==null?(Ca(),t.child=e.child,t.flags|=128,t=null):(Ca(),r=n.fallback,i=t.mode,n=Ll({mode:"visible",children:n.children},i),r=hn(r,i,a,null),r.flags|=2,n.return=t,r.return=t,n.sibling=r,t.child=n,yn(t,e.child,null,a),n=t.child,n.memoizedState=Xr(a),n.childLanes=Jr(e,l,a),t.memoizedState=Qr,t=Hi(null,n));else if(Oa(t),cu(r)){if(l=r.nextSibling&&r.nextSibling.dataset,l)var c=l.dgst;l=c,n=Error(E(419)),n.stack="",n.digest=l,cs({value:n,source:null,stack:null}),t=Zr(e,t,a)}else if(Ve||wi(e,t,a,!1),l=(a&e.childLanes)!==0,Ve||l){if(l=be,l!==null&&(n=tf(l,a),n!==0&&n!==u.retryLane))throw u.retryLane=n,xn(e,n),mt(l,e,n),cc;uu(r)||Vl(),t=Zr(e,t,a)}else uu(r)?(t.flags|=192,t.child=e.child,t=null):(e=u.treeContext,Ee=Bt(r.nextSibling),nt=t,se=!0,Ba=null,Mt=!1,e!==null&&Df(t,e),t=Wo(t,n.children),t.flags|=4096);return t}return i?(Ca(),r=n.fallback,i=t.mode,u=e.child,c=u.sibling,n=ha(u,{mode:"hidden",children:n.children}),n.subtreeFlags=u.subtreeFlags&65011712,c!==null?r=ha(c,r):(r=hn(r,i,a,null),r.flags|=2),r.return=t,n.return=t,n.sibling=r,t.child=n,Hi(null,n),n=t.child,r=e.child.memoizedState,r===null?r=Xr(a):(i=r.cachePool,i!==null?(u=Ge._currentValue,i=i.parent!==u?{parent:u,pool:u}:i):i=kf(),r={baseLanes:r.baseLanes|a,cachePool:i}),n.memoizedState=r,n.childLanes=Jr(e,l,a),t.memoizedState=Qr,Hi(e.child,n)):(Oa(t),a=e.child,e=a.sibling,a=ha(a,{mode:"visible",children:n.children}),a.return=t,a.sibling=null,e!==null&&(l=t.deletions,l===null?(t.deletions=[e],t.flags|=16):l.push(e)),t.child=a,t.memoizedState=null,a)}function Wo(e,t){return t=Ll({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function Ll(e,t){return e=St(22,e,null,t),e.lanes=0,e}function Zr(e,t,a){return yn(t,e.child,null,a),e=Wo(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Td(e,t,a){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),Bo(e.return,t,a)}function Ir(e,t,a,n,i,s){var l=e.memoizedState;l===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:a,tailMode:i,treeForkCount:s}:(l.isBackwards=t,l.rendering=null,l.renderingStartTime=0,l.last=n,l.tail=a,l.tailMode=i,l.treeForkCount=s)}function Am(e,t,a){var n=t.pendingProps,i=n.revealOrder,s=n.tail;n=n.children;var l=Ue.current,r=(l&2)!==0;if(r?(l=l&1|2,t.flags|=128):l&=1,Se(Ue,l),tt(e,t,n,a),n=se?us:0,!r&&e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Td(e,a,t);else if(e.tag===19)Td(e,a,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(i){case"forwards":for(a=t.child,i=null;a!==null;)e=a.alternate,e!==null&&zl(e)===null&&(i=a),a=a.sibling;a=i,a===null?(i=t.child,t.child=null):(i=a.sibling,a.sibling=null),Ir(t,!1,i,a,s,n);break;case"backwards":case"unstable_legacy-backwards":for(a=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&zl(e)===null){t.child=i;break}e=i.sibling,i.sibling=a,a=i,i=e}Ir(t,!0,a,null,s,n);break;case"together":Ir(t,!1,null,null,void 0,n);break;default:t.memoizedState=null}return t.child}function ya(e,t,a){if(e!==null&&(t.dependencies=e.dependencies),Za|=t.lanes,!(a&t.childLanes))if(e!==null){if(wi(e,t,a,!1),(a&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(E(153));if(t.child!==null){for(e=t.child,a=ha(e,e.pendingProps),t.child=a,a.return=t;e.sibling!==null;)e=e.sibling,a=a.sibling=ha(e,e.pendingProps),a.return=t;a.sibling=null}return t.child}function dc(e,t){return e.lanes&t?!0:(e=e.dependencies,!!(e!==null&&Dl(e)))}function Qp(e,t,a){switch(t.tag){case 3:jl(t,t.stateNode.containerInfo),Aa(t,Ge,e.memoizedState.cache),gn();break;case 27:case 5:jo(t);break;case 4:jl(t,t.stateNode.containerInfo);break;case 10:Aa(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,Yo(t),null;break;case 13:var n=t.memoizedState;if(n!==null)return n.dehydrated!==null?(Oa(t),t.flags|=128,null):a&t.child.childLanes?Tm(e,t,a):(Oa(t),e=ya(e,t,a),e!==null?e.sibling:null);Oa(t);break;case 19:var i=(e.flags&128)!==0;if(n=(a&t.childLanes)!==0,n||(wi(e,t,a,!1),n=(a&t.childLanes)!==0),i){if(n)return Am(e,t,a);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Se(Ue,Ue.current),n)break;return null;case 22:return t.lanes=0,jm(e,t,a,t.pendingProps);case 24:Aa(t,Ge,e.memoizedState.cache)}return ya(e,t,a)}function Om(e,t,a){if(e!==null)if(e.memoizedProps!==t.pendingProps)Ve=!0;else{if(!dc(e,a)&&!(t.flags&128))return Ve=!1,Qp(e,t,a);Ve=!!(e.flags&131072)}else Ve=!1,se&&t.flags&1048576&&Rf(t,us,t.index);switch(t.lanes=0,t.tag){case 16:e:{var n=t.pendingProps;if(e=sn(t.elementType),t.type=e,typeof e=="function")Vu(e)?(n=_n(e,n),t.tag=1,t=xd(null,t,e,n,a)):(t.tag=0,t=Io(null,t,e,n,a));else{if(e!=null){var i=e.$$typeof;if(i===Cu){t.tag=11,t=bd(null,t,e,n,a);break e}else if(i===Nu){t.tag=14,t=_d(null,t,e,n,a);break e}}throw t=Eo(e)||e,Error(E(306,t,""))}}return t;case 0:return Io(e,t,t.type,t.pendingProps,a);case 1:return n=t.type,i=_n(n,t.pendingProps),xd(e,t,n,i,a);case 3:e:{if(jl(t,t.stateNode.containerInfo),e===null)throw Error(E(387));n=t.pendingProps;var s=t.memoizedState;i=s.element,$o(e,t),Ii(t,n,null,a);var l=t.memoizedState;if(n=l.cache,Aa(t,Ge,n),n!==s.cache&&Lo(t,[Ge],a,!0),Zi(),n=l.element,s.isDehydrated)if(s={element:n,isDehydrated:!1,cache:l.cache},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){t=jd(e,t,n,a);break e}else if(n!==i){i=zt(Error(E(424)),t),cs(i),t=jd(e,t,n,a);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Ee=Bt(e.firstChild),nt=t,se=!0,Ba=null,Mt=!0,a=qf(t,null,n,a),t.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(gn(),n===i){t=ya(e,t,a);break e}tt(e,t,n,a)}t=t.child}return t;case 26:return yl(e,t),e===null?(a=Qd(t.type,null,t.pendingProps,null))?t.memoizedState=a:se||(a=t.type,e=t.pendingProps,n=Xl(qa.current).createElement(a),n[at]=t,n[vt]=e,st(n,a,e),Ie(n),t.stateNode=n):t.memoizedState=Qd(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return jo(t),e===null&&se&&(n=t.stateNode=yv(t.type,t.pendingProps,qa.current),nt=t,Mt=!0,i=Ee,Wa(t.type)?(du=i,Ee=Bt(n.firstChild)):Ee=i),tt(e,t,t.pendingProps.children,a),yl(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&se&&((i=n=Ee)&&(n=wy(n,t.type,t.pendingProps,Mt),n!==null?(t.stateNode=n,nt=t,Ee=Bt(n.firstChild),Mt=!1,i=!0):i=!1),i||Xa(t)),jo(t),i=t.type,s=t.pendingProps,l=e!==null?e.memoizedProps:null,n=s.children,ru(i,s)?n=null:l!==null&&ru(i,l)&&(t.flags|=32),t.memoizedState!==null&&(i=Pu(e,t,qp,null,null,a),gs._currentValue=i),yl(e,t),tt(e,t,n,a),t.child;case 6:return e===null&&se&&((e=a=Ee)&&(a=Ey(a,t.pendingProps,Mt),a!==null?(t.stateNode=a,nt=t,Ee=null,e=!0):e=!1),e||Xa(t)),null;case 13:return Tm(e,t,a);case 4:return jl(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=yn(t,null,n,a):tt(e,t,n,a),t.child;case 11:return bd(e,t,t.type,t.pendingProps,a);case 7:return tt(e,t,t.pendingProps,a),t.child;case 8:return tt(e,t,t.pendingProps.children,a),t.child;case 12:return tt(e,t,t.pendingProps.children,a),t.child;case 10:return n=t.pendingProps,Aa(t,t.type,n.value),tt(e,t,n.children,a),t.child;case 9:return i=t.type._context,n=t.pendingProps.children,pn(t),i=it(i),n=n(i),t.flags|=1,tt(e,t,n,a),t.child;case 14:return _d(e,t,t.type,t.pendingProps,a);case 15:return xm(e,t,t.type,t.pendingProps,a);case 19:return Am(e,t,a);case 31:return Kp(e,t,a);case 22:return jm(e,t,a,t.pendingProps);case 24:return pn(t),n=it(Ge),e===null?(i=Xu(),i===null&&(i=be,s=Qu(),i.pooledCache=s,s.refCount++,s!==null&&(i.pooledCacheLanes|=a),i=s),t.memoizedState={parent:n,cache:i},Zu(t),Aa(t,Ge,i)):(e.lanes&a&&($o(e,t),Ii(t,null,null,a),Zi()),i=e.memoizedState,s=t.memoizedState,i.parent!==n?(i={parent:n,cache:n},t.memoizedState=i,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=i),Aa(t,Ge,n)):(n=s.cache,Aa(t,Ge,n),n!==i.cache&&Lo(t,[Ge],a,!0))),tt(e,t,t.pendingProps.children,a),t.child;case 29:throw t.pendingProps}throw Error(E(156,t.tag))}function aa(e){e.flags|=4}function Wr(e,t,a,n,i){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(i&335544128)===i)if(e.stateNode.complete)e.flags|=8192;else if(Pm())e.flags|=8192;else throw mn=Ul,Ju}else e.flags&=-16777217}function Ad(e,t){if(t.type!=="stylesheet"||t.state.loading&4)e.flags&=-16777217;else if(e.flags|=16777216,!Sv(t))if(Pm())e.flags|=8192;else throw mn=Ul,Ju}function Is(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?Ph():536870912,e.lanes|=t,mi|=t)}function Ui(e,t){if(!se)switch(e.tailMode){case"hidden":t=e.tail;for(var a=null;t!==null;)t.alternate!==null&&(a=t),t=t.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var n=null;a!==null;)a.alternate!==null&&(n=a),a=a.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function we(e){var t=e.alternate!==null&&e.alternate.child===e.child,a=0,n=0;if(t)for(var i=e.child;i!==null;)a|=i.lanes|i.childLanes,n|=i.subtreeFlags&65011712,n|=i.flags&65011712,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)a|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=n,e.childLanes=a,t}function Xp(e,t,a){var n=t.pendingProps;switch(Ku(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return we(t),null;case 1:return we(t),null;case 3:return a=t.stateNode,n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),fa(Ge),oi(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(An(t)?aa(t):e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Gr())),we(t),null;case 26:var i=t.type,s=t.memoizedState;return e===null?(aa(t),s!==null?(we(t),Ad(t,s)):(we(t),Wr(t,i,null,n,a))):s?s!==e.memoizedState?(aa(t),we(t),Ad(t,s)):(we(t),t.flags&=-16777217):(e=e.memoizedProps,e!==n&&aa(t),we(t),Wr(t,i,e,n,a)),null;case 27:if(Tl(t),a=qa.current,i=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==n&&aa(t);else{if(!n){if(t.stateNode===null)throw Error(E(166));return we(t),null}e=Wt.current,An(t)?ad(t):(e=yv(i,n,a),t.stateNode=e,aa(t))}return we(t),null;case 5:if(Tl(t),i=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==n&&aa(t);else{if(!n){if(t.stateNode===null)throw Error(E(166));return we(t),null}if(s=Wt.current,An(t))ad(t);else{var l=Xl(qa.current);switch(s){case 1:s=l.createElementNS("http://www.w3.org/2000/svg",i);break;case 2:s=l.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;default:switch(i){case"svg":s=l.createElementNS("http://www.w3.org/2000/svg",i);break;case"math":s=l.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;case"script":s=l.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild);break;case"select":s=typeof n.is=="string"?l.createElement("select",{is:n.is}):l.createElement("select"),n.multiple?s.multiple=!0:n.size&&(s.size=n.size);break;default:s=typeof n.is=="string"?l.createElement(i,{is:n.is}):l.createElement(i)}}s[at]=t,s[vt]=n;e:for(l=t.child;l!==null;){if(l.tag===5||l.tag===6)s.appendChild(l.stateNode);else if(l.tag!==4&&l.tag!==27&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===t)break e;for(;l.sibling===null;){if(l.return===null||l.return===t)break e;l=l.return}l.sibling.return=l.return,l=l.sibling}t.stateNode=s;e:switch(st(s,i,n),i){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}n&&aa(t)}}return we(t),Wr(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,a),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==n&&aa(t);else{if(typeof n!="string"&&t.stateNode===null)throw Error(E(166));if(e=qa.current,An(t)){if(e=t.stateNode,a=t.memoizedProps,n=null,i=nt,i!==null)switch(i.tag){case 27:case 5:n=i.memoizedProps}e[at]=t,e=!!(e.nodeValue===a||n!==null&&n.suppressHydrationWarning===!0||mv(e.nodeValue,a)),e||Xa(t,!0)}else e=Xl(e).createTextNode(n),e[at]=t,t.stateNode=e}return we(t),null;case 31:if(a=t.memoizedState,e===null||e.memoizedState!==null){if(n=An(t),a!==null){if(e===null){if(!n)throw Error(E(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(E(557));e[at]=t}else gn(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;we(t),e=!1}else a=Gr(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),e=!0;if(!e)return t.flags&256?(_t(t),t):(_t(t),null);if(t.flags&128)throw Error(E(558))}return we(t),null;case 13:if(n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(i=An(t),n!==null&&n.dehydrated!==null){if(e===null){if(!i)throw Error(E(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(E(317));i[at]=t}else gn(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;we(t),i=!1}else i=Gr(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=i),i=!0;if(!i)return t.flags&256?(_t(t),t):(_t(t),null)}return _t(t),t.flags&128?(t.lanes=a,t):(a=n!==null,e=e!==null&&e.memoizedState!==null,a&&(n=t.child,i=null,n.alternate!==null&&n.alternate.memoizedState!==null&&n.alternate.memoizedState.cachePool!==null&&(i=n.alternate.memoizedState.cachePool.pool),s=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(s=n.memoizedState.cachePool.pool),s!==i&&(n.flags|=2048)),a!==e&&a&&(t.child.flags|=8192),Is(t,t.updateQueue),we(t),null);case 4:return oi(),e===null&&yc(t.stateNode.containerInfo),we(t),null;case 10:return fa(t.type),we(t),null;case 19:if(We(Ue),n=t.memoizedState,n===null)return we(t),null;if(i=(t.flags&128)!==0,s=n.rendering,s===null)if(i)Ui(n,!1);else{if(De!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(s=zl(e),s!==null){for(t.flags|=128,Ui(n,!1),e=s.updateQueue,t.updateQueue=e,Is(t,e),t.subtreeFlags=0,e=a,a=t.child;a!==null;)Cf(a,e),a=a.sibling;return Se(Ue,Ue.current&1|2),se&&ra(t,n.treeForkCount),t.child}e=e.sibling}n.tail!==null&&xt()>$l&&(t.flags|=128,i=!0,Ui(n,!1),t.lanes=4194304)}else{if(!i)if(e=zl(s),e!==null){if(t.flags|=128,i=!0,e=e.updateQueue,t.updateQueue=e,Is(t,e),Ui(n,!0),n.tail===null&&n.tailMode==="hidden"&&!s.alternate&&!se)return we(t),null}else 2*xt()-n.renderingStartTime>$l&&a!==536870912&&(t.flags|=128,i=!0,Ui(n,!1),t.lanes=4194304);n.isBackwards?(s.sibling=t.child,t.child=s):(e=n.last,e!==null?e.sibling=s:t.child=s,n.last=s)}return n.tail!==null?(e=n.tail,n.rendering=e,n.tail=e.sibling,n.renderingStartTime=xt(),e.sibling=null,a=Ue.current,Se(Ue,i?a&1|2:a&1),se&&ra(t,n.treeForkCount),e):(we(t),null);case 22:case 23:return _t(t),Iu(),n=t.memoizedState!==null,e!==null?e.memoizedState!==null!==n&&(t.flags|=8192):n&&(t.flags|=8192),n?a&536870912&&!(t.flags&128)&&(we(t),t.subtreeFlags&6&&(t.flags|=8192)):we(t),a=t.updateQueue,a!==null&&Is(t,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),n=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),n!==a&&(t.flags|=2048),e!==null&&We(fn),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),fa(Ge),we(t),null;case 25:return null;case 30:return null}throw Error(E(156,t.tag))}function Jp(e,t){switch(Ku(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return fa(Ge),oi(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return Tl(t),null;case 31:if(t.memoizedState!==null){if(_t(t),t.alternate===null)throw Error(E(340));gn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(_t(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(E(340));gn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return We(Ue),null;case 4:return oi(),null;case 10:return fa(t.type),null;case 22:case 23:return _t(t),Iu(),e!==null&&We(fn),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return fa(Ge),null;case 25:return null;default:return null}}function Cm(e,t){switch(Ku(t),t.tag){case 3:fa(Ge),oi();break;case 26:case 27:case 5:Tl(t);break;case 4:oi();break;case 31:t.memoizedState!==null&&_t(t);break;case 13:_t(t);break;case 19:We(Ue);break;case 10:fa(t.type);break;case 22:case 23:_t(t),Iu(),e!==null&&We(fn);break;case 24:fa(Ge)}}function ks(e,t){try{var a=t.updateQueue,n=a!==null?a.lastEffect:null;if(n!==null){var i=n.next;a=i;do{if((a.tag&e)===e){n=void 0;var s=a.create,l=a.inst;n=s(),l.destroy=n}a=a.next}while(a!==i)}}catch(r){me(t,t.return,r)}}function Ja(e,t,a){try{var n=t.updateQueue,i=n!==null?n.lastEffect:null;if(i!==null){var s=i.next;n=s;do{if((n.tag&e)===e){var l=n.inst,r=l.destroy;if(r!==void 0){l.destroy=void 0,i=t;var u=a,c=r;try{c()}catch(d){me(i,u,d)}}}n=n.next}while(n!==s)}}catch(d){me(t,t.return,d)}}function Nm(e){var t=e.updateQueue;if(t!==null){var a=e.stateNode;try{Lf(t,a)}catch(n){me(e,e.return,n)}}}function Rm(e,t,a){a.props=_n(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(n){me(e,t,n)}}function Pi(e,t){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var n=e.stateNode;break;case 30:n=e.stateNode;break;default:n=e.stateNode}typeof a=="function"?e.refCleanup=a(n):a.current=n}}catch(i){me(e,t,i)}}function It(e,t){var a=e.ref,n=e.refCleanup;if(a!==null)if(typeof n=="function")try{n()}catch(i){me(e,t,i)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(i){me(e,t,i)}else a.current=null}function Dm(e){var t=e.type,a=e.memoizedProps,n=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":a.autoFocus&&n.focus();break e;case"img":a.src?n.src=a.src:a.srcSet&&(n.srcset=a.srcSet)}}catch(i){me(e,e.return,i)}}function Pr(e,t,a){try{var n=e.stateNode;gy(n,e.type,a,t),n[vt]=t}catch(i){me(e,e.return,i)}}function Um(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Wa(e.type)||e.tag===4}function Fr(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Um(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Wa(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Po(e,t,a){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,t):(t=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,t.appendChild(e),a=a._reactRootContainer,a!=null||t.onclick!==null||(t.onclick=ca));else if(n!==4&&(n===27&&Wa(e.type)&&(a=e.stateNode,t=null),e=e.child,e!==null))for(Po(e,t,a),e=e.sibling;e!==null;)Po(e,t,a),e=e.sibling}function Hl(e,t,a){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?a.insertBefore(e,t):a.appendChild(e);else if(n!==4&&(n===27&&Wa(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(Hl(e,t,a),e=e.sibling;e!==null;)Hl(e,t,a),e=e.sibling}function km(e){var t=e.stateNode,a=e.memoizedProps;try{for(var n=e.type,i=t.attributes;i.length;)t.removeAttributeNode(i[0]);st(t,n,a),t[at]=e,t[vt]=a}catch(s){me(e,e.return,s)}}var oa=!1,$e=!1,eo=!1,Od=typeof WeakSet=="function"?WeakSet:Set,Ze=null;function Zp(e,t){if(e=e.containerInfo,su=Wl,e=Sf(e),Hu(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else e:{a=(a=e.ownerDocument)&&a.defaultView||window;var n=a.getSelection&&a.getSelection();if(n&&n.rangeCount!==0){a=n.anchorNode;var i=n.anchorOffset,s=n.focusNode;n=n.focusOffset;try{a.nodeType,s.nodeType}catch{a=null;break e}var l=0,r=-1,u=-1,c=0,d=0,v=e,h=null;t:for(;;){for(var f;v!==a||i!==0&&v.nodeType!==3||(r=l+i),v!==s||n!==0&&v.nodeType!==3||(u=l+n),v.nodeType===3&&(l+=v.nodeValue.length),(f=v.firstChild)!==null;)h=v,v=f;for(;;){if(v===e)break t;if(h===a&&++c===i&&(r=l),h===s&&++d===n&&(u=l),(f=v.nextSibling)!==null)break;v=h,h=v.parentNode}v=f}a=r===-1||u===-1?null:{start:r,end:u}}else a=null}a=a||{start:0,end:0}}else a=null;for(lu={focusedElem:e,selectionRange:a},Wl=!1,Ze=t;Ze!==null;)if(t=Ze,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Ze=e;else for(;Ze!==null;){switch(t=Ze,s=t.alternate,e=t.flags,t.tag){case 0:if(e&4&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(a=0;a<e.length;a++)i=e[a],i.ref.impl=i.nextImpl;break;case 11:case 15:break;case 1:if(e&1024&&s!==null){e=void 0,a=t,i=s.memoizedProps,s=s.memoizedState,n=a.stateNode;try{var y=_n(a.type,i);e=n.getSnapshotBeforeUpdate(y,s),n.__reactInternalSnapshotBeforeUpdate=e}catch(S){me(a,a.return,S)}}break;case 3:if(e&1024){if(e=t.stateNode.containerInfo,a=e.nodeType,a===9)ou(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":ou(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(e&1024)throw Error(E(163))}if(e=t.sibling,e!==null){e.return=t.return,Ze=e;break}Ze=t.return}}function zm(e,t,a){var n=a.flags;switch(a.tag){case 0:case 11:case 15:ia(e,a),n&4&&ks(5,a);break;case 1:if(ia(e,a),n&4)if(e=a.stateNode,t===null)try{e.componentDidMount()}catch(l){me(a,a.return,l)}else{var i=_n(a.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(i,t,e.__reactInternalSnapshotBeforeUpdate)}catch(l){me(a,a.return,l)}}n&64&&Nm(a),n&512&&Pi(a,a.return);break;case 3:if(ia(e,a),n&64&&(e=a.updateQueue,e!==null)){if(t=null,a.child!==null)switch(a.child.tag){case 27:case 5:t=a.child.stateNode;break;case 1:t=a.child.stateNode}try{Lf(e,t)}catch(l){me(a,a.return,l)}}break;case 27:t===null&&n&4&&km(a);case 26:case 5:ia(e,a),t===null&&n&4&&Dm(a),n&512&&Pi(a,a.return);break;case 12:ia(e,a);break;case 31:ia(e,a),n&4&&Bm(e,a);break;case 13:ia(e,a),n&4&&Lm(e,a),n&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=iy.bind(null,a),xy(e,a))));break;case 22:if(n=a.memoizedState!==null||oa,!n){t=t!==null&&t.memoizedState!==null||$e,i=oa;var s=$e;oa=n,($e=t)&&!s?sa(e,a,(a.subtreeFlags&8772)!==0):ia(e,a),oa=i,$e=s}break;case 30:break;default:ia(e,a)}}function Mm(e){var t=e.alternate;t!==null&&(e.alternate=null,Mm(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&ku(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Oe=null,ht=!1;function na(e,t,a){for(a=a.child;a!==null;)qm(e,t,a),a=a.sibling}function qm(e,t,a){if(jt&&typeof jt.onCommitFiberUnmount=="function")try{jt.onCommitFiberUnmount(As,a)}catch{}switch(a.tag){case 26:$e||It(a,t),na(e,t,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:$e||It(a,t);var n=Oe,i=ht;Wa(a.type)&&(Oe=a.stateNode,ht=!1),na(e,t,a),as(a.stateNode),Oe=n,ht=i;break;case 5:$e||It(a,t);case 6:if(n=Oe,i=ht,Oe=null,na(e,t,a),Oe=n,ht=i,Oe!==null)if(ht)try{(Oe.nodeType===9?Oe.body:Oe.nodeName==="HTML"?Oe.ownerDocument.body:Oe).removeChild(a.stateNode)}catch(s){me(a,t,s)}else try{Oe.removeChild(a.stateNode)}catch(s){me(a,t,s)}break;case 18:Oe!==null&&(ht?(e=Oe,$d(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),yi(e)):$d(Oe,a.stateNode));break;case 4:n=Oe,i=ht,Oe=a.stateNode.containerInfo,ht=!0,na(e,t,a),Oe=n,ht=i;break;case 0:case 11:case 14:case 15:Ja(2,a,t),$e||Ja(4,a,t),na(e,t,a);break;case 1:$e||(It(a,t),n=a.stateNode,typeof n.componentWillUnmount=="function"&&Rm(a,t,n)),na(e,t,a);break;case 21:na(e,t,a);break;case 22:$e=(n=$e)||a.memoizedState!==null,na(e,t,a),$e=n;break;default:na(e,t,a)}}function Bm(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{yi(e)}catch(a){me(t,t.return,a)}}}function Lm(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{yi(e)}catch(a){me(t,t.return,a)}}function Ip(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new Od),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new Od),t;default:throw Error(E(435,e.tag))}}function Ws(e,t){var a=Ip(e);t.forEach(function(n){if(!a.has(n)){a.add(n);var i=sy.bind(null,e,n);n.then(i,i)}})}function ct(e,t){var a=t.deletions;if(a!==null)for(var n=0;n<a.length;n++){var i=a[n],s=e,l=t,r=l;e:for(;r!==null;){switch(r.tag){case 27:if(Wa(r.type)){Oe=r.stateNode,ht=!1;break e}break;case 5:Oe=r.stateNode,ht=!1;break e;case 3:case 4:Oe=r.stateNode.containerInfo,ht=!0;break e}r=r.return}if(Oe===null)throw Error(E(160));qm(s,l,i),Oe=null,ht=!1,s=i.alternate,s!==null&&(s.return=null),i.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)Hm(t,e),t=t.sibling}var Yt=null;function Hm(e,t){var a=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:ct(t,e),dt(e),n&4&&(Ja(3,e,e.return),ks(3,e),Ja(5,e,e.return));break;case 1:ct(t,e),dt(e),n&512&&($e||a===null||It(a,a.return)),n&64&&oa&&(e=e.updateQueue,e!==null&&(n=e.callbacks,n!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?n:a.concat(n))));break;case 26:var i=Yt;if(ct(t,e),dt(e),n&512&&($e||a===null||It(a,a.return)),n&4){var s=a!==null?a.memoizedState:null;if(n=e.memoizedState,a===null)if(n===null)if(e.stateNode===null){e:{n=e.type,a=e.memoizedProps,i=i.ownerDocument||i;t:switch(n){case"title":s=i.getElementsByTagName("title")[0],(!s||s[Ns]||s[at]||s.namespaceURI==="http://www.w3.org/2000/svg"||s.hasAttribute("itemprop"))&&(s=i.createElement(n),i.head.insertBefore(s,i.querySelector("head > title"))),st(s,n,a),s[at]=e,Ie(s),n=s;break e;case"link":var l=Jd("link","href",i).get(n+(a.href||""));if(l){for(var r=0;r<l.length;r++)if(s=l[r],s.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&s.getAttribute("rel")===(a.rel==null?null:a.rel)&&s.getAttribute("title")===(a.title==null?null:a.title)&&s.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){l.splice(r,1);break t}}s=i.createElement(n),st(s,n,a),i.head.appendChild(s);break;case"meta":if(l=Jd("meta","content",i).get(n+(a.content||""))){for(r=0;r<l.length;r++)if(s=l[r],s.getAttribute("content")===(a.content==null?null:""+a.content)&&s.getAttribute("name")===(a.name==null?null:a.name)&&s.getAttribute("property")===(a.property==null?null:a.property)&&s.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&s.getAttribute("charset")===(a.charSet==null?null:a.charSet)){l.splice(r,1);break t}}s=i.createElement(n),st(s,n,a),i.head.appendChild(s);break;default:throw Error(E(468,n))}s[at]=e,Ie(s),n=s}e.stateNode=n}else Zd(i,e.type,e.stateNode);else e.stateNode=Xd(i,n,e.memoizedProps);else s!==n?(s===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):s.count--,n===null?Zd(i,e.type,e.stateNode):Xd(i,n,e.memoizedProps)):n===null&&e.stateNode!==null&&Pr(e,e.memoizedProps,a.memoizedProps)}break;case 27:ct(t,e),dt(e),n&512&&($e||a===null||It(a,a.return)),a!==null&&n&4&&Pr(e,e.memoizedProps,a.memoizedProps);break;case 5:if(ct(t,e),dt(e),n&512&&($e||a===null||It(a,a.return)),e.flags&32){i=e.stateNode;try{ci(i,"")}catch(y){me(e,e.return,y)}}n&4&&e.stateNode!=null&&(i=e.memoizedProps,Pr(e,i,a!==null?a.memoizedProps:i)),n&1024&&(eo=!0);break;case 6:if(ct(t,e),dt(e),n&4){if(e.stateNode===null)throw Error(E(162));n=e.memoizedProps,a=e.stateNode;try{a.nodeValue=n}catch(y){me(e,e.return,y)}}break;case 3:if(Sl=null,i=Yt,Yt=Jl(t.containerInfo),ct(t,e),Yt=i,dt(e),n&4&&a!==null&&a.memoizedState.isDehydrated)try{yi(t.containerInfo)}catch(y){me(e,e.return,y)}eo&&(eo=!1,$m(e));break;case 4:n=Yt,Yt=Jl(e.stateNode.containerInfo),ct(t,e),dt(e),Yt=n;break;case 12:ct(t,e),dt(e);break;case 31:ct(t,e),dt(e),n&4&&(n=e.updateQueue,n!==null&&(e.updateQueue=null,Ws(e,n)));break;case 13:ct(t,e),dt(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(gr=xt()),n&4&&(n=e.updateQueue,n!==null&&(e.updateQueue=null,Ws(e,n)));break;case 22:i=e.memoizedState!==null;var u=a!==null&&a.memoizedState!==null,c=oa,d=$e;if(oa=c||i,$e=d||u,ct(t,e),$e=d,oa=c,dt(e),n&8192)e:for(t=e.stateNode,t._visibility=i?t._visibility&-2:t._visibility|1,i&&(a===null||u||oa||$e||ln(e)),a=null,t=e;;){if(t.tag===5||t.tag===26){if(a===null){u=a=t;try{if(s=u.stateNode,i)l=s.style,typeof l.setProperty=="function"?l.setProperty("display","none","important"):l.display="none";else{r=u.stateNode;var v=u.memoizedProps.style,h=v!=null&&v.hasOwnProperty("display")?v.display:null;r.style.display=h==null||typeof h=="boolean"?"":(""+h).trim()}}catch(y){me(u,u.return,y)}}}else if(t.tag===6){if(a===null){u=t;try{u.stateNode.nodeValue=i?"":u.memoizedProps}catch(y){me(u,u.return,y)}}}else if(t.tag===18){if(a===null){u=t;try{var f=u.stateNode;i?Gd(f,!0):Gd(u.stateNode,!1)}catch(y){me(u,u.return,y)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;a===t&&(a=null),t=t.return}a===t&&(a=null),t.sibling.return=t.return,t=t.sibling}n&4&&(n=e.updateQueue,n!==null&&(a=n.retryQueue,a!==null&&(n.retryQueue=null,Ws(e,a))));break;case 19:ct(t,e),dt(e),n&4&&(n=e.updateQueue,n!==null&&(e.updateQueue=null,Ws(e,n)));break;case 30:break;case 21:break;default:ct(t,e),dt(e)}}function dt(e){var t=e.flags;if(t&2){try{for(var a,n=e.return;n!==null;){if(Um(n)){a=n;break}n=n.return}if(a==null)throw Error(E(160));switch(a.tag){case 27:var i=a.stateNode,s=Fr(e);Hl(e,s,i);break;case 5:var l=a.stateNode;a.flags&32&&(ci(l,""),a.flags&=-33);var r=Fr(e);Hl(e,r,l);break;case 3:case 4:var u=a.stateNode.containerInfo,c=Fr(e);Po(e,c,u);break;default:throw Error(E(161))}}catch(d){me(e,e.return,d)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function $m(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;$m(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function ia(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)zm(e,t.alternate,t),t=t.sibling}function ln(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Ja(4,t,t.return),ln(t);break;case 1:It(t,t.return);var a=t.stateNode;typeof a.componentWillUnmount=="function"&&Rm(t,t.return,a),ln(t);break;case 27:as(t.stateNode);case 26:case 5:It(t,t.return),ln(t);break;case 22:t.memoizedState===null&&ln(t);break;case 30:ln(t);break;default:ln(t)}e=e.sibling}}function sa(e,t,a){for(a=a&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var n=t.alternate,i=e,s=t,l=s.flags;switch(s.tag){case 0:case 11:case 15:sa(i,s,a),ks(4,s);break;case 1:if(sa(i,s,a),n=s,i=n.stateNode,typeof i.componentDidMount=="function")try{i.componentDidMount()}catch(c){me(n,n.return,c)}if(n=s,i=n.updateQueue,i!==null){var r=n.stateNode;try{var u=i.shared.hiddenCallbacks;if(u!==null)for(i.shared.hiddenCallbacks=null,i=0;i<u.length;i++)Bf(u[i],r)}catch(c){me(n,n.return,c)}}a&&l&64&&Nm(s),Pi(s,s.return);break;case 27:km(s);case 26:case 5:sa(i,s,a),a&&n===null&&l&4&&Dm(s),Pi(s,s.return);break;case 12:sa(i,s,a);break;case 31:sa(i,s,a),a&&l&4&&Bm(i,s);break;case 13:sa(i,s,a),a&&l&4&&Lm(i,s);break;case 22:s.memoizedState===null&&sa(i,s,a),Pi(s,s.return);break;case 30:break;default:sa(i,s,a)}t=t.sibling}}function hc(e,t){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&Ds(a))}function fc(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Ds(e))}function $t(e,t,a,n){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Gm(e,t,a,n),t=t.sibling}function Gm(e,t,a,n){var i=t.flags;switch(t.tag){case 0:case 11:case 15:$t(e,t,a,n),i&2048&&ks(9,t);break;case 1:$t(e,t,a,n);break;case 3:$t(e,t,a,n),i&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Ds(e)));break;case 12:if(i&2048){$t(e,t,a,n),e=t.stateNode;try{var s=t.memoizedProps,l=s.id,r=s.onPostCommit;typeof r=="function"&&r(l,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(u){me(t,t.return,u)}}else $t(e,t,a,n);break;case 31:$t(e,t,a,n);break;case 13:$t(e,t,a,n);break;case 23:break;case 22:s=t.stateNode,l=t.alternate,t.memoizedState!==null?s._visibility&2?$t(e,t,a,n):Fi(e,t):s._visibility&2?$t(e,t,a,n):(s._visibility|=2,Mn(e,t,a,n,(t.subtreeFlags&10256)!==0||!1)),i&2048&&hc(l,t);break;case 24:$t(e,t,a,n),i&2048&&fc(t.alternate,t);break;default:$t(e,t,a,n)}}function Mn(e,t,a,n,i){for(i=i&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var s=e,l=t,r=a,u=n,c=l.flags;switch(l.tag){case 0:case 11:case 15:Mn(s,l,r,u,i),ks(8,l);break;case 23:break;case 22:var d=l.stateNode;l.memoizedState!==null?d._visibility&2?Mn(s,l,r,u,i):Fi(s,l):(d._visibility|=2,Mn(s,l,r,u,i)),i&&c&2048&&hc(l.alternate,l);break;case 24:Mn(s,l,r,u,i),i&&c&2048&&fc(l.alternate,l);break;default:Mn(s,l,r,u,i)}t=t.sibling}}function Fi(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var a=e,n=t,i=n.flags;switch(n.tag){case 22:Fi(a,n),i&2048&&hc(n.alternate,n);break;case 24:Fi(a,n),i&2048&&fc(n.alternate,n);break;default:Fi(a,n)}t=t.sibling}}var $i=8192;function On(e,t,a){if(e.subtreeFlags&$i)for(e=e.child;e!==null;)Vm(e,t,a),e=e.sibling}function Vm(e,t,a){switch(e.tag){case 26:On(e,t,a),e.flags&$i&&e.memoizedState!==null&&My(a,Yt,e.memoizedState,e.memoizedProps);break;case 5:On(e,t,a);break;case 3:case 4:var n=Yt;Yt=Jl(e.stateNode.containerInfo),On(e,t,a),Yt=n;break;case 22:e.memoizedState===null&&(n=e.alternate,n!==null&&n.memoizedState!==null?(n=$i,$i=16777216,On(e,t,a),$i=n):On(e,t,a));break;default:On(e,t,a)}}function Ym(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function ki(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var a=0;a<t.length;a++){var n=t[a];Ze=n,Qm(n,e)}Ym(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Km(e),e=e.sibling}function Km(e){switch(e.tag){case 0:case 11:case 15:ki(e),e.flags&2048&&Ja(9,e,e.return);break;case 3:ki(e);break;case 12:ki(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,bl(e)):ki(e);break;default:ki(e)}}function bl(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var a=0;a<t.length;a++){var n=t[a];Ze=n,Qm(n,e)}Ym(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Ja(8,t,t.return),bl(t);break;case 22:a=t.stateNode,a._visibility&2&&(a._visibility&=-3,bl(t));break;default:bl(t)}e=e.sibling}}function Qm(e,t){for(;Ze!==null;){var a=Ze;switch(a.tag){case 0:case 11:case 15:Ja(8,a,t);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var n=a.memoizedState.cachePool.pool;n!=null&&n.refCount++}break;case 24:Ds(a.memoizedState.cache)}if(n=a.child,n!==null)n.return=a,Ze=n;else e:for(a=e;Ze!==null;){n=Ze;var i=n.sibling,s=n.return;if(Mm(n),n===a){Ze=null;break e}if(i!==null){i.return=s,Ze=i;break e}Ze=s}}}var Wp={getCacheForType:function(e){var t=it(Ge),a=t.data.get(e);return a===void 0&&(a=e(),t.data.set(e,a)),a},cacheSignal:function(){return it(Ge).controller.signal}},Pp=typeof WeakMap=="function"?WeakMap:Map,ce=0,be=null,ae=null,ne=0,fe=0,bt=null,ka=!1,xi=!1,mc=!1,ba=0,De=0,Za=0,vn=0,vc=0,Et=0,mi=0,es=null,ft=null,Fo=!1,gr=0,Xm=0,$l=1/0,Gl=null,$a=null,Xe=0,Ga=null,vi=null,ma=0,eu=0,tu=null,Jm=null,ts=0,au=null;function At(){return ce&2&&ne!==0?ne&-ne:J.T!==null?pc():af()}function Zm(){if(Et===0)if(!(ne&536870912)||se){var e=Vs;Vs<<=1,!(Vs&3932160)&&(Vs=262144),Et=e}else Et=536870912;return e=Ct.current,e!==null&&(e.flags|=32),Et}function mt(e,t,a){(e===be&&(fe===2||fe===9)||e.cancelPendingCommit!==null)&&(gi(e,0),za(e,ne,Et,!1)),Cs(e,a),(!(ce&2)||e!==be)&&(e===be&&(!(ce&2)&&(vn|=a),De===4&&za(e,ne,Et,!1)),Ft(e))}function Im(e,t,a){if(ce&6)throw Error(E(327));var n=!a&&(t&127)===0&&(t&e.expiredLanes)===0||Os(e,t),i=n?ty(e,t):to(e,t,!0),s=n;do{if(i===0){xi&&!n&&za(e,t,0,!1);break}else{if(a=e.current.alternate,s&&!Fp(a)){i=to(e,t,!1),s=!1;continue}if(i===2){if(s=t,e.errorRecoveryDisabledLanes&s)var l=0;else l=e.pendingLanes&-536870913,l=l!==0?l:l&536870912?536870912:0;if(l!==0){t=l;e:{var r=e;i=es;var u=r.current.memoizedState.isDehydrated;if(u&&(gi(r,l).flags|=256),l=to(r,l,!1),l!==2){if(mc&&!u){r.errorRecoveryDisabledLanes|=s,vn|=s,i=4;break e}s=ft,ft=i,s!==null&&(ft===null?ft=s:ft.push.apply(ft,s))}i=l}if(s=!1,i!==2)continue}}if(i===1){gi(e,0),za(e,t,0,!0);break}e:{switch(n=e,s=i,s){case 0:case 1:throw Error(E(345));case 4:if((t&4194048)!==t)break;case 6:za(n,t,Et,!ka);break e;case 2:ft=null;break;case 3:case 5:break;default:throw Error(E(329))}if((t&62914560)===t&&(i=gr+300-xt(),10<i)){if(za(n,t,Et,!ka),sr(n,0,!0)!==0)break e;ma=t,n.timeoutHandle=gv(Cd.bind(null,n,a,ft,Gl,Fo,t,Et,vn,mi,ka,s,"Throttled",-0,0),i);break e}Cd(n,a,ft,Gl,Fo,t,Et,vn,mi,ka,s,null,-0,0)}}break}while(!0);Ft(e)}function Cd(e,t,a,n,i,s,l,r,u,c,d,v,h,f){if(e.timeoutHandle=-1,v=t.subtreeFlags,v&8192||(v&16785408)===16785408){v={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ca},Vm(t,s,v);var y=(s&62914560)===s?gr-xt():(s&4194048)===s?Xm-xt():0;if(y=qy(v,y),y!==null){ma=s,e.cancelPendingCommit=y(Rd.bind(null,e,t,s,a,n,i,l,r,u,d,v,null,h,f)),za(e,s,l,!c);return}}Rd(e,t,s,a,n,i,l,r,u)}function Fp(e){for(var t=e;;){var a=t.tag;if((a===0||a===11||a===15)&&t.flags&16384&&(a=t.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var n=0;n<a.length;n++){var i=a[n],s=i.getSnapshot;i=i.value;try{if(!Ot(s(),i))return!1}catch{return!1}}if(a=t.child,t.subtreeFlags&16384&&a!==null)a.return=t,t=a;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function za(e,t,a,n){t&=~vc,t&=~vn,e.suspendedLanes|=t,e.pingedLanes&=~t,n&&(e.warmLanes|=t),n=e.expirationTimes;for(var i=t;0<i;){var s=31-Tt(i),l=1<<s;n[s]=-1,i&=~l}a!==0&&Fh(e,a,t)}function pr(){return ce&6?!0:(zs(0),!1)}function gc(){if(ae!==null){if(fe===0)var e=ae.return;else e=ae,da=jn=null,tc(e),ii=null,ds=0,e=ae;for(;e!==null;)Cm(e.alternate,e),e=e.return;ae=null}}function gi(e,t){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,by(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),ma=0,gc(),be=e,ae=a=ha(e.current,null),ne=t,fe=0,bt=null,ka=!1,xi=Os(e,t),mc=!1,mi=Et=vc=vn=Za=De=0,ft=es=null,Fo=!1,t&8&&(t|=t&32);var n=e.entangledLanes;if(n!==0)for(e=e.entanglements,n&=t;0<n;){var i=31-Tt(n),s=1<<i;t|=e[i],n&=~s}return ba=t,ur(),a}function Wm(e,t){F=null,J.H=fs,t===Ei||t===dr?(t=rd(),fe=3):t===Ju?(t=rd(),fe=4):fe=t===cc?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,bt=t,ae===null&&(De=1,Bl(e,zt(t,e.current)))}function Pm(){var e=Ct.current;return e===null?!0:(ne&4194048)===ne?qt===null:(ne&62914560)===ne||ne&536870912?e===qt:!1}function Fm(){var e=J.H;return J.H=fs,e===null?fs:e}function ev(){var e=J.A;return J.A=Wp,e}function Vl(){De=4,ka||(ne&4194048)!==ne&&Ct.current!==null||(xi=!0),!(Za&134217727)&&!(vn&134217727)||be===null||za(be,ne,Et,!1)}function to(e,t,a){var n=ce;ce|=2;var i=Fm(),s=ev();(be!==e||ne!==t)&&(Gl=null,gi(e,t)),t=!1;var l=De;e:do try{if(fe!==0&&ae!==null){var r=ae,u=bt;switch(fe){case 8:gc(),l=6;break e;case 3:case 2:case 9:case 6:Ct.current===null&&(t=!0);var c=fe;if(fe=0,bt=null,Pn(e,r,u,c),a&&xi){l=0;break e}break;default:c=fe,fe=0,bt=null,Pn(e,r,u,c)}}ey(),l=De;break}catch(d){Wm(e,d)}while(!0);return t&&e.shellSuspendCounter++,da=jn=null,ce=n,J.H=i,J.A=s,ae===null&&(be=null,ne=0,ur()),l}function ey(){for(;ae!==null;)tv(ae)}function ty(e,t){var a=ce;ce|=2;var n=Fm(),i=ev();be!==e||ne!==t?(Gl=null,$l=xt()+500,gi(e,t)):xi=Os(e,t);e:do try{if(fe!==0&&ae!==null){t=ae;var s=bt;t:switch(fe){case 1:fe=0,bt=null,Pn(e,t,s,1);break;case 2:case 9:if(ld(s)){fe=0,bt=null,Nd(t);break}t=function(){fe!==2&&fe!==9||be!==e||(fe=7),Ft(e)},s.then(t,t);break e;case 3:fe=7;break e;case 4:fe=5;break e;case 7:ld(s)?(fe=0,bt=null,Nd(t)):(fe=0,bt=null,Pn(e,t,s,7));break;case 5:var l=null;switch(ae.tag){case 26:l=ae.memoizedState;case 5:case 27:var r=ae;if(l?Sv(l):r.stateNode.complete){fe=0,bt=null;var u=r.sibling;if(u!==null)ae=u;else{var c=r.return;c!==null?(ae=c,yr(c)):ae=null}break t}}fe=0,bt=null,Pn(e,t,s,5);break;case 6:fe=0,bt=null,Pn(e,t,s,6);break;case 8:gc(),De=6;break e;default:throw Error(E(462))}}ay();break}catch(d){Wm(e,d)}while(!0);return da=jn=null,J.H=n,J.A=i,ce=a,ae!==null?0:(be=null,ne=0,ur(),De)}function ay(){for(;ae!==null&&!jg();)tv(ae)}function tv(e){var t=Om(e.alternate,e,ba);e.memoizedProps=e.pendingProps,t===null?yr(e):ae=t}function Nd(e){var t=e,a=t.alternate;switch(t.tag){case 15:case 0:t=Ed(a,t,t.pendingProps,t.type,void 0,ne);break;case 11:t=Ed(a,t,t.pendingProps,t.type.render,t.ref,ne);break;case 5:tc(t);default:Cm(a,t),t=ae=Cf(t,ba),t=Om(a,t,ba)}e.memoizedProps=e.pendingProps,t===null?yr(e):ae=t}function Pn(e,t,a,n){da=jn=null,tc(t),ii=null,ds=0;var i=t.return;try{if(Yp(e,i,t,a,ne)){De=1,Bl(e,zt(a,e.current)),ae=null;return}}catch(s){if(i!==null)throw ae=i,s;De=1,Bl(e,zt(a,e.current)),ae=null;return}t.flags&32768?(se||n===1?e=!0:xi||ne&536870912?e=!1:(ka=e=!0,(n===2||n===9||n===3||n===6)&&(n=Ct.current,n!==null&&n.tag===13&&(n.flags|=16384))),av(t,e)):yr(t)}function yr(e){var t=e;do{if(t.flags&32768){av(t,ka);return}e=t.return;var a=Xp(t.alternate,t,ba);if(a!==null){ae=a;return}if(t=t.sibling,t!==null){ae=t;return}ae=t=e}while(t!==null);De===0&&(De=5)}function av(e,t){do{var a=Jp(e.alternate,e);if(a!==null){a.flags&=32767,ae=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!t&&(e=e.sibling,e!==null)){ae=e;return}ae=e=a}while(e!==null);De=6,ae=null}function Rd(e,t,a,n,i,s,l,r,u){e.cancelPendingCommit=null;do br();while(Xe!==0);if(ce&6)throw Error(E(327));if(t!==null){if(t===e.current)throw Error(E(177));if(s=t.lanes|t.childLanes,s|=$u,zg(e,a,s,l,r,u),e===be&&(ae=be=null,ne=0),vi=t,Ga=e,ma=a,eu=s,tu=i,Jm=n,t.subtreeFlags&10256||t.flags&10256?(e.callbackNode=null,e.callbackPriority=0,ly(Al,function(){return rv(),null})):(e.callbackNode=null,e.callbackPriority=0),n=(t.flags&13878)!==0,t.subtreeFlags&13878||n){n=J.T,J.T=null,i=de.p,de.p=2,l=ce,ce|=4;try{Zp(e,t,a)}finally{ce=l,de.p=i,J.T=n}}Xe=1,nv(),iv(),sv()}}function nv(){if(Xe===1){Xe=0;var e=Ga,t=vi,a=(t.flags&13878)!==0;if(t.subtreeFlags&13878||a){a=J.T,J.T=null;var n=de.p;de.p=2;var i=ce;ce|=4;try{Hm(t,e);var s=lu,l=Sf(e.containerInfo),r=s.focusedElem,u=s.selectionRange;if(l!==r&&r&&r.ownerDocument&&_f(r.ownerDocument.documentElement,r)){if(u!==null&&Hu(r)){var c=u.start,d=u.end;if(d===void 0&&(d=c),"selectionStart"in r)r.selectionStart=c,r.selectionEnd=Math.min(d,r.value.length);else{var v=r.ownerDocument||document,h=v&&v.defaultView||window;if(h.getSelection){var f=h.getSelection(),y=r.textContent.length,S=Math.min(u.start,y),w=u.end===void 0?S:Math.min(u.end,y);!f.extend&&S>w&&(l=w,w=S,S=l);var g=Fc(r,S),m=Fc(r,w);if(g&&m&&(f.rangeCount!==1||f.anchorNode!==g.node||f.anchorOffset!==g.offset||f.focusNode!==m.node||f.focusOffset!==m.offset)){var p=v.createRange();p.setStart(g.node,g.offset),f.removeAllRanges(),S>w?(f.addRange(p),f.extend(m.node,m.offset)):(p.setEnd(m.node,m.offset),f.addRange(p))}}}}for(v=[],f=r;f=f.parentNode;)f.nodeType===1&&v.push({element:f,left:f.scrollLeft,top:f.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<v.length;r++){var _=v[r];_.element.scrollLeft=_.left,_.element.scrollTop=_.top}}Wl=!!su,lu=su=null}finally{ce=i,de.p=n,J.T=a}}e.current=t,Xe=2}}function iv(){if(Xe===2){Xe=0;var e=Ga,t=vi,a=(t.flags&8772)!==0;if(t.subtreeFlags&8772||a){a=J.T,J.T=null;var n=de.p;de.p=2;var i=ce;ce|=4;try{zm(e,t.alternate,t)}finally{ce=i,de.p=n,J.T=a}}Xe=3}}function sv(){if(Xe===4||Xe===3){Xe=0,Tg();var e=Ga,t=vi,a=ma,n=Jm;t.subtreeFlags&10256||t.flags&10256?Xe=5:(Xe=0,vi=Ga=null,lv(e,e.pendingLanes));var i=e.pendingLanes;if(i===0&&($a=null),Uu(a),t=t.stateNode,jt&&typeof jt.onCommitFiberRoot=="function")try{jt.onCommitFiberRoot(As,t,void 0,(t.current.flags&128)===128)}catch{}if(n!==null){t=J.T,i=de.p,de.p=2,J.T=null;try{for(var s=e.onRecoverableError,l=0;l<n.length;l++){var r=n[l];s(r.value,{componentStack:r.stack})}}finally{J.T=t,de.p=i}}ma&3&&br(),Ft(e),i=e.pendingLanes,a&261930&&i&42?e===au?ts++:(ts=0,au=e):ts=0,zs(0)}}function lv(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,Ds(t)))}function br(){return nv(),iv(),sv(),rv()}function rv(){if(Xe!==5)return!1;var e=Ga,t=eu;eu=0;var a=Uu(ma),n=J.T,i=de.p;try{de.p=32>a?32:a,J.T=null,a=tu,tu=null;var s=Ga,l=ma;if(Xe=0,vi=Ga=null,ma=0,ce&6)throw Error(E(331));var r=ce;if(ce|=4,Km(s.current),Gm(s,s.current,l,a),ce=r,zs(0,!1),jt&&typeof jt.onPostCommitFiberRoot=="function")try{jt.onPostCommitFiberRoot(As,s)}catch{}return!0}finally{de.p=i,J.T=n,lv(e,t)}}function Dd(e,t,a){t=zt(a,t),t=Zo(e.stateNode,t,2),e=Ha(e,t,2),e!==null&&(Cs(e,2),Ft(e))}function me(e,t,a){if(e.tag===3)Dd(e,e,a);else for(;t!==null;){if(t.tag===3){Dd(t,e,a);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&($a===null||!$a.has(n))){e=zt(a,e),a=wm(2),n=Ha(t,a,2),n!==null&&(Em(a,n,t,e),Cs(n,2),Ft(n));break}}t=t.return}}function ao(e,t,a){var n=e.pingCache;if(n===null){n=e.pingCache=new Pp;var i=new Set;n.set(t,i)}else i=n.get(t),i===void 0&&(i=new Set,n.set(t,i));i.has(a)||(mc=!0,i.add(a),e=ny.bind(null,e,t,a),t.then(e,e))}function ny(e,t,a){var n=e.pingCache;n!==null&&n.delete(t),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,be===e&&(ne&a)===a&&(De===4||De===3&&(ne&62914560)===ne&&300>xt()-gr?!(ce&2)&&gi(e,0):vc|=a,mi===ne&&(mi=0)),Ft(e)}function ov(e,t){t===0&&(t=Ph()),e=xn(e,t),e!==null&&(Cs(e,t),Ft(e))}function iy(e){var t=e.memoizedState,a=0;t!==null&&(a=t.retryLane),ov(e,a)}function sy(e,t){var a=0;switch(e.tag){case 31:case 13:var n=e.stateNode,i=e.memoizedState;i!==null&&(a=i.retryLane);break;case 19:n=e.stateNode;break;case 22:n=e.stateNode._retryCache;break;default:throw Error(E(314))}n!==null&&n.delete(t),ov(e,a)}function ly(e,t){return Ru(e,t)}var Yl=null,qn=null,nu=!1,Kl=!1,no=!1,Ma=0;function Ft(e){e!==qn&&e.next===null&&(qn===null?Yl=qn=e:qn=qn.next=e),Kl=!0,nu||(nu=!0,oy())}function zs(e,t){if(!no&&Kl){no=!0;do for(var a=!1,n=Yl;n!==null;){if(e!==0){var i=n.pendingLanes;if(i===0)var s=0;else{var l=n.suspendedLanes,r=n.pingedLanes;s=(1<<31-Tt(42|e)+1)-1,s&=i&~(l&~r),s=s&201326741?s&201326741|1:s?s|2:0}s!==0&&(a=!0,Ud(n,s))}else s=ne,s=sr(n,n===be?s:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),!(s&3)||Os(n,s)||(a=!0,Ud(n,s));n=n.next}while(a);no=!1}}function ry(){uv()}function uv(){Kl=nu=!1;var e=0;Ma!==0&&yy()&&(e=Ma);for(var t=xt(),a=null,n=Yl;n!==null;){var i=n.next,s=cv(n,t);s===0?(n.next=null,a===null?Yl=i:a.next=i,i===null&&(qn=a)):(a=n,(e!==0||s&3)&&(Kl=!0)),n=i}Xe!==0&&Xe!==5||zs(e),Ma!==0&&(Ma=0)}function cv(e,t){for(var a=e.suspendedLanes,n=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes&-62914561;0<s;){var l=31-Tt(s),r=1<<l,u=i[l];u===-1?(!(r&a)||r&n)&&(i[l]=kg(r,t)):u<=t&&(e.expiredLanes|=r),s&=~r}if(t=be,a=ne,a=sr(e,e===t?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),n=e.callbackNode,a===0||e===t&&(fe===2||fe===9)||e.cancelPendingCommit!==null)return n!==null&&n!==null&&Rr(n),e.callbackNode=null,e.callbackPriority=0;if(!(a&3)||Os(e,a)){if(t=a&-a,t===e.callbackPriority)return t;switch(n!==null&&Rr(n),Uu(a)){case 2:case 8:a=Ih;break;case 32:a=Al;break;case 268435456:a=Wh;break;default:a=Al}return n=dv.bind(null,e),a=Ru(a,n),e.callbackPriority=t,e.callbackNode=a,t}return n!==null&&n!==null&&Rr(n),e.callbackPriority=2,e.callbackNode=null,2}function dv(e,t){if(Xe!==0&&Xe!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(br()&&e.callbackNode!==a)return null;var n=ne;return n=sr(e,e===be?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),n===0?null:(Im(e,n,t),cv(e,xt()),e.callbackNode!=null&&e.callbackNode===a?dv.bind(null,e):null)}function Ud(e,t){if(br())return null;Im(e,t,!0)}function oy(){_y(function(){ce&6?Ru(Zh,ry):uv()})}function pc(){if(Ma===0){var e=di;e===0&&(e=Gs,Gs<<=1,!(Gs&261888)&&(Gs=256)),Ma=e}return Ma}function kd(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:cl(""+e)}function zd(e,t){var a=t.ownerDocument.createElement("input");return a.name=t.name,a.value=t.value,e.id&&a.setAttribute("form",e.id),t.parentNode.insertBefore(a,t),e=new FormData(e),a.parentNode.removeChild(a),e}function uy(e,t,a,n,i){if(t==="submit"&&a&&a.stateNode===i){var s=kd((i[vt]||null).action),l=n.submitter;l&&(t=(t=l[vt]||null)?kd(t.formAction):l.getAttribute("formAction"),t!==null&&(s=t,l=null));var r=new lr("action","action",null,n,i);e.push({event:r,listeners:[{instance:null,listener:function(){if(n.defaultPrevented){if(Ma!==0){var u=l?zd(i,l):new FormData(i);Xo(a,{pending:!0,data:u,method:i.method,action:s},null,u)}}else typeof s=="function"&&(r.preventDefault(),u=l?zd(i,l):new FormData(i),Xo(a,{pending:!0,data:u,method:i.method,action:s},s,u))},currentTarget:i}]})}}for(var io=0;io<zo.length;io++){var so=zo[io],cy=so.toLowerCase(),dy=so[0].toUpperCase()+so.slice(1);Qt(cy,"on"+dy)}Qt(Ef,"onAnimationEnd");Qt(xf,"onAnimationIteration");Qt(jf,"onAnimationStart");Qt("dblclick","onDoubleClick");Qt("focusin","onFocus");Qt("focusout","onBlur");Qt(Ap,"onTransitionRun");Qt(Op,"onTransitionStart");Qt(Cp,"onTransitionCancel");Qt(Tf,"onTransitionEnd");ui("onMouseEnter",["mouseout","mouseover"]);ui("onMouseLeave",["mouseout","mouseover"]);ui("onPointerEnter",["pointerout","pointerover"]);ui("onPointerLeave",["pointerout","pointerover"]);Sn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Sn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Sn("onBeforeInput",["compositionend","keypress","textInput","paste"]);Sn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Sn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Sn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ms="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),hy=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ms));function hv(e,t){t=(t&4)!==0;for(var a=0;a<e.length;a++){var n=e[a],i=n.event;n=n.listeners;e:{var s=void 0;if(t)for(var l=n.length-1;0<=l;l--){var r=n[l],u=r.instance,c=r.currentTarget;if(r=r.listener,u!==s&&i.isPropagationStopped())break e;s=r,i.currentTarget=c;try{s(i)}catch(d){Cl(d)}i.currentTarget=null,s=u}else for(l=0;l<n.length;l++){if(r=n[l],u=r.instance,c=r.currentTarget,r=r.listener,u!==s&&i.isPropagationStopped())break e;s=r,i.currentTarget=c;try{s(i)}catch(d){Cl(d)}i.currentTarget=null,s=u}}}}function te(e,t){var a=t[Ao];a===void 0&&(a=t[Ao]=new Set);var n=e+"__bubble";a.has(n)||(fv(t,e,2,!1),a.add(n))}function lo(e,t,a){var n=0;t&&(n|=4),fv(a,e,n,t)}var Ps="_reactListening"+Math.random().toString(36).slice(2);function yc(e){if(!e[Ps]){e[Ps]=!0,nf.forEach(function(a){a!=="selectionchange"&&(hy.has(a)||lo(a,!1,e),lo(a,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Ps]||(t[Ps]=!0,lo("selectionchange",!1,t))}}function fv(e,t,a,n){switch(Tv(t)){case 2:var i=Hy;break;case 8:i=$y;break;default:i=wc}a=i.bind(null,t,a,e),i=void 0,!Do||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),n?i!==void 0?e.addEventListener(t,a,{capture:!0,passive:i}):e.addEventListener(t,a,!0):i!==void 0?e.addEventListener(t,a,{passive:i}):e.addEventListener(t,a,!1)}function ro(e,t,a,n,i){var s=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var l=n.tag;if(l===3||l===4){var r=n.stateNode.containerInfo;if(r===i)break;if(l===4)for(l=n.return;l!==null;){var u=l.tag;if((u===3||u===4)&&l.stateNode.containerInfo===i)return;l=l.return}for(;r!==null;){if(l=Vn(r),l===null)return;if(u=l.tag,u===5||u===6||u===26||u===27){n=s=l;continue e}r=r.parentNode}}n=n.return}hf(function(){var c=s,d=Mu(a),v=[];e:{var h=Af.get(e);if(h!==void 0){var f=lr,y=e;switch(e){case"keypress":if(hl(a)===0)break e;case"keydown":case"keyup":f=sp;break;case"focusin":y="focus",f=Mr;break;case"focusout":y="blur",f=Mr;break;case"beforeblur":case"afterblur":f=Mr;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":f=Vc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":f=Xg;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":f=op;break;case Ef:case xf:case jf:f=Ig;break;case Tf:f=cp;break;case"scroll":case"scrollend":f=Kg;break;case"wheel":f=hp;break;case"copy":case"cut":case"paste":f=Pg;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":f=Kc;break;case"toggle":case"beforetoggle":f=mp}var S=(t&4)!==0,w=!S&&(e==="scroll"||e==="scrollend"),g=S?h!==null?h+"Capture":null:h;S=[];for(var m=c,p;m!==null;){var _=m;if(p=_.stateNode,_=_.tag,_!==5&&_!==26&&_!==27||p===null||g===null||(_=ls(m,g),_!=null&&S.push(vs(m,_,p))),w)break;m=m.return}0<S.length&&(h=new f(h,y,null,a,d),v.push({event:h,listeners:S}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",f=e==="mouseout"||e==="pointerout",h&&a!==Ro&&(y=a.relatedTarget||a.fromElement)&&(Vn(y)||y[_i]))break e;if((f||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,f?(y=a.relatedTarget||a.toElement,f=c,y=y?Vn(y):null,y!==null&&(w=Ts(y),S=y.tag,y!==w||S!==5&&S!==27&&S!==6)&&(y=null)):(f=null,y=c),f!==y)){if(S=Vc,_="onMouseLeave",g="onMouseEnter",m="mouse",(e==="pointerout"||e==="pointerover")&&(S=Kc,_="onPointerLeave",g="onPointerEnter",m="pointer"),w=f==null?h:Li(f),p=y==null?h:Li(y),h=new S(_,m+"leave",f,a,d),h.target=w,h.relatedTarget=p,_=null,Vn(d)===c&&(S=new S(g,m+"enter",y,a,d),S.target=p,S.relatedTarget=w,_=S),w=_,f&&y)t:{for(S=fy,g=f,m=y,p=0,_=g;_;_=S(_))p++;_=0;for(var T=m;T;T=S(T))_++;for(;0<p-_;)g=S(g),p--;for(;0<_-p;)m=S(m),_--;for(;p--;){if(g===m||m!==null&&g===m.alternate){S=g;break t}g=S(g),m=S(m)}S=null}else S=null;f!==null&&Md(v,h,f,S,!1),y!==null&&w!==null&&Md(v,w,y,S,!0)}}e:{if(h=c?Li(c):window,f=h.nodeName&&h.nodeName.toLowerCase(),f==="select"||f==="input"&&h.type==="file")var x=Zc;else if(Jc(h))if(yf)x=xp;else{x=wp;var j=Sp}else f=h.nodeName,!f||f.toLowerCase()!=="input"||h.type!=="checkbox"&&h.type!=="radio"?c&&zu(c.elementType)&&(x=Zc):x=Ep;if(x&&(x=x(e,c))){pf(v,x,a,d);break e}j&&j(e,h,c),e==="focusout"&&c&&h.type==="number"&&c.memoizedProps.value!=null&&No(h,"number",h.value)}switch(j=c?Li(c):window,e){case"focusin":(Jc(j)||j.contentEditable==="true")&&(Qn=j,Uo=c,Qi=null);break;case"focusout":Qi=Uo=Qn=null;break;case"mousedown":ko=!0;break;case"contextmenu":case"mouseup":case"dragend":ko=!1,ed(v,a,d);break;case"selectionchange":if(Tp)break;case"keydown":case"keyup":ed(v,a,d)}var D;if(Lu)e:{switch(e){case"compositionstart":var U="onCompositionStart";break e;case"compositionend":U="onCompositionEnd";break e;case"compositionupdate":U="onCompositionUpdate";break e}U=void 0}else Kn?vf(e,a)&&(U="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(U="onCompositionStart");U&&(mf&&a.locale!=="ko"&&(Kn||U!=="onCompositionStart"?U==="onCompositionEnd"&&Kn&&(D=ff()):(Ua=d,qu="value"in Ua?Ua.value:Ua.textContent,Kn=!0)),j=Ql(c,U),0<j.length&&(U=new Yc(U,e,null,a,d),v.push({event:U,listeners:j}),D?U.data=D:(D=gf(a),D!==null&&(U.data=D)))),(D=gp?pp(e,a):yp(e,a))&&(U=Ql(c,"onBeforeInput"),0<U.length&&(j=new Yc("onBeforeInput","beforeinput",null,a,d),v.push({event:j,listeners:U}),j.data=D)),uy(v,e,c,a,d)}hv(v,t)})}function vs(e,t,a){return{instance:e,listener:t,currentTarget:a}}function Ql(e,t){for(var a=t+"Capture",n=[];e!==null;){var i=e,s=i.stateNode;if(i=i.tag,i!==5&&i!==26&&i!==27||s===null||(i=ls(e,a),i!=null&&n.unshift(vs(e,i,s)),i=ls(e,t),i!=null&&n.push(vs(e,i,s))),e.tag===3)return n;e=e.return}return[]}function fy(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Md(e,t,a,n,i){for(var s=t._reactName,l=[];a!==null&&a!==n;){var r=a,u=r.alternate,c=r.stateNode;if(r=r.tag,u!==null&&u===n)break;r!==5&&r!==26&&r!==27||c===null||(u=c,i?(c=ls(a,s),c!=null&&l.unshift(vs(a,c,u))):i||(c=ls(a,s),c!=null&&l.push(vs(a,c,u)))),a=a.return}l.length!==0&&e.push({event:t,listeners:l})}var my=/\r\n?/g,vy=/\u0000|\uFFFD/g;function qd(e){return(typeof e=="string"?e:""+e).replace(my,`
`).replace(vy,"")}function mv(e,t){return t=qd(t),qd(e)===t}function ge(e,t,a,n,i,s){switch(a){case"children":typeof n=="string"?t==="body"||t==="textarea"&&n===""||ci(e,n):(typeof n=="number"||typeof n=="bigint")&&t!=="body"&&ci(e,""+n);break;case"className":Ks(e,"class",n);break;case"tabIndex":Ks(e,"tabindex",n);break;case"dir":case"role":case"viewBox":case"width":case"height":Ks(e,a,n);break;case"style":df(e,n,s);break;case"data":if(t!=="object"){Ks(e,"data",n);break}case"src":case"href":if(n===""&&(t!=="a"||a!=="href")){e.removeAttribute(a);break}if(n==null||typeof n=="function"||typeof n=="symbol"||typeof n=="boolean"){e.removeAttribute(a);break}n=cl(""+n),e.setAttribute(a,n);break;case"action":case"formAction":if(typeof n=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof s=="function"&&(a==="formAction"?(t!=="input"&&ge(e,t,"name",i.name,i,null),ge(e,t,"formEncType",i.formEncType,i,null),ge(e,t,"formMethod",i.formMethod,i,null),ge(e,t,"formTarget",i.formTarget,i,null)):(ge(e,t,"encType",i.encType,i,null),ge(e,t,"method",i.method,i,null),ge(e,t,"target",i.target,i,null)));if(n==null||typeof n=="symbol"||typeof n=="boolean"){e.removeAttribute(a);break}n=cl(""+n),e.setAttribute(a,n);break;case"onClick":n!=null&&(e.onclick=ca);break;case"onScroll":n!=null&&te("scroll",e);break;case"onScrollEnd":n!=null&&te("scrollend",e);break;case"dangerouslySetInnerHTML":if(n!=null){if(typeof n!="object"||!("__html"in n))throw Error(E(61));if(a=n.__html,a!=null){if(i.children!=null)throw Error(E(60));e.innerHTML=a}}break;case"multiple":e.multiple=n&&typeof n!="function"&&typeof n!="symbol";break;case"muted":e.muted=n&&typeof n!="function"&&typeof n!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(n==null||typeof n=="function"||typeof n=="boolean"||typeof n=="symbol"){e.removeAttribute("xlink:href");break}a=cl(""+n),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":n!=null&&typeof n!="function"&&typeof n!="symbol"?e.setAttribute(a,""+n):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":n&&typeof n!="function"&&typeof n!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":n===!0?e.setAttribute(a,""):n!==!1&&n!=null&&typeof n!="function"&&typeof n!="symbol"?e.setAttribute(a,n):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":n!=null&&typeof n!="function"&&typeof n!="symbol"&&!isNaN(n)&&1<=n?e.setAttribute(a,n):e.removeAttribute(a);break;case"rowSpan":case"start":n==null||typeof n=="function"||typeof n=="symbol"||isNaN(n)?e.removeAttribute(a):e.setAttribute(a,n);break;case"popover":te("beforetoggle",e),te("toggle",e),ul(e,"popover",n);break;case"xlinkActuate":ta(e,"http://www.w3.org/1999/xlink","xlink:actuate",n);break;case"xlinkArcrole":ta(e,"http://www.w3.org/1999/xlink","xlink:arcrole",n);break;case"xlinkRole":ta(e,"http://www.w3.org/1999/xlink","xlink:role",n);break;case"xlinkShow":ta(e,"http://www.w3.org/1999/xlink","xlink:show",n);break;case"xlinkTitle":ta(e,"http://www.w3.org/1999/xlink","xlink:title",n);break;case"xlinkType":ta(e,"http://www.w3.org/1999/xlink","xlink:type",n);break;case"xmlBase":ta(e,"http://www.w3.org/XML/1998/namespace","xml:base",n);break;case"xmlLang":ta(e,"http://www.w3.org/XML/1998/namespace","xml:lang",n);break;case"xmlSpace":ta(e,"http://www.w3.org/XML/1998/namespace","xml:space",n);break;case"is":ul(e,"is",n);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Vg.get(a)||a,ul(e,a,n))}}function iu(e,t,a,n,i,s){switch(a){case"style":df(e,n,s);break;case"dangerouslySetInnerHTML":if(n!=null){if(typeof n!="object"||!("__html"in n))throw Error(E(61));if(a=n.__html,a!=null){if(i.children!=null)throw Error(E(60));e.innerHTML=a}}break;case"children":typeof n=="string"?ci(e,n):(typeof n=="number"||typeof n=="bigint")&&ci(e,""+n);break;case"onScroll":n!=null&&te("scroll",e);break;case"onScrollEnd":n!=null&&te("scrollend",e);break;case"onClick":n!=null&&(e.onclick=ca);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!sf.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(i=a.endsWith("Capture"),t=a.slice(2,i?a.length-7:void 0),s=e[vt]||null,s=s!=null?s[a]:null,typeof s=="function"&&e.removeEventListener(t,s,i),typeof n=="function")){typeof s!="function"&&s!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(t,n,i);break e}a in e?e[a]=n:n===!0?e.setAttribute(a,""):ul(e,a,n)}}}function st(e,t,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":te("error",e),te("load",e);var n=!1,i=!1,s;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];if(l!=null)switch(s){case"src":n=!0;break;case"srcSet":i=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(E(137,t));default:ge(e,t,s,l,a,null)}}i&&ge(e,t,"srcSet",a.srcSet,a,null),n&&ge(e,t,"src",a.src,a,null);return;case"input":te("invalid",e);var r=s=l=i=null,u=null,c=null;for(n in a)if(a.hasOwnProperty(n)){var d=a[n];if(d!=null)switch(n){case"name":i=d;break;case"type":l=d;break;case"checked":u=d;break;case"defaultChecked":c=d;break;case"value":s=d;break;case"defaultValue":r=d;break;case"children":case"dangerouslySetInnerHTML":if(d!=null)throw Error(E(137,t));break;default:ge(e,t,n,d,a,null)}}of(e,s,r,u,c,l,i,!1);return;case"select":te("invalid",e),n=l=s=null;for(i in a)if(a.hasOwnProperty(i)&&(r=a[i],r!=null))switch(i){case"value":s=r;break;case"defaultValue":l=r;break;case"multiple":n=r;default:ge(e,t,i,r,a,null)}t=s,a=l,e.multiple=!!n,t!=null?ti(e,!!n,t,!1):a!=null&&ti(e,!!n,a,!0);return;case"textarea":te("invalid",e),s=i=n=null;for(l in a)if(a.hasOwnProperty(l)&&(r=a[l],r!=null))switch(l){case"value":n=r;break;case"defaultValue":i=r;break;case"children":s=r;break;case"dangerouslySetInnerHTML":if(r!=null)throw Error(E(91));break;default:ge(e,t,l,r,a,null)}cf(e,n,i,s);return;case"option":for(u in a)if(a.hasOwnProperty(u)&&(n=a[u],n!=null))switch(u){case"selected":e.selected=n&&typeof n!="function"&&typeof n!="symbol";break;default:ge(e,t,u,n,a,null)}return;case"dialog":te("beforetoggle",e),te("toggle",e),te("cancel",e),te("close",e);break;case"iframe":case"object":te("load",e);break;case"video":case"audio":for(n=0;n<ms.length;n++)te(ms[n],e);break;case"image":te("error",e),te("load",e);break;case"details":te("toggle",e);break;case"embed":case"source":case"link":te("error",e),te("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(c in a)if(a.hasOwnProperty(c)&&(n=a[c],n!=null))switch(c){case"children":case"dangerouslySetInnerHTML":throw Error(E(137,t));default:ge(e,t,c,n,a,null)}return;default:if(zu(t)){for(d in a)a.hasOwnProperty(d)&&(n=a[d],n!==void 0&&iu(e,t,d,n,a,void 0));return}}for(r in a)a.hasOwnProperty(r)&&(n=a[r],n!=null&&ge(e,t,r,n,a,null))}function gy(e,t,a,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var i=null,s=null,l=null,r=null,u=null,c=null,d=null;for(f in a){var v=a[f];if(a.hasOwnProperty(f)&&v!=null)switch(f){case"checked":break;case"value":break;case"defaultValue":u=v;default:n.hasOwnProperty(f)||ge(e,t,f,null,n,v)}}for(var h in n){var f=n[h];if(v=a[h],n.hasOwnProperty(h)&&(f!=null||v!=null))switch(h){case"type":s=f;break;case"name":i=f;break;case"checked":c=f;break;case"defaultChecked":d=f;break;case"value":l=f;break;case"defaultValue":r=f;break;case"children":case"dangerouslySetInnerHTML":if(f!=null)throw Error(E(137,t));break;default:f!==v&&ge(e,t,h,f,n,v)}}Co(e,l,r,u,c,d,s,i);return;case"select":f=l=r=h=null;for(s in a)if(u=a[s],a.hasOwnProperty(s)&&u!=null)switch(s){case"value":break;case"multiple":f=u;default:n.hasOwnProperty(s)||ge(e,t,s,null,n,u)}for(i in n)if(s=n[i],u=a[i],n.hasOwnProperty(i)&&(s!=null||u!=null))switch(i){case"value":h=s;break;case"defaultValue":r=s;break;case"multiple":l=s;default:s!==u&&ge(e,t,i,s,n,u)}t=r,a=l,n=f,h!=null?ti(e,!!a,h,!1):!!n!=!!a&&(t!=null?ti(e,!!a,t,!0):ti(e,!!a,a?[]:"",!1));return;case"textarea":f=h=null;for(r in a)if(i=a[r],a.hasOwnProperty(r)&&i!=null&&!n.hasOwnProperty(r))switch(r){case"value":break;case"children":break;default:ge(e,t,r,null,n,i)}for(l in n)if(i=n[l],s=a[l],n.hasOwnProperty(l)&&(i!=null||s!=null))switch(l){case"value":h=i;break;case"defaultValue":f=i;break;case"children":break;case"dangerouslySetInnerHTML":if(i!=null)throw Error(E(91));break;default:i!==s&&ge(e,t,l,i,n,s)}uf(e,h,f);return;case"option":for(var y in a)if(h=a[y],a.hasOwnProperty(y)&&h!=null&&!n.hasOwnProperty(y))switch(y){case"selected":e.selected=!1;break;default:ge(e,t,y,null,n,h)}for(u in n)if(h=n[u],f=a[u],n.hasOwnProperty(u)&&h!==f&&(h!=null||f!=null))switch(u){case"selected":e.selected=h&&typeof h!="function"&&typeof h!="symbol";break;default:ge(e,t,u,h,n,f)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var S in a)h=a[S],a.hasOwnProperty(S)&&h!=null&&!n.hasOwnProperty(S)&&ge(e,t,S,null,n,h);for(c in n)if(h=n[c],f=a[c],n.hasOwnProperty(c)&&h!==f&&(h!=null||f!=null))switch(c){case"children":case"dangerouslySetInnerHTML":if(h!=null)throw Error(E(137,t));break;default:ge(e,t,c,h,n,f)}return;default:if(zu(t)){for(var w in a)h=a[w],a.hasOwnProperty(w)&&h!==void 0&&!n.hasOwnProperty(w)&&iu(e,t,w,void 0,n,h);for(d in n)h=n[d],f=a[d],!n.hasOwnProperty(d)||h===f||h===void 0&&f===void 0||iu(e,t,d,h,n,f);return}}for(var g in a)h=a[g],a.hasOwnProperty(g)&&h!=null&&!n.hasOwnProperty(g)&&ge(e,t,g,null,n,h);for(v in n)h=n[v],f=a[v],!n.hasOwnProperty(v)||h===f||h==null&&f==null||ge(e,t,v,h,n,f)}function Bd(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function py(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,a=performance.getEntriesByType("resource"),n=0;n<a.length;n++){var i=a[n],s=i.transferSize,l=i.initiatorType,r=i.duration;if(s&&r&&Bd(l)){for(l=0,r=i.responseEnd,n+=1;n<a.length;n++){var u=a[n],c=u.startTime;if(c>r)break;var d=u.transferSize,v=u.initiatorType;d&&Bd(v)&&(u=u.responseEnd,l+=d*(u<r?1:(r-c)/(u-c)))}if(--n,t+=8*(s+l)/(i.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var su=null,lu=null;function Xl(e){return e.nodeType===9?e:e.ownerDocument}function Ld(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function vv(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function ru(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var oo=null;function yy(){var e=window.event;return e&&e.type==="popstate"?e===oo?!1:(oo=e,!0):(oo=null,!1)}var gv=typeof setTimeout=="function"?setTimeout:void 0,by=typeof clearTimeout=="function"?clearTimeout:void 0,Hd=typeof Promise=="function"?Promise:void 0,_y=typeof queueMicrotask=="function"?queueMicrotask:typeof Hd<"u"?function(e){return Hd.resolve(null).then(e).catch(Sy)}:gv;function Sy(e){setTimeout(function(){throw e})}function Wa(e){return e==="head"}function $d(e,t){var a=t,n=0;do{var i=a.nextSibling;if(e.removeChild(a),i&&i.nodeType===8)if(a=i.data,a==="/$"||a==="/&"){if(n===0){e.removeChild(i),yi(t);return}n--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")n++;else if(a==="html")as(e.ownerDocument.documentElement);else if(a==="head"){a=e.ownerDocument.head,as(a);for(var s=a.firstChild;s;){var l=s.nextSibling,r=s.nodeName;s[Ns]||r==="SCRIPT"||r==="STYLE"||r==="LINK"&&s.rel.toLowerCase()==="stylesheet"||a.removeChild(s),s=l}}else a==="body"&&as(e.ownerDocument.body);a=i}while(a);yi(t)}function Gd(e,t){var a=e;e=0;do{var n=a.nextSibling;if(a.nodeType===1?t?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(t?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),n&&n.nodeType===8)if(a=n.data,a==="/$"){if(e===0)break;e--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||e++;a=n}while(a)}function ou(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var a=t;switch(t=t.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":ou(a),ku(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function wy(e,t,a,n){for(;e.nodeType===1;){var i=a;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!n&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(n){if(!e[Ns])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(s=e.getAttribute("rel"),s==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(s!==i.rel||e.getAttribute("href")!==(i.href==null||i.href===""?null:i.href)||e.getAttribute("crossorigin")!==(i.crossOrigin==null?null:i.crossOrigin)||e.getAttribute("title")!==(i.title==null?null:i.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(s=e.getAttribute("src"),(s!==(i.src==null?null:i.src)||e.getAttribute("type")!==(i.type==null?null:i.type)||e.getAttribute("crossorigin")!==(i.crossOrigin==null?null:i.crossOrigin))&&s&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var s=i.name==null?null:""+i.name;if(i.type==="hidden"&&e.getAttribute("name")===s)return e}else return e;if(e=Bt(e.nextSibling),e===null)break}return null}function Ey(e,t,a){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=Bt(e.nextSibling),e===null))return null;return e}function pv(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=Bt(e.nextSibling),e===null))return null;return e}function uu(e){return e.data==="$?"||e.data==="$~"}function cu(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function xy(e,t){var a=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||a.readyState!=="loading")t();else{var n=function(){t(),a.removeEventListener("DOMContentLoaded",n)};a.addEventListener("DOMContentLoaded",n),e._reactRetry=n}}function Bt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var du=null;function Vd(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"||a==="/&"){if(t===0)return Bt(e.nextSibling);t--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||t++}e=e.nextSibling}return null}function Yd(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(t===0)return e;t--}else a!=="/$"&&a!=="/&"||t++}e=e.previousSibling}return null}function yv(e,t,a){switch(t=Xl(a),e){case"html":if(e=t.documentElement,!e)throw Error(E(452));return e;case"head":if(e=t.head,!e)throw Error(E(453));return e;case"body":if(e=t.body,!e)throw Error(E(454));return e;default:throw Error(E(451))}}function as(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);ku(e)}var Lt=new Map,Kd=new Set;function Jl(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var _a=de.d;de.d={f:jy,r:Ty,D:Ay,C:Oy,L:Cy,m:Ny,X:Dy,S:Ry,M:Uy};function jy(){var e=_a.f(),t=pr();return e||t}function Ty(e){var t=Si(e);t!==null&&t.tag===5&&t.type==="form"?dm(t):_a.r(e)}var ji=typeof document>"u"?null:document;function bv(e,t,a){var n=ji;if(n&&typeof t=="string"&&t){var i=kt(t);i='link[rel="'+e+'"][href="'+i+'"]',typeof a=="string"&&(i+='[crossorigin="'+a+'"]'),Kd.has(i)||(Kd.add(i),e={rel:e,crossOrigin:a,href:t},n.querySelector(i)===null&&(t=n.createElement("link"),st(t,"link",e),Ie(t),n.head.appendChild(t)))}}function Ay(e){_a.D(e),bv("dns-prefetch",e,null)}function Oy(e,t){_a.C(e,t),bv("preconnect",e,t)}function Cy(e,t,a){_a.L(e,t,a);var n=ji;if(n&&e&&t){var i='link[rel="preload"][as="'+kt(t)+'"]';t==="image"&&a&&a.imageSrcSet?(i+='[imagesrcset="'+kt(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(i+='[imagesizes="'+kt(a.imageSizes)+'"]')):i+='[href="'+kt(e)+'"]';var s=i;switch(t){case"style":s=pi(e);break;case"script":s=Ti(e)}Lt.has(s)||(e=je({rel:"preload",href:t==="image"&&a&&a.imageSrcSet?void 0:e,as:t},a),Lt.set(s,e),n.querySelector(i)!==null||t==="style"&&n.querySelector(Ms(s))||t==="script"&&n.querySelector(qs(s))||(t=n.createElement("link"),st(t,"link",e),Ie(t),n.head.appendChild(t)))}}function Ny(e,t){_a.m(e,t);var a=ji;if(a&&e){var n=t&&typeof t.as=="string"?t.as:"script",i='link[rel="modulepreload"][as="'+kt(n)+'"][href="'+kt(e)+'"]',s=i;switch(n){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":s=Ti(e)}if(!Lt.has(s)&&(e=je({rel:"modulepreload",href:e},t),Lt.set(s,e),a.querySelector(i)===null)){switch(n){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(qs(s)))return}n=a.createElement("link"),st(n,"link",e),Ie(n),a.head.appendChild(n)}}}function Ry(e,t,a){_a.S(e,t,a);var n=ji;if(n&&e){var i=ei(n).hoistableStyles,s=pi(e);t=t||"default";var l=i.get(s);if(!l){var r={loading:0,preload:null};if(l=n.querySelector(Ms(s)))r.loading=5;else{e=je({rel:"stylesheet",href:e,"data-precedence":t},a),(a=Lt.get(s))&&bc(e,a);var u=l=n.createElement("link");Ie(u),st(u,"link",e),u._p=new Promise(function(c,d){u.onload=c,u.onerror=d}),u.addEventListener("load",function(){r.loading|=1}),u.addEventListener("error",function(){r.loading|=2}),r.loading|=4,_l(l,t,n)}l={type:"stylesheet",instance:l,count:1,state:r},i.set(s,l)}}}function Dy(e,t){_a.X(e,t);var a=ji;if(a&&e){var n=ei(a).hoistableScripts,i=Ti(e),s=n.get(i);s||(s=a.querySelector(qs(i)),s||(e=je({src:e,async:!0},t),(t=Lt.get(i))&&_c(e,t),s=a.createElement("script"),Ie(s),st(s,"link",e),a.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},n.set(i,s))}}function Uy(e,t){_a.M(e,t);var a=ji;if(a&&e){var n=ei(a).hoistableScripts,i=Ti(e),s=n.get(i);s||(s=a.querySelector(qs(i)),s||(e=je({src:e,async:!0,type:"module"},t),(t=Lt.get(i))&&_c(e,t),s=a.createElement("script"),Ie(s),st(s,"link",e),a.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},n.set(i,s))}}function Qd(e,t,a,n){var i=(i=qa.current)?Jl(i):null;if(!i)throw Error(E(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(t=pi(a.href),a=ei(i).hoistableStyles,n=a.get(t),n||(n={type:"style",instance:null,count:0,state:null},a.set(t,n)),n):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=pi(a.href);var s=ei(i).hoistableStyles,l=s.get(e);if(l||(i=i.ownerDocument||i,l={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},s.set(e,l),(s=i.querySelector(Ms(e)))&&!s._p&&(l.instance=s,l.state.loading=5),Lt.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Lt.set(e,a),s||ky(i,e,a,l.state))),t&&n===null)throw Error(E(528,""));return l}if(t&&n!==null)throw Error(E(529,""));return null;case"script":return t=a.async,a=a.src,typeof a=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=Ti(a),a=ei(i).hoistableScripts,n=a.get(t),n||(n={type:"script",instance:null,count:0,state:null},a.set(t,n)),n):{type:"void",instance:null,count:0,state:null};default:throw Error(E(444,e))}}function pi(e){return'href="'+kt(e)+'"'}function Ms(e){return'link[rel="stylesheet"]['+e+"]"}function _v(e){return je({},e,{"data-precedence":e.precedence,precedence:null})}function ky(e,t,a,n){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?n.loading=1:(t=e.createElement("link"),n.preload=t,t.addEventListener("load",function(){return n.loading|=1}),t.addEventListener("error",function(){return n.loading|=2}),st(t,"link",a),Ie(t),e.head.appendChild(t))}function Ti(e){return'[src="'+kt(e)+'"]'}function qs(e){return"script[async]"+e}function Xd(e,t,a){if(t.count++,t.instance===null)switch(t.type){case"style":var n=e.querySelector('style[data-href~="'+kt(a.href)+'"]');if(n)return t.instance=n,Ie(n),n;var i=je({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return n=(e.ownerDocument||e).createElement("style"),Ie(n),st(n,"style",i),_l(n,a.precedence,e),t.instance=n;case"stylesheet":i=pi(a.href);var s=e.querySelector(Ms(i));if(s)return t.state.loading|=4,t.instance=s,Ie(s),s;n=_v(a),(i=Lt.get(i))&&bc(n,i),s=(e.ownerDocument||e).createElement("link"),Ie(s);var l=s;return l._p=new Promise(function(r,u){l.onload=r,l.onerror=u}),st(s,"link",n),t.state.loading|=4,_l(s,a.precedence,e),t.instance=s;case"script":return s=Ti(a.src),(i=e.querySelector(qs(s)))?(t.instance=i,Ie(i),i):(n=a,(i=Lt.get(s))&&(n=je({},a),_c(n,i)),e=e.ownerDocument||e,i=e.createElement("script"),Ie(i),st(i,"link",n),e.head.appendChild(i),t.instance=i);case"void":return null;default:throw Error(E(443,t.type))}else t.type==="stylesheet"&&!(t.state.loading&4)&&(n=t.instance,t.state.loading|=4,_l(n,a.precedence,e));return t.instance}function _l(e,t,a){for(var n=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),i=n.length?n[n.length-1]:null,s=i,l=0;l<n.length;l++){var r=n[l];if(r.dataset.precedence===t)s=r;else if(s!==i)break}s?s.parentNode.insertBefore(e,s.nextSibling):(t=a.nodeType===9?a.head:a,t.insertBefore(e,t.firstChild))}function bc(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function _c(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var Sl=null;function Jd(e,t,a){if(Sl===null){var n=new Map,i=Sl=new Map;i.set(a,n)}else i=Sl,n=i.get(a),n||(n=new Map,i.set(a,n));if(n.has(e))return n;for(n.set(e,null),a=a.getElementsByTagName(e),i=0;i<a.length;i++){var s=a[i];if(!(s[Ns]||s[at]||e==="link"&&s.getAttribute("rel")==="stylesheet")&&s.namespaceURI!=="http://www.w3.org/2000/svg"){var l=s.getAttribute(t)||"";l=e+l;var r=n.get(l);r?r.push(s):n.set(l,[s])}}return n}function Zd(e,t,a){e=e.ownerDocument||e,e.head.insertBefore(a,t==="title"?e.querySelector("head > title"):null)}function zy(e,t,a){if(a===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function Sv(e){return!(e.type==="stylesheet"&&!(e.state.loading&3))}function My(e,t,a,n){if(a.type==="stylesheet"&&(typeof n.media!="string"||matchMedia(n.media).matches!==!1)&&!(a.state.loading&4)){if(a.instance===null){var i=pi(n.href),s=t.querySelector(Ms(i));if(s){t=s._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=Zl.bind(e),t.then(e,e)),a.state.loading|=4,a.instance=s,Ie(s);return}s=t.ownerDocument||t,n=_v(n),(i=Lt.get(i))&&bc(n,i),s=s.createElement("link"),Ie(s);var l=s;l._p=new Promise(function(r,u){l.onload=r,l.onerror=u}),st(s,"link",n),a.instance=s}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(a,t),(t=a.state.preload)&&!(a.state.loading&3)&&(e.count++,a=Zl.bind(e),t.addEventListener("load",a),t.addEventListener("error",a))}}var uo=0;function qy(e,t){return e.stylesheets&&e.count===0&&wl(e,e.stylesheets),0<e.count||0<e.imgCount?function(a){var n=setTimeout(function(){if(e.stylesheets&&wl(e,e.stylesheets),e.unsuspend){var s=e.unsuspend;e.unsuspend=null,s()}},6e4+t);0<e.imgBytes&&uo===0&&(uo=62500*py());var i=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&wl(e,e.stylesheets),e.unsuspend)){var s=e.unsuspend;e.unsuspend=null,s()}},(e.imgBytes>uo?50:800)+t);return e.unsuspend=a,function(){e.unsuspend=null,clearTimeout(n),clearTimeout(i)}}:null}function Zl(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)wl(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Il=null;function wl(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Il=new Map,t.forEach(By,e),Il=null,Zl.call(e))}function By(e,t){if(!(t.state.loading&4)){var a=Il.get(e);if(a)var n=a.get(null);else{a=new Map,Il.set(e,a);for(var i=e.querySelectorAll("link[data-precedence],style[data-precedence]"),s=0;s<i.length;s++){var l=i[s];(l.nodeName==="LINK"||l.getAttribute("media")!=="not all")&&(a.set(l.dataset.precedence,l),n=l)}n&&a.set(null,n)}i=t.instance,l=i.getAttribute("data-precedence"),s=a.get(l)||n,s===n&&a.set(null,i),a.set(l,i),this.count++,n=Zl.bind(this),i.addEventListener("load",n),i.addEventListener("error",n),s?s.parentNode.insertBefore(i,s.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(i,e.firstChild)),t.state.loading|=4}}var gs={$$typeof:ua,Provider:null,Consumer:null,_currentValue:dn,_currentValue2:dn,_threadCount:0};function Ly(e,t,a,n,i,s,l,r,u){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Dr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Dr(0),this.hiddenUpdates=Dr(null),this.identifierPrefix=n,this.onUncaughtError=i,this.onCaughtError=s,this.onRecoverableError=l,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=u,this.incompleteTransitions=new Map}function wv(e,t,a,n,i,s,l,r,u,c,d,v){return e=new Ly(e,t,a,l,u,c,d,v,r),t=1,s===!0&&(t|=24),s=St(3,null,null,t),e.current=s,s.stateNode=e,t=Qu(),t.refCount++,e.pooledCache=t,t.refCount++,s.memoizedState={element:n,isDehydrated:a,cache:t},Zu(s),e}function Ev(e){return e?(e=Zn,e):Zn}function xv(e,t,a,n,i,s){i=Ev(i),n.context===null?n.context=i:n.pendingContext=i,n=La(t),n.payload={element:a},s=s===void 0?null:s,s!==null&&(n.callback=s),a=Ha(e,n,t),a!==null&&(mt(a,e,t),Ji(a,e,t))}function Id(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<t?a:t}}function Sc(e,t){Id(e,t),(e=e.alternate)&&Id(e,t)}function jv(e){if(e.tag===13||e.tag===31){var t=xn(e,67108864);t!==null&&mt(t,e,67108864),Sc(e,67108864)}}function Wd(e){if(e.tag===13||e.tag===31){var t=At();t=Du(t);var a=xn(e,t);a!==null&&mt(a,e,t),Sc(e,t)}}var Wl=!0;function Hy(e,t,a,n){var i=J.T;J.T=null;var s=de.p;try{de.p=2,wc(e,t,a,n)}finally{de.p=s,J.T=i}}function $y(e,t,a,n){var i=J.T;J.T=null;var s=de.p;try{de.p=8,wc(e,t,a,n)}finally{de.p=s,J.T=i}}function wc(e,t,a,n){if(Wl){var i=hu(n);if(i===null)ro(e,t,n,Pl,a),Pd(e,n);else if(Vy(i,e,t,a,n))n.stopPropagation();else if(Pd(e,n),t&4&&-1<Gy.indexOf(e)){for(;i!==null;){var s=Si(i);if(s!==null)switch(s.tag){case 3:if(s=s.stateNode,s.current.memoizedState.isDehydrated){var l=nn(s.pendingLanes);if(l!==0){var r=s;for(r.pendingLanes|=2,r.entangledLanes|=2;l;){var u=1<<31-Tt(l);r.entanglements[1]|=u,l&=~u}Ft(s),!(ce&6)&&($l=xt()+500,zs(0))}}break;case 31:case 13:r=xn(s,2),r!==null&&mt(r,s,2),pr(),Sc(s,2)}if(s=hu(n),s===null&&ro(e,t,n,Pl,a),s===i)break;i=s}i!==null&&n.stopPropagation()}else ro(e,t,n,null,a)}}function hu(e){return e=Mu(e),Ec(e)}var Pl=null;function Ec(e){if(Pl=null,e=Vn(e),e!==null){var t=Ts(e);if(t===null)e=null;else{var a=t.tag;if(a===13){if(e=Yh(t),e!==null)return e;e=null}else if(a===31){if(e=Kh(t),e!==null)return e;e=null}else if(a===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Pl=e,null}function Tv(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ag()){case Zh:return 2;case Ih:return 8;case Al:case Og:return 32;case Wh:return 268435456;default:return 32}default:return 32}}var fu=!1,Va=null,Ya=null,Ka=null,ps=new Map,ys=new Map,Na=[],Gy="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Pd(e,t){switch(e){case"focusin":case"focusout":Va=null;break;case"dragenter":case"dragleave":Ya=null;break;case"mouseover":case"mouseout":Ka=null;break;case"pointerover":case"pointerout":ps.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ys.delete(t.pointerId)}}function zi(e,t,a,n,i,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:a,eventSystemFlags:n,nativeEvent:s,targetContainers:[i]},t!==null&&(t=Si(t),t!==null&&jv(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function Vy(e,t,a,n,i){switch(t){case"focusin":return Va=zi(Va,e,t,a,n,i),!0;case"dragenter":return Ya=zi(Ya,e,t,a,n,i),!0;case"mouseover":return Ka=zi(Ka,e,t,a,n,i),!0;case"pointerover":var s=i.pointerId;return ps.set(s,zi(ps.get(s)||null,e,t,a,n,i)),!0;case"gotpointercapture":return s=i.pointerId,ys.set(s,zi(ys.get(s)||null,e,t,a,n,i)),!0}return!1}function Av(e){var t=Vn(e.target);if(t!==null){var a=Ts(t);if(a!==null){if(t=a.tag,t===13){if(t=Yh(a),t!==null){e.blockedOn=t,Mc(e.priority,function(){Wd(a)});return}}else if(t===31){if(t=Kh(a),t!==null){e.blockedOn=t,Mc(e.priority,function(){Wd(a)});return}}else if(t===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function El(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var a=hu(e.nativeEvent);if(a===null){a=e.nativeEvent;var n=new a.constructor(a.type,a);Ro=n,a.target.dispatchEvent(n),Ro=null}else return t=Si(a),t!==null&&jv(t),e.blockedOn=a,!1;t.shift()}return!0}function Fd(e,t,a){El(e)&&a.delete(t)}function Yy(){fu=!1,Va!==null&&El(Va)&&(Va=null),Ya!==null&&El(Ya)&&(Ya=null),Ka!==null&&El(Ka)&&(Ka=null),ps.forEach(Fd),ys.forEach(Fd)}function Fs(e,t){e.blockedOn===t&&(e.blockedOn=null,fu||(fu=!0,Je.unstable_scheduleCallback(Je.unstable_NormalPriority,Yy)))}var el=null;function eh(e){el!==e&&(el=e,Je.unstable_scheduleCallback(Je.unstable_NormalPriority,function(){el===e&&(el=null);for(var t=0;t<e.length;t+=3){var a=e[t],n=e[t+1],i=e[t+2];if(typeof n!="function"){if(Ec(n||a)===null)continue;break}var s=Si(a);s!==null&&(e.splice(t,3),t-=3,Xo(s,{pending:!0,data:i,method:a.method,action:n},n,i))}}))}function yi(e){function t(u){return Fs(u,e)}Va!==null&&Fs(Va,e),Ya!==null&&Fs(Ya,e),Ka!==null&&Fs(Ka,e),ps.forEach(t),ys.forEach(t);for(var a=0;a<Na.length;a++){var n=Na[a];n.blockedOn===e&&(n.blockedOn=null)}for(;0<Na.length&&(a=Na[0],a.blockedOn===null);)Av(a),a.blockedOn===null&&Na.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(n=0;n<a.length;n+=3){var i=a[n],s=a[n+1],l=i[vt]||null;if(typeof s=="function")l||eh(a);else if(l){var r=null;if(s&&s.hasAttribute("formAction")){if(i=s,l=s[vt]||null)r=l.formAction;else if(Ec(i)!==null)continue}else r=l.action;typeof r=="function"?a[n+1]=r:(a.splice(n,3),n-=3),eh(a)}}}function Ov(){function e(s){s.canIntercept&&s.info==="react-transition"&&s.intercept({handler:function(){return new Promise(function(l){return i=l})},focusReset:"manual",scroll:"manual"})}function t(){i!==null&&(i(),i=null),n||setTimeout(a,20)}function a(){if(!n&&!navigation.transition){var s=navigation.currentEntry;s&&s.url!=null&&navigation.navigate(s.url,{state:s.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var n=!1,i=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(a,100),function(){n=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),i!==null&&(i(),i=null)}}}function xc(e){this._internalRoot=e}_r.prototype.render=xc.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(E(409));var a=t.current,n=At();xv(a,n,e,t,null,null)};_r.prototype.unmount=xc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;xv(e.current,2,null,e,null,null),pr(),t[_i]=null}};function _r(e){this._internalRoot=e}_r.prototype.unstable_scheduleHydration=function(e){if(e){var t=af();e={blockedOn:null,target:e,priority:t};for(var a=0;a<Na.length&&t!==0&&t<Na[a].priority;a++);Na.splice(a,0,e),a===0&&Av(e)}};var th=Gh.version;if(th!=="19.2.4")throw Error(E(527,th,"19.2.4"));de.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(E(188)):(e=Object.keys(e).join(","),Error(E(268,e)));return e=_g(t),e=e!==null?Qh(e):null,e=e===null?null:e.stateNode,e};var Ky={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:J,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var tl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!tl.isDisabled&&tl.supportsFiber)try{As=tl.inject(Ky),jt=tl}catch{}}nr.createRoot=function(e,t){if(!Vh(e))throw Error(E(299));var a=!1,n="",i=bm,s=_m,l=Sm;return t!=null&&(t.unstable_strictMode===!0&&(a=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onUncaughtError!==void 0&&(i=t.onUncaughtError),t.onCaughtError!==void 0&&(s=t.onCaughtError),t.onRecoverableError!==void 0&&(l=t.onRecoverableError)),t=wv(e,1,!1,null,null,a,n,null,i,s,l,Ov),e[_i]=t.current,yc(e),new xc(t)};nr.hydrateRoot=function(e,t,a){if(!Vh(e))throw Error(E(299));var n=!1,i="",s=bm,l=_m,r=Sm,u=null;return a!=null&&(a.unstable_strictMode===!0&&(n=!0),a.identifierPrefix!==void 0&&(i=a.identifierPrefix),a.onUncaughtError!==void 0&&(s=a.onUncaughtError),a.onCaughtError!==void 0&&(l=a.onCaughtError),a.onRecoverableError!==void 0&&(r=a.onRecoverableError),a.formState!==void 0&&(u=a.formState)),t=wv(e,1,!0,t,a??null,n,i,u,s,l,r,Ov),t.context=Ev(null),a=t.current,n=At(),n=Du(n),i=La(n),i.callback=null,Ha(a,i,n),a=n,t.current.lanes=a,Cs(t,a),Ft(t),e[_i]=t.current,yc(e),new _r(t)};nr.version="19.2.4";function Cv(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Cv)}catch(e){console.error(e)}}Cv(),Mh.exports=nr;var Qy=Mh.exports;const Xy="modulepreload",Jy=function(e){return"/"+e},ah={},Zy=function(t,a,n){let i=Promise.resolve();if(a&&a.length>0){document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),r=(l==null?void 0:l.nonce)||(l==null?void 0:l.getAttribute("nonce"));i=Promise.allSettled(a.map(u=>{if(u=Jy(u),u in ah)return;ah[u]=!0;const c=u.endsWith(".css"),d=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${d}`))return;const v=document.createElement("link");if(v.rel=c?"stylesheet":Xy,c||(v.as="script"),v.crossOrigin="",v.href=u,r&&v.setAttribute("nonce",r),document.head.appendChild(v),c)return new Promise((h,f)=>{v.addEventListener("load",h),v.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${u}`)))})}))}function s(l){const r=new Event("vite:preloadError",{cancelable:!0});if(r.payload=l,window.dispatchEvent(r),!r.defaultPrevented)throw l}return i.then(l=>{for(const r of l||[])r.status==="rejected"&&s(r.reason);return t().catch(s)})};function Sr(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(a[n[i]]=e[n[i]]);return a}function Iy(e,t,a,n){function i(s){return s instanceof a?s:new a(function(l){l(s)})}return new(a||(a=Promise))(function(s,l){function r(d){try{c(n.next(d))}catch(v){l(v)}}function u(d){try{c(n.throw(d))}catch(v){l(v)}}function c(d){d.done?s(d.value):i(d.value).then(r,u)}c((n=n.apply(e,t||[])).next())})}const Wy=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);class jc extends Error{constructor(t,a="FunctionsError",n){super(t),this.name=a,this.context=n}}class Py extends jc{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class nh extends jc{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class ih extends jc{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var mu;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(mu||(mu={}));class Fy{constructor(t,{headers:a={},customFetch:n,region:i=mu.Any}={}){this.url=t,this.headers=a,this.region=i,this.fetch=Wy(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return Iy(this,arguments,void 0,function*(a,n={}){var i;let s,l;try{const{headers:r,method:u,body:c,signal:d,timeout:v}=n;let h={},{region:f}=n;f||(f=this.region);const y=new URL(`${this.url}/${a}`);f&&f!=="any"&&(h["x-region"]=f,y.searchParams.set("forceFunctionRegion",f));let S;c&&(r&&!Object.prototype.hasOwnProperty.call(r,"Content-Type")||!r)?typeof Blob<"u"&&c instanceof Blob||c instanceof ArrayBuffer?(h["Content-Type"]="application/octet-stream",S=c):typeof c=="string"?(h["Content-Type"]="text/plain",S=c):typeof FormData<"u"&&c instanceof FormData?S=c:(h["Content-Type"]="application/json",S=JSON.stringify(c)):c&&typeof c!="string"&&!(typeof Blob<"u"&&c instanceof Blob)&&!(c instanceof ArrayBuffer)&&!(typeof FormData<"u"&&c instanceof FormData)?S=JSON.stringify(c):S=c;let w=d;v&&(l=new AbortController,s=setTimeout(()=>l.abort(),v),d?(w=l.signal,d.addEventListener("abort",()=>l.abort())):w=l.signal);const g=yield this.fetch(y.toString(),{method:u||"POST",headers:Object.assign(Object.assign(Object.assign({},h),this.headers),r),body:S,signal:w}).catch(T=>{throw new Py(T)}),m=g.headers.get("x-relay-error");if(m&&m==="true")throw new nh(g);if(!g.ok)throw new ih(g);let p=((i=g.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),_;return p==="application/json"?_=yield g.json():p==="application/octet-stream"||p==="application/pdf"?_=yield g.blob():p==="text/event-stream"?_=g:p==="multipart/form-data"?_=yield g.formData():_=yield g.text(),{data:_,error:null,response:g}}catch(r){return{data:null,error:r,response:r instanceof ih||r instanceof nh?r.context:void 0}}finally{s&&clearTimeout(s)}})}}var e0=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}},t0=class{constructor(e){var t,a,n;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(t=e.shouldThrowOnError)!==null&&t!==void 0?t:!1,this.signal=e.signal,this.isMaybeSingle=(a=e.isMaybeSingle)!==null&&a!==void 0?a:!1,this.urlLengthLimit=(n=e.urlLengthLimit)!==null&&n!==void 0?n:8e3,e.fetch?this.fetch=e.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=new Headers(this.headers),this.headers.set(e,t),this}then(e,t){var a=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const n=this.fetch;let i=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async s=>{let l=null,r=null,u=null,c=s.status,d=s.statusText;if(s.ok){var v,h;if(a.method!=="HEAD"){var f;const g=await s.text();g===""||(a.headers.get("Accept")==="text/csv"||a.headers.get("Accept")&&(!((f=a.headers.get("Accept"))===null||f===void 0)&&f.includes("application/vnd.pgrst.plan+text"))?r=g:r=JSON.parse(g))}const S=(v=a.headers.get("Prefer"))===null||v===void 0?void 0:v.match(/count=(exact|planned|estimated)/),w=(h=s.headers.get("content-range"))===null||h===void 0?void 0:h.split("/");S&&w&&w.length>1&&(u=parseInt(w[1])),a.isMaybeSingle&&a.method==="GET"&&Array.isArray(r)&&(r.length>1?(l={code:"PGRST116",details:`Results contain ${r.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},r=null,u=null,c=406,d="Not Acceptable"):r.length===1?r=r[0]:r=null)}else{var y;const S=await s.text();try{l=JSON.parse(S),Array.isArray(l)&&s.status===404&&(r=[],l=null,c=200,d="OK")}catch{s.status===404&&S===""?(c=204,d="No Content"):l={message:S}}if(l&&a.isMaybeSingle&&(!(l==null||(y=l.details)===null||y===void 0)&&y.includes("0 rows"))&&(l=null,c=200,d="OK"),l&&a.shouldThrowOnError)throw new e0(l)}return{error:l,data:r,count:u,status:c,statusText:d}});return this.shouldThrowOnError||(i=i.catch(s=>{var l;let r="",u="",c="";const d=s==null?void 0:s.cause;if(d){var v,h,f,y;const g=(v=d==null?void 0:d.message)!==null&&v!==void 0?v:"",m=(h=d==null?void 0:d.code)!==null&&h!==void 0?h:"";r=`${(f=s==null?void 0:s.name)!==null&&f!==void 0?f:"FetchError"}: ${s==null?void 0:s.message}`,r+=`

Caused by: ${(y=d==null?void 0:d.name)!==null&&y!==void 0?y:"Error"}: ${g}`,m&&(r+=` (${m})`),d!=null&&d.stack&&(r+=`
${d.stack}`)}else{var S;r=(S=s==null?void 0:s.stack)!==null&&S!==void 0?S:""}const w=this.url.toString().length;return(s==null?void 0:s.name)==="AbortError"||(s==null?void 0:s.code)==="ABORT_ERR"?(c="",u="Request was aborted (timeout or manual cancellation)",w>this.urlLengthLimit&&(u+=`. Note: Your request URL is ${w} characters, which may exceed server limits. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [many IDs])), consider using an RPC function to pass values server-side.`)):((d==null?void 0:d.name)==="HeadersOverflowError"||(d==null?void 0:d.code)==="UND_ERR_HEADERS_OVERFLOW")&&(c="",u="HTTP headers exceeded server limits (typically 16KB)",w>this.urlLengthLimit&&(u+=`. Your request URL is ${w} characters. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [200+ IDs])), consider using an RPC function instead.`)),{error:{message:`${(l=s==null?void 0:s.name)!==null&&l!==void 0?l:"FetchError"}: ${s==null?void 0:s.message}`,details:r,hint:u,code:c},data:null,count:null,status:0,statusText:""}})),i.then(e,t)}returns(){return this}overrideTypes(){return this}},a0=class extends t0{select(e){let t=!1;const a=(e??"*").split("").map(n=>/\s/.test(n)&&!t?"":(n==='"'&&(t=!t),n)).join("");return this.url.searchParams.set("select",a),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:t=!0,nullsFirst:a,foreignTable:n,referencedTable:i=n}={}){const s=i?`${i}.order`:"order",l=this.url.searchParams.get(s);return this.url.searchParams.set(s,`${l?`${l},`:""}${e}.${t?"asc":"desc"}${a===void 0?"":a?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t,referencedTable:a=t}={}){const n=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(n,`${e}`),this}range(e,t,{foreignTable:a,referencedTable:n=a}={}){const i=typeof n>"u"?"offset":`${n}.offset`,s=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(i,`${e}`),this.url.searchParams.set(s,`${t-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:t=!1,settings:a=!1,buffers:n=!1,wal:i=!1,format:s="text"}={}){var l;const r=[e?"analyze":null,t?"verbose":null,a?"settings":null,n?"buffers":null,i?"wal":null].filter(Boolean).join("|"),u=(l=this.headers.get("Accept"))!==null&&l!==void 0?l:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${s}; for="${u}"; options=${r};`),s==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};const sh=new RegExp("[,()]");var Bn=class extends a0{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}regexMatch(e,t){return this.url.searchParams.append(e,`match.${t}`),this}regexIMatch(e,t){return this.url.searchParams.append(e,`imatch.${t}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}isDistinct(e,t){return this.url.searchParams.append(e,`isdistinct.${t}`),this}in(e,t){const a=Array.from(new Set(t)).map(n=>typeof n=="string"&&sh.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(e,`in.(${a})`),this}notIn(e,t){const a=Array.from(new Set(t)).map(n=>typeof n=="string"&&sh.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(e,`not.in.(${a})`),this}contains(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return typeof t=="string"?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:a,type:n}={}){let i="";n==="plain"?i="pl":n==="phrase"?i="ph":n==="websearch"&&(i="w");const s=a===void 0?"":`(${a})`;return this.url.searchParams.append(e,`${i}fts${s}.${t}`),this}match(e){return Object.entries(e).forEach(([t,a])=>{this.url.searchParams.append(t,`eq.${a}`)}),this}not(e,t,a){return this.url.searchParams.append(e,`not.${t}.${a}`),this}or(e,{foreignTable:t,referencedTable:a=t}={}){const n=a?`${a}.or`:"or";return this.url.searchParams.append(n,`(${e})`),this}filter(e,t,a){return this.url.searchParams.append(e,`${t}.${a}`),this}},n0=class{constructor(e,{headers:t={},schema:a,fetch:n,urlLengthLimit:i=8e3}){this.url=e,this.headers=new Headers(t),this.schema=a,this.fetch=n,this.urlLengthLimit=i}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(e,t){const{head:a=!1,count:n}=t??{},i=a?"HEAD":"GET";let s=!1;const l=(e??"*").split("").map(c=>/\s/.test(c)&&!s?"":(c==='"'&&(s=!s),c)).join(""),{url:r,headers:u}=this.cloneRequestState();return r.searchParams.set("select",l),n&&u.append("Prefer",`count=${n}`),new Bn({method:i,url:r,headers:u,schema:this.schema,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}insert(e,{count:t,defaultToNull:a=!0}={}){var n;const i="POST",{url:s,headers:l}=this.cloneRequestState();if(t&&l.append("Prefer",`count=${t}`),a||l.append("Prefer","missing=default"),Array.isArray(e)){const r=e.reduce((u,c)=>u.concat(Object.keys(c)),[]);if(r.length>0){const u=[...new Set(r)].map(c=>`"${c}"`);s.searchParams.set("columns",u.join(","))}}return new Bn({method:i,url:s,headers:l,schema:this.schema,body:e,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch,urlLengthLimit:this.urlLengthLimit})}upsert(e,{onConflict:t,ignoreDuplicates:a=!1,count:n,defaultToNull:i=!0}={}){var s;const l="POST",{url:r,headers:u}=this.cloneRequestState();if(u.append("Prefer",`resolution=${a?"ignore":"merge"}-duplicates`),t!==void 0&&r.searchParams.set("on_conflict",t),n&&u.append("Prefer",`count=${n}`),i||u.append("Prefer","missing=default"),Array.isArray(e)){const c=e.reduce((d,v)=>d.concat(Object.keys(v)),[]);if(c.length>0){const d=[...new Set(c)].map(v=>`"${v}"`);r.searchParams.set("columns",d.join(","))}}return new Bn({method:l,url:r,headers:u,schema:this.schema,body:e,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch,urlLengthLimit:this.urlLengthLimit})}update(e,{count:t}={}){var a;const n="PATCH",{url:i,headers:s}=this.cloneRequestState();return t&&s.append("Prefer",`count=${t}`),new Bn({method:n,url:i,headers:s,schema:this.schema,body:e,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch,urlLengthLimit:this.urlLengthLimit})}delete({count:e}={}){var t;const a="DELETE",{url:n,headers:i}=this.cloneRequestState();return e&&i.append("Prefer",`count=${e}`),new Bn({method:a,url:n,headers:i,schema:this.schema,fetch:(t=this.fetch)!==null&&t!==void 0?t:fetch,urlLengthLimit:this.urlLengthLimit})}};function bs(e){"@babel/helpers - typeof";return bs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bs(e)}function i0(e,t){if(bs(e)!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var n=a.call(e,t);if(bs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function s0(e){var t=i0(e,"string");return bs(t)=="symbol"?t:t+""}function l0(e,t,a){return(t=s0(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function lh(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),a.push.apply(a,n)}return a}function al(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?lh(Object(a),!0).forEach(function(n){l0(e,n,a[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):lh(Object(a)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(a,n))})}return e}var r0=class Nv{constructor(t,{headers:a={},schema:n,fetch:i,timeout:s,urlLengthLimit:l=8e3}={}){this.url=t,this.headers=new Headers(a),this.schemaName=n,this.urlLengthLimit=l;const r=i??globalThis.fetch;s!==void 0&&s>0?this.fetch=(u,c)=>{const d=new AbortController,v=setTimeout(()=>d.abort(),s),h=c==null?void 0:c.signal;if(h){if(h.aborted)return clearTimeout(v),r(u,c);const f=()=>{clearTimeout(v),d.abort()};return h.addEventListener("abort",f,{once:!0}),r(u,al(al({},c),{},{signal:d.signal})).finally(()=>{clearTimeout(v),h.removeEventListener("abort",f)})}return r(u,al(al({},c),{},{signal:d.signal})).finally(()=>clearTimeout(v))}:this.fetch=r}from(t){if(!t||typeof t!="string"||t.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new n0(new URL(`${this.url}/${t}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}schema(t){return new Nv(this.url,{headers:this.headers,schema:t,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}rpc(t,a={},{head:n=!1,get:i=!1,count:s}={}){var l;let r;const u=new URL(`${this.url}/rpc/${t}`);let c;const d=f=>f!==null&&typeof f=="object"&&(!Array.isArray(f)||f.some(d)),v=n&&Object.values(a).some(d);v?(r="POST",c=a):n||i?(r=n?"HEAD":"GET",Object.entries(a).filter(([f,y])=>y!==void 0).map(([f,y])=>[f,Array.isArray(y)?`{${y.join(",")}}`:`${y}`]).forEach(([f,y])=>{u.searchParams.append(f,y)})):(r="POST",c=a);const h=new Headers(this.headers);return v?h.set("Prefer",s?`count=${s},return=minimal`:"return=minimal"):s&&h.set("Prefer",`count=${s}`),new Bn({method:r,url:u,headers:h,schema:this.schemaName,body:c,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch,urlLengthLimit:this.urlLengthLimit})}};class o0{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const a=globalThis.process;if(a){const n=a.versions;if(n&&n.node){const i=n.node,s=parseInt(i.replace(/^v/,"").split(".")[0]);return s>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${s} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${s} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let a=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(a+=`

Suggested solution: ${t.workaround}`),new Error(a)}static createWebSocket(t,a){const n=this.getWebSocketConstructor();return new n(t,a)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const u0="2.94.1",c0=`realtime-js/${u0}`,d0="1.0.0",Rv="2.0.0",rh=Rv,vu=1e4,h0=1e3,f0=100;var Ta;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Ta||(Ta={}));var Qe;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Qe||(Qe={}));var Kt;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Kt||(Kt={}));var gu;(function(e){e.websocket="websocket"})(gu||(gu={}));var on;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(on||(on={}));class m0{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,a){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return a(this._binaryEncodeUserBroadcastPush(t));let n=[t.join_ref,t.ref,t.topic,t.event,t.payload];return a(JSON.stringify(n))}_binaryEncodeUserBroadcastPush(t){var a;return this._isArrayBuffer((a=t.payload)===null||a===void 0?void 0:a.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var a,n;const i=(n=(a=t.payload)===null||a===void 0?void 0:a.payload)!==null&&n!==void 0?n:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,i)}_encodeJsonUserBroadcastPush(t){var a,n;const i=(n=(a=t.payload)===null||a===void 0?void 0:a.payload)!==null&&n!==void 0?n:{},l=new TextEncoder().encode(JSON.stringify(i)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,l)}_encodeUserBroadcastPush(t,a,n){var i,s;const l=t.topic,r=(i=t.ref)!==null&&i!==void 0?i:"",u=(s=t.join_ref)!==null&&s!==void 0?s:"",c=t.payload.event,d=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},v=Object.keys(d).length===0?"":JSON.stringify(d);if(u.length>255)throw new Error(`joinRef length ${u.length} exceeds maximum of 255`);if(r.length>255)throw new Error(`ref length ${r.length} exceeds maximum of 255`);if(l.length>255)throw new Error(`topic length ${l.length} exceeds maximum of 255`);if(c.length>255)throw new Error(`userEvent length ${c.length} exceeds maximum of 255`);if(v.length>255)throw new Error(`metadata length ${v.length} exceeds maximum of 255`);const h=this.USER_BROADCAST_PUSH_META_LENGTH+u.length+r.length+l.length+c.length+v.length,f=new ArrayBuffer(this.HEADER_LENGTH+h);let y=new DataView(f),S=0;y.setUint8(S++,this.KINDS.userBroadcastPush),y.setUint8(S++,u.length),y.setUint8(S++,r.length),y.setUint8(S++,l.length),y.setUint8(S++,c.length),y.setUint8(S++,v.length),y.setUint8(S++,a),Array.from(u,g=>y.setUint8(S++,g.charCodeAt(0))),Array.from(r,g=>y.setUint8(S++,g.charCodeAt(0))),Array.from(l,g=>y.setUint8(S++,g.charCodeAt(0))),Array.from(c,g=>y.setUint8(S++,g.charCodeAt(0))),Array.from(v,g=>y.setUint8(S++,g.charCodeAt(0)));var w=new Uint8Array(f.byteLength+n.byteLength);return w.set(new Uint8Array(f),0),w.set(new Uint8Array(n),f.byteLength),w.buffer}decode(t,a){if(this._isArrayBuffer(t)){let n=this._binaryDecode(t);return a(n)}if(typeof t=="string"){const n=JSON.parse(t),[i,s,l,r,u]=n;return a({join_ref:i,ref:s,topic:l,event:r,payload:u})}return a({})}_binaryDecode(t){const a=new DataView(t),n=a.getUint8(0),i=new TextDecoder;switch(n){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,a,i)}}_decodeUserBroadcast(t,a,n){const i=a.getUint8(1),s=a.getUint8(2),l=a.getUint8(3),r=a.getUint8(4);let u=this.HEADER_LENGTH+4;const c=n.decode(t.slice(u,u+i));u=u+i;const d=n.decode(t.slice(u,u+s));u=u+s;const v=n.decode(t.slice(u,u+l));u=u+l;const h=t.slice(u,t.byteLength),f=r===this.JSON_ENCODING?JSON.parse(n.decode(h)):h,y={type:this.BROADCAST_EVENT,event:d,payload:f};return l>0&&(y.meta=JSON.parse(v)),{join_ref:null,ref:null,topic:c,event:this.BROADCAST_EVENT,payload:y}}_isArrayBuffer(t){var a;return t instanceof ArrayBuffer||((a=t==null?void 0:t.constructor)===null||a===void 0?void 0:a.name)==="ArrayBuffer"}_pick(t,a){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([n])=>a.includes(n)))}}class Dv{constructor(t,a){this.callback=t,this.timerCalc=a,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=a}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var _e;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(_e||(_e={}));const oh=(e,t,a={})=>{var n;const i=(n=a.skipTypes)!==null&&n!==void 0?n:[];return t?Object.keys(t).reduce((s,l)=>(s[l]=v0(l,e,t,i),s),{}):{}},v0=(e,t,a,n)=>{const i=t.find(r=>r.name===e),s=i==null?void 0:i.type,l=a[e];return s&&!n.includes(s)?Uv(s,l):pu(l)},Uv=(e,t)=>{if(e.charAt(0)==="_"){const a=e.slice(1,e.length);return b0(t,a)}switch(e){case _e.bool:return g0(t);case _e.float4:case _e.float8:case _e.int2:case _e.int4:case _e.int8:case _e.numeric:case _e.oid:return p0(t);case _e.json:case _e.jsonb:return y0(t);case _e.timestamp:return _0(t);case _e.abstime:case _e.date:case _e.daterange:case _e.int4range:case _e.int8range:case _e.money:case _e.reltime:case _e.text:case _e.time:case _e.timestamptz:case _e.timetz:case _e.tsrange:case _e.tstzrange:return pu(t);default:return pu(t)}},pu=e=>e,g0=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},p0=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},y0=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e},b0=(e,t)=>{if(typeof e!="string")return e;const a=e.length-1,n=e[a];if(e[0]==="{"&&n==="}"){let s;const l=e.slice(1,a);try{s=JSON.parse("["+l+"]")}catch{s=l?l.split(","):[]}return s.map(r=>Uv(t,r))}return e},_0=e=>typeof e=="string"?e.replace(" ","T"):e,kv=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class co{constructor(t,a,n={},i=vu){this.channel=t,this.event=a,this.payload=n,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,a){var n;return this._hasReceived(t)&&a((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:a}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=a=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=a,this._matchReceive(a)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,a){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:a})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:a}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(a))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var uh;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(uh||(uh={}));class ns{constructor(t,a){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(a==null?void 0:a.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},i=>{const{onJoin:s,onLeave:l,onSync:r}=this.caller;this.joinRef=this.channel._joinRef(),this.state=ns.syncState(this.state,i,s,l),this.pendingDiffs.forEach(u=>{this.state=ns.syncDiff(this.state,u,s,l)}),this.pendingDiffs=[],r()}),this.channel._on(n.diff,{},i=>{const{onJoin:s,onLeave:l,onSync:r}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=ns.syncDiff(this.state,i,s,l),r())}),this.onJoin((i,s,l)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:s,newPresences:l})}),this.onLeave((i,s,l)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:s,leftPresences:l})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,a,n,i){const s=this.cloneDeep(t),l=this.transformState(a),r={},u={};return this.map(s,(c,d)=>{l[c]||(u[c]=d)}),this.map(l,(c,d)=>{const v=s[c];if(v){const h=d.map(w=>w.presence_ref),f=v.map(w=>w.presence_ref),y=d.filter(w=>f.indexOf(w.presence_ref)<0),S=v.filter(w=>h.indexOf(w.presence_ref)<0);y.length>0&&(r[c]=y),S.length>0&&(u[c]=S)}else r[c]=d}),this.syncDiff(s,{joins:r,leaves:u},n,i)}static syncDiff(t,a,n,i){const{joins:s,leaves:l}={joins:this.transformState(a.joins),leaves:this.transformState(a.leaves)};return n||(n=()=>{}),i||(i=()=>{}),this.map(s,(r,u)=>{var c;const d=(c=t[r])!==null&&c!==void 0?c:[];if(t[r]=this.cloneDeep(u),d.length>0){const v=t[r].map(f=>f.presence_ref),h=d.filter(f=>v.indexOf(f.presence_ref)<0);t[r].unshift(...h)}n(r,d,u)}),this.map(l,(r,u)=>{let c=t[r];if(!c)return;const d=u.map(v=>v.presence_ref);c=c.filter(v=>d.indexOf(v.presence_ref)<0),t[r]=c,i(r,c,u),c.length===0&&delete t[r]}),t}static map(t,a){return Object.getOwnPropertyNames(t).map(n=>a(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((a,n)=>{const i=t[n];return"metas"in i?a[n]=i.metas.map(s=>(s.presence_ref=s.phx_ref,delete s.phx_ref,delete s.phx_ref_prev,s)):a[n]=i,a},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var ch;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(ch||(ch={}));var is;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(is||(is={}));var la;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(la||(la={}));class Fn{constructor(t,a={config:{}},n){var i,s;if(this.topic=t,this.params=a,this.socket=n,this.bindings={},this.state=Qe.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},a.config),this.timeout=this.socket.timeout,this.joinPush=new co(this,Kt.join,this.params,this.timeout),this.rejoinTimer=new Dv(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Qe.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(l=>l.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Qe.closed,this.socket._remove(this)}),this._onError(l=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,l),this.state=Qe.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Qe.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",l=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,l),this.state=Qe.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Kt.reply,{},(l,r)=>{this._trigger(this._replyEventName(r),l)}),this.presence=new ns(this),this.broadcastEndpointURL=kv(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((s=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||s===void 0)&&s.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,a=this.timeout){var n,i,s;if(this.socket.isConnected()||this.socket.connect(),this.state==Qe.closed){const{config:{broadcast:l,presence:r,private:u}}=this.params,c=(i=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(f=>f.filter))!==null&&i!==void 0?i:[],d=!!this.bindings[is.PRESENCE]&&this.bindings[is.PRESENCE].length>0||((s=this.params.config.presence)===null||s===void 0?void 0:s.enabled)===!0,v={},h={broadcast:l,presence:Object.assign(Object.assign({},r),{enabled:d}),postgres_changes:c,private:u};this.socket.accessTokenValue&&(v.access_token=this.socket.accessTokenValue),this._onError(f=>t==null?void 0:t(la.CHANNEL_ERROR,f)),this._onClose(()=>t==null?void 0:t(la.CLOSED)),this.updateJoinPayload(Object.assign({config:h},v)),this.joinedOnce=!0,this._rejoin(a),this.joinPush.receive("ok",async({postgres_changes:f})=>{var y;if(this.socket._isManualToken()||this.socket.setAuth(),f===void 0){t==null||t(la.SUBSCRIBED);return}else{const S=this.bindings.postgres_changes,w=(y=S==null?void 0:S.length)!==null&&y!==void 0?y:0,g=[];for(let m=0;m<w;m++){const p=S[m],{filter:{event:_,schema:T,table:x,filter:j}}=p,D=f&&f[m];if(D&&D.event===_&&Fn.isFilterValueEqual(D.schema,T)&&Fn.isFilterValueEqual(D.table,x)&&Fn.isFilterValueEqual(D.filter,j))g.push(Object.assign(Object.assign({},p),{id:D.id}));else{this.unsubscribe(),this.state=Qe.errored,t==null||t(la.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=g,t&&t(la.SUBSCRIBED);return}}).receive("error",f=>{this.state=Qe.errored,t==null||t(la.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(f).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(la.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,a={}){return await this.send({type:"presence",event:"track",payload:t},a.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,a,n){return this.state===Qe.joined&&t===is.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(t,a,n)}async httpSend(t,a,n={}){var i;if(a==null)return Promise.reject("Payload is required for httpSend()");const s={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(s.Authorization=`Bearer ${this.socket.accessTokenValue}`);const l={method:"POST",headers:s,body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:a,private:this.private}]})},r=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(i=n.timeout)!==null&&i!==void 0?i:this.timeout);if(r.status===202)return{success:!0};let u=r.statusText;try{const c=await r.json();u=c.error||c.message||u}catch{}return Promise.reject(new Error(u))}async send(t,a={}){var n,i;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:s,payload:l}=t,r={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(r.Authorization=`Bearer ${this.socket.accessTokenValue}`);const u={method:"POST",headers:r,body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:l,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,u,(n=a.timeout)!==null&&n!==void 0?n:this.timeout);return await((i=c.body)===null||i===void 0?void 0:i.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var l,r,u;const c=this._push(t.type,t,a.timeout||this.timeout);t.type==="broadcast"&&!(!((u=(r=(l=this.params)===null||l===void 0?void 0:l.config)===null||r===void 0?void 0:r.broadcast)===null||u===void 0)&&u.ack)&&s("ok"),c.receive("ok",()=>s("ok")),c.receive("error",()=>s("error")),c.receive("timeout",()=>s("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Qe.leaving;const a=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Kt.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(i=>{n=new co(this,Kt.leave,{},t),n.receive("ok",()=>{a(),i("ok")}).receive("timeout",()=>{a(),i("timed out")}).receive("error",()=>{i("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Qe.closed,this.bindings={}}async _fetchWithTimeout(t,a,n){const i=new AbortController,s=setTimeout(()=>i.abort(),n),l=await this.socket.fetch(t,Object.assign(Object.assign({},a),{signal:i.signal}));return clearTimeout(s),l}_push(t,a,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new co(this,t,a,n);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>f0){const a=this.pushBuffer.shift();a&&(a.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${a.event}`,a.payload))}}_onMessage(t,a,n){return a}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,a,n){var i,s;const l=t.toLocaleLowerCase(),{close:r,error:u,leave:c,join:d}=Kt;if(n&&[r,u,c,d].indexOf(l)>=0&&n!==this._joinRef())return;let h=this._onMessage(l,a,n);if(a&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(l)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(f=>{var y,S,w;return((y=f.filter)===null||y===void 0?void 0:y.event)==="*"||((w=(S=f.filter)===null||S===void 0?void 0:S.event)===null||w===void 0?void 0:w.toLocaleLowerCase())===l}).map(f=>f.callback(h,n)):(s=this.bindings[l])===null||s===void 0||s.filter(f=>{var y,S,w,g,m,p;if(["broadcast","presence","postgres_changes"].includes(l))if("id"in f){const _=f.id,T=(y=f.filter)===null||y===void 0?void 0:y.event;return _&&((S=a.ids)===null||S===void 0?void 0:S.includes(_))&&(T==="*"||(T==null?void 0:T.toLocaleLowerCase())===((w=a.data)===null||w===void 0?void 0:w.type.toLocaleLowerCase()))}else{const _=(m=(g=f==null?void 0:f.filter)===null||g===void 0?void 0:g.event)===null||m===void 0?void 0:m.toLocaleLowerCase();return _==="*"||_===((p=a==null?void 0:a.event)===null||p===void 0?void 0:p.toLocaleLowerCase())}else return f.type.toLocaleLowerCase()===l}).map(f=>{if(typeof h=="object"&&"ids"in h){const y=h.data,{schema:S,table:w,commit_timestamp:g,type:m,errors:p}=y;h=Object.assign(Object.assign({},{schema:S,table:w,commit_timestamp:g,eventType:m,new:{},old:{},errors:p}),this._getPayloadRecords(y))}f.callback(h,n)})}_isClosed(){return this.state===Qe.closed}_isJoined(){return this.state===Qe.joined}_isJoining(){return this.state===Qe.joining}_isLeaving(){return this.state===Qe.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,a,n){const i=t.toLocaleLowerCase(),s={type:i,filter:a,callback:n};return this.bindings[i]?this.bindings[i].push(s):this.bindings[i]=[s],this}_off(t,a){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(i=>{var s;return!(((s=i.type)===null||s===void 0?void 0:s.toLocaleLowerCase())===n&&Fn.isEqual(i.filter,a))})),this}static isEqual(t,a){if(Object.keys(t).length!==Object.keys(a).length)return!1;for(const n in t)if(t[n]!==a[n])return!1;return!0}static isFilterValueEqual(t,a){return(t??void 0)===(a??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Kt.close,{},t)}_onError(t){this._on(Kt.error,{},a=>t(a))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Qe.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const a={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(a.new=oh(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(a.old=oh(t.columns,t.old_record)),a}}const ho=()=>{},nl={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},S0=[1e3,2e3,5e3,1e4],w0=1e4,E0=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class x0{constructor(t,a){var n;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=vu,this.transport=null,this.heartbeatIntervalMs=nl.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=ho,this.ref=0,this.reconnectTimer=null,this.vsn=rh,this.logger=ho,this.conn=null,this.sendBuffer=[],this.serializer=new m0,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=i=>i?(...s)=>i(...s):(...s)=>fetch(...s),!(!((n=a==null?void 0:a.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=a.params.apikey,this.endPoint=`${t}/${gu.websocket}`,this.httpEndpoint=kv(t),this._initializeOptions(a),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(a==null?void 0:a.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=o0.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const a=t.message;throw a.includes("Node.js")?new Error(`${a}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${a}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,a){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,a??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const a=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),a}async removeAllChannels(){const t=await Promise.all(this.channels.map(a=>a.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,a,n){this.logger(t,a,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Ta.connecting:return on.Connecting;case Ta.open:return on.Open;case Ta.closing:return on.Closing;default:return on.Closed}}isConnected(){return this.connectionState()===on.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,a={config:{}}){const n=`realtime:${t}`,i=this.getChannels().find(s=>s.topic===n);if(i)return i;{const s=new Fn(`realtime:${t}`,a,this);return this.channels.push(s),s}}push(t){const{topic:a,event:n,payload:i,ref:s}=t,l=()=>{this.encode(t,r=>{var u;(u=this.conn)===null||u===void 0||u.send(r)})};this.log("push",`${a} ${n} (${s})`,i),this.isConnected()?l():this.sendBuffer.push(l)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(a){this.log("error","error in heartbeat callback",a)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(a){this.log("error","error in heartbeat callback",a)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(h0,"heartbeat timeout"),setTimeout(()=>{var a;this.isConnected()||(a=this.reconnectTimer)===null||a===void 0||a.scheduleTimeout()},nl.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(a){this.log("error","error in heartbeat callback",a)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let a=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));a&&(this.log("transport",`leaving duplicate topic "${t}"`),a.unsubscribe())}_remove(t){this.channels=this.channels.filter(a=>a.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,a=>{if(a.topic==="phoenix"&&a.event==="phx_reply"&&a.ref&&a.ref===this.pendingHeartbeatRef){const c=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(a.payload.status==="ok"?"ok":"error",c)}catch(d){this.log("error","error in heartbeat callback",d)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:n,event:i,payload:s,ref:l}=a,r=l?`(${l})`:"",u=s.status||"";this.log("receive",`${u} ${n} ${i} ${r}`.trim(),s),this.channels.filter(c=>c._isMember(n)).forEach(c=>c._trigger(i,s,l)),this._triggerStateCallbacks("message",a)})}_clearTimer(t){var a;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((a=this.reconnectTimer)===null||a===void 0||a.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t),this.conn.readyState===Ta.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===Ta.open||this.conn.readyState===Ta.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(a=>{this.log("error","error waiting for auth on connect",a),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=a=>{this.log("worker","worker error",a.message),this._terminateWorker()},this.workerRef.onmessage=a=>{a.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(t){var a;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(a=this.reconnectTimer)===null||a===void 0||a.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t);try{this.heartbeatCallback("error")}catch(a){this.log("error","error in heartbeat callback",a)}}_triggerChanError(){this.channels.forEach(t=>t._trigger(Kt.error))}_appendParams(t,a){if(Object.keys(a).length===0)return t;const n=t.match(/\?/)?"&":"?",i=new URLSearchParams(a);return`${t}${n}${i}`}_workerObjectUrl(t){let a;if(t)a=t;else{const n=new Blob([E0],{type:"application/javascript"});a=URL.createObjectURL(n)}return a}_setConnectionState(t,a=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=a)}async _performAuth(t=null){let a,n=!1;if(t)a=t,n=!0;else if(this.accessToken)try{a=await this.accessToken()}catch(i){this.log("error","Error fetching access token from callback",i),a=this.accessTokenValue}else a=this.accessTokenValue;n?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=a&&(this.accessTokenValue=a,this.channels.forEach(i=>{const s={access_token:a,version:c0};a&&i.updateJoinPayload(s),i.joinedOnce&&i._isJoined()&&i._push(Kt.access_token,{access_token:a})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this._isManualToken()||this.setAuth().catch(a=>{this.log("error",`Error setting auth in ${t}`,a)})}_triggerStateCallbacks(t,a){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(a)}catch(i){this.log("error",`error in ${t} callback`,i)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new Dv(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},nl.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var a,n,i,s,l,r,u,c,d,v,h,f;switch(this.transport=(a=t==null?void 0:t.transport)!==null&&a!==void 0?a:null,this.timeout=(n=t==null?void 0:t.timeout)!==null&&n!==void 0?n:vu,this.heartbeatIntervalMs=(i=t==null?void 0:t.heartbeatIntervalMs)!==null&&i!==void 0?i:nl.HEARTBEAT_INTERVAL,this.worker=(s=t==null?void 0:t.worker)!==null&&s!==void 0?s:!1,this.accessToken=(l=t==null?void 0:t.accessToken)!==null&&l!==void 0?l:null,this.heartbeatCallback=(r=t==null?void 0:t.heartbeatCallback)!==null&&r!==void 0?r:ho,this.vsn=(u=t==null?void 0:t.vsn)!==null&&u!==void 0?u:rh,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(c=t==null?void 0:t.reconnectAfterMs)!==null&&c!==void 0?c:y=>S0[y-1]||w0,this.vsn){case d0:this.encode=(d=t==null?void 0:t.encode)!==null&&d!==void 0?d:(y,S)=>S(JSON.stringify(y)),this.decode=(v=t==null?void 0:t.decode)!==null&&v!==void 0?v:(y,S)=>S(JSON.parse(y));break;case Rv:this.encode=(h=t==null?void 0:t.encode)!==null&&h!==void 0?h:this.serializer.encode.bind(this.serializer),this.decode=(f=t==null?void 0:t.decode)!==null&&f!==void 0?f:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}var _s=class extends Error{constructor(e,t){var a;super(e),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&((a=t.icebergType)==null?void 0:a.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function j0(e,t,a){const n=new URL(t,e);if(a)for(const[i,s]of Object.entries(a))s!==void 0&&n.searchParams.set(i,s);return n.toString()}async function T0(e){return!e||e.type==="none"?{}:e.type==="bearer"?{Authorization:`Bearer ${e.token}`}:e.type==="header"?{[e.name]:e.value}:e.type==="custom"?await e.getHeaders():{}}function A0(e){const t=e.fetchImpl??globalThis.fetch;return{async request({method:a,path:n,query:i,body:s,headers:l}){const r=j0(e.baseUrl,n,i),u=await T0(e.auth),c=await t(r,{method:a,headers:{...s?{"Content-Type":"application/json"}:{},...u,...l},body:s?JSON.stringify(s):void 0}),d=await c.text(),v=(c.headers.get("content-type")||"").includes("application/json"),h=v&&d?JSON.parse(d):d;if(!c.ok){const f=v?h:void 0,y=f==null?void 0:f.error;throw new _s((y==null?void 0:y.message)??`Request failed with status ${c.status}`,{status:c.status,icebergType:y==null?void 0:y.type,icebergCode:y==null?void 0:y.code,details:f})}return{status:c.status,headers:c.headers,data:h}}}}function il(e){return e.join("")}var O0=class{constructor(e,t=""){this.client=e,this.prefix=t}async listNamespaces(e){const t=e?{parent:il(e.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(n=>({namespace:n}))}async createNamespace(e,t){const a={namespace:e.namespace,properties:t==null?void 0:t.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:a})).data}async dropNamespace(e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${il(e.namespace)}`})}async loadNamespaceMetadata(e){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${il(e.namespace)}`})).data.properties}}async namespaceExists(e){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${il(e.namespace)}`}),!0}catch(t){if(t instanceof _s&&t.status===404)return!1;throw t}}async createNamespaceIfNotExists(e,t){try{return await this.createNamespace(e,t)}catch(a){if(a instanceof _s&&a.status===409)return;throw a}}};function Cn(e){return e.join("")}var C0=class{constructor(e,t="",a){this.client=e,this.prefix=t,this.accessDelegation=a}async listTables(e){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Cn(e.namespace)}/tables`})).data.identifiers}async createTable(e,t){const a={};return this.accessDelegation&&(a["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Cn(e.namespace)}/tables`,body:t,headers:a})).data.metadata}async updateTable(e,t){const a=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Cn(e.namespace)}/tables/${e.name}`,body:t});return{"metadata-location":a.data["metadata-location"],metadata:a.data.metadata}}async dropTable(e,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Cn(e.namespace)}/tables/${e.name}`,query:{purgeRequested:String((t==null?void 0:t.purge)??!1)}})}async loadTable(e){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Cn(e.namespace)}/tables/${e.name}`,headers:t})).data.metadata}async tableExists(e){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Cn(e.namespace)}/tables/${e.name}`,headers:t}),!0}catch(a){if(a instanceof _s&&a.status===404)return!1;throw a}}async createTableIfNotExists(e,t){try{return await this.createTable(e,t)}catch(a){if(a instanceof _s&&a.status===409)return await this.loadTable({namespace:e.namespace,name:t.name});throw a}}},N0=class{constructor(e){var n;let t="v1";e.catalogName&&(t+=`/${e.catalogName}`);const a=e.baseUrl.endsWith("/")?e.baseUrl:`${e.baseUrl}/`;this.client=A0({baseUrl:a,auth:e.auth,fetchImpl:e.fetch}),this.accessDelegation=(n=e.accessDelegation)==null?void 0:n.join(","),this.namespaceOps=new O0(this.client,t),this.tableOps=new C0(this.client,t,this.accessDelegation)}async listNamespaces(e){return this.namespaceOps.listNamespaces(e)}async createNamespace(e,t){return this.namespaceOps.createNamespace(e,t)}async dropNamespace(e){await this.namespaceOps.dropNamespace(e)}async loadNamespaceMetadata(e){return this.namespaceOps.loadNamespaceMetadata(e)}async listTables(e){return this.tableOps.listTables(e)}async createTable(e,t){return this.tableOps.createTable(e,t)}async updateTable(e,t){return this.tableOps.updateTable(e,t)}async dropTable(e,t){await this.tableOps.dropTable(e,t)}async loadTable(e){return this.tableOps.loadTable(e)}async namespaceExists(e){return this.namespaceOps.namespaceExists(e)}async tableExists(e){return this.tableOps.tableExists(e)}async createNamespaceIfNotExists(e,t){return this.namespaceOps.createNamespaceIfNotExists(e,t)}async createTableIfNotExists(e,t){return this.tableOps.createTableIfNotExists(e,t)}},wr=class extends Error{constructor(e,t="storage",a,n){super(e),this.__isStorageError=!0,this.namespace=t,this.name=t==="vectors"?"StorageVectorsError":"StorageError",this.status=a,this.statusCode=n}};function Er(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}var sl=class extends wr{constructor(e,t,a,n="storage"){super(e,n,t,a),this.name=n==="vectors"?"StorageVectorsApiError":"StorageApiError",this.status=t,this.statusCode=a}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},zv=class extends wr{constructor(e,t,a="storage"){super(e,a),this.name=a==="vectors"?"StorageVectorsUnknownError":"StorageUnknownError",this.originalError=t}};const R0=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),D0=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},yu=e=>{if(Array.isArray(e))return e.map(a=>yu(a));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([a,n])=>{const i=a.replace(/([-_][a-z])/gi,s=>s.toUpperCase().replace(/[-_]/g,""));t[i]=yu(n)}),t},U0=e=>!e||typeof e!="string"||e.length===0||e.length>100||e.trim()!==e||e.includes("/")||e.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(e);function Ss(e){"@babel/helpers - typeof";return Ss=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ss(e)}function k0(e,t){if(Ss(e)!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var n=a.call(e,t);if(Ss(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function z0(e){var t=k0(e,"string");return Ss(t)=="symbol"?t:t+""}function M0(e,t,a){return(t=z0(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function dh(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),a.push.apply(a,n)}return a}function K(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?dh(Object(a),!0).forEach(function(n){M0(e,n,a[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):dh(Object(a)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(a,n))})}return e}const hh=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},q0=async(e,t,a,n)=>{if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!(a!=null&&a.noResolveJson)){const i=e,s=i.status||500;if(typeof i.json=="function")i.json().then(l=>{const r=(l==null?void 0:l.statusCode)||(l==null?void 0:l.code)||s+"";t(new sl(hh(l),s,r,n))}).catch(()=>{if(n==="vectors"){const l=s+"";t(new sl(i.statusText||`HTTP ${s} error`,s,l,n))}else{const l=s+"";t(new sl(i.statusText||`HTTP ${s} error`,s,l,n))}});else{const l=s+"";t(new sl(i.statusText||`HTTP ${s} error`,s,l,n))}}else t(new zv(hh(e),e,n))},B0=(e,t,a,n)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||e==="HEAD"||!n?K(K({},i),a):(D0(n)?(i.headers=K({"Content-Type":"application/json"},t==null?void 0:t.headers),i.body=JSON.stringify(n)):i.body=n,t!=null&&t.duplex&&(i.duplex=t.duplex),K(K({},i),a))};async function Mi(e,t,a,n,i,s,l){return new Promise((r,u)=>{e(a,B0(t,n,i,s)).then(c=>{if(!c.ok)throw c;if(n!=null&&n.noResolveJson)return c;if(l==="vectors"){const d=c.headers.get("content-type");if(c.headers.get("content-length")==="0"||c.status===204)return{};if(!d||!d.includes("application/json"))return{}}return c.json()}).then(c=>r(c)).catch(c=>q0(c,u,n,l))})}function Mv(e="storage"){return{get:async(t,a,n,i)=>Mi(t,"GET",a,n,i,void 0,e),post:async(t,a,n,i,s)=>Mi(t,"POST",a,i,s,n,e),put:async(t,a,n,i,s)=>Mi(t,"PUT",a,i,s,n,e),head:async(t,a,n,i)=>Mi(t,"HEAD",a,K(K({},n),{},{noResolveJson:!0}),i,void 0,e),remove:async(t,a,n,i,s)=>Mi(t,"DELETE",a,i,s,n,e)}}const L0=Mv("storage"),{get:ws,post:Vt,put:bu,head:H0,remove:Tc}=L0,wt=Mv("vectors");var Ai=class{constructor(e,t={},a,n="storage"){this.shouldThrowOnError=!1,this.url=e,this.headers=t,this.fetch=R0(a),this.namespace=n}throwOnError(){return this.shouldThrowOnError=!0,this}async handleOperation(e){var t=this;try{return{data:await e(),error:null}}catch(a){if(t.shouldThrowOnError)throw a;if(Er(a))return{data:null,error:a};throw a}}},$0=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t}then(e,t){return this.execute().then(e,t)}async execute(){var e=this;try{return{data:(await e.downloadFn()).body,error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(Er(t))return{data:null,error:t};throw t}}};let qv;qv=Symbol.toStringTag;var G0=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t,this[qv]="BlobDownloadBuilder",this.promise=null}asStream(){return new $0(this.downloadFn,this.shouldThrowOnError)}then(e,t){return this.getPromise().then(e,t)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var e=this;try{return{data:await(await e.downloadFn()).blob(),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(Er(t))return{data:null,error:t};throw t}}};const V0={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},fh={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var Y0=class extends Ai{constructor(e,t={},a,n){super(e,t,n,"storage"),this.bucketId=a}async uploadOrUpdate(e,t,a,n){var i=this;return i.handleOperation(async()=>{let s;const l=K(K({},fh),n);let r=K(K({},i.headers),e==="POST"&&{"x-upsert":String(l.upsert)});const u=l.metadata;typeof Blob<"u"&&a instanceof Blob?(s=new FormData,s.append("cacheControl",l.cacheControl),u&&s.append("metadata",i.encodeMetadata(u)),s.append("",a)):typeof FormData<"u"&&a instanceof FormData?(s=a,s.has("cacheControl")||s.append("cacheControl",l.cacheControl),u&&!s.has("metadata")&&s.append("metadata",i.encodeMetadata(u))):(s=a,r["cache-control"]=`max-age=${l.cacheControl}`,r["content-type"]=l.contentType,u&&(r["x-metadata"]=i.toBase64(i.encodeMetadata(u))),(typeof ReadableStream<"u"&&s instanceof ReadableStream||s&&typeof s=="object"&&"pipe"in s&&typeof s.pipe=="function")&&!l.duplex&&(l.duplex="half")),n!=null&&n.headers&&(r=K(K({},r),n.headers));const c=i._removeEmptyFolders(t),d=i._getFinalPath(c),v=await(e=="PUT"?bu:Vt)(i.fetch,`${i.url}/object/${d}`,s,K({headers:r},l!=null&&l.duplex?{duplex:l.duplex}:{}));return{path:c,id:v.Id,fullPath:v.Key}})}async upload(e,t,a){return this.uploadOrUpdate("POST",e,t,a)}async uploadToSignedUrl(e,t,a,n){var i=this;const s=i._removeEmptyFolders(e),l=i._getFinalPath(s),r=new URL(i.url+`/object/upload/sign/${l}`);return r.searchParams.set("token",t),i.handleOperation(async()=>{let u;const c=K({upsert:fh.upsert},n),d=K(K({},i.headers),{"x-upsert":String(c.upsert)});return typeof Blob<"u"&&a instanceof Blob?(u=new FormData,u.append("cacheControl",c.cacheControl),u.append("",a)):typeof FormData<"u"&&a instanceof FormData?(u=a,u.append("cacheControl",c.cacheControl)):(u=a,d["cache-control"]=`max-age=${c.cacheControl}`,d["content-type"]=c.contentType),{path:s,fullPath:(await bu(i.fetch,r.toString(),u,{headers:d})).Key}})}async createSignedUploadUrl(e,t){var a=this;return a.handleOperation(async()=>{let n=a._getFinalPath(e);const i=K({},a.headers);t!=null&&t.upsert&&(i["x-upsert"]="true");const s=await Vt(a.fetch,`${a.url}/object/upload/sign/${n}`,{},{headers:i}),l=new URL(a.url+s.url),r=l.searchParams.get("token");if(!r)throw new wr("No token returned by API");return{signedUrl:l.toString(),path:e,token:r}})}async update(e,t,a){return this.uploadOrUpdate("PUT",e,t,a)}async move(e,t,a){var n=this;return n.handleOperation(async()=>await Vt(n.fetch,`${n.url}/object/move`,{bucketId:n.bucketId,sourceKey:e,destinationKey:t,destinationBucket:a==null?void 0:a.destinationBucket},{headers:n.headers}))}async copy(e,t,a){var n=this;return n.handleOperation(async()=>({path:(await Vt(n.fetch,`${n.url}/object/copy`,{bucketId:n.bucketId,sourceKey:e,destinationKey:t,destinationBucket:a==null?void 0:a.destinationBucket},{headers:n.headers})).Key}))}async createSignedUrl(e,t,a){var n=this;return n.handleOperation(async()=>{let i=n._getFinalPath(e),s=await Vt(n.fetch,`${n.url}/object/sign/${i}`,K({expiresIn:t},a!=null&&a.transform?{transform:a.transform}:{}),{headers:n.headers});const l=a!=null&&a.download?`&download=${a.download===!0?"":a.download}`:"";return{signedUrl:encodeURI(`${n.url}${s.signedURL}${l}`)}})}async createSignedUrls(e,t,a){var n=this;return n.handleOperation(async()=>{const i=await Vt(n.fetch,`${n.url}/object/sign/${n.bucketId}`,{expiresIn:t,paths:e},{headers:n.headers}),s=a!=null&&a.download?`&download=${a.download===!0?"":a.download}`:"";return i.map(l=>K(K({},l),{},{signedUrl:l.signedURL?encodeURI(`${n.url}${l.signedURL}${s}`):null}))})}download(e,t){const a=typeof(t==null?void 0:t.transform)<"u"?"render/image/authenticated":"object",n=this.transformOptsToQueryString((t==null?void 0:t.transform)||{}),i=n?`?${n}`:"",s=this._getFinalPath(e),l=()=>ws(this.fetch,`${this.url}/${a}/${s}${i}`,{headers:this.headers,noResolveJson:!0});return new G0(l,this.shouldThrowOnError)}async info(e){var t=this;const a=t._getFinalPath(e);return t.handleOperation(async()=>yu(await ws(t.fetch,`${t.url}/object/info/${a}`,{headers:t.headers})))}async exists(e){var t=this;const a=t._getFinalPath(e);try{return await H0(t.fetch,`${t.url}/object/${a}`,{headers:t.headers}),{data:!0,error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Er(n)&&n instanceof zv){const i=n.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:n}}throw n}}getPublicUrl(e,t){const a=this._getFinalPath(e),n=[],i=t!=null&&t.download?`download=${t.download===!0?"":t.download}`:"";i!==""&&n.push(i);const s=typeof(t==null?void 0:t.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((t==null?void 0:t.transform)||{});l!==""&&n.push(l);let r=n.join("&");return r!==""&&(r=`?${r}`),{data:{publicUrl:encodeURI(`${this.url}/${s}/public/${a}${r}`)}}}async remove(e){var t=this;return t.handleOperation(async()=>await Tc(t.fetch,`${t.url}/object/${t.bucketId}`,{prefixes:e},{headers:t.headers}))}async list(e,t,a){var n=this;return n.handleOperation(async()=>{const i=K(K(K({},V0),t),{},{prefix:e||""});return await Vt(n.fetch,`${n.url}/object/list/${n.bucketId}`,i,{headers:n.headers},a)})}async listV2(e,t){var a=this;return a.handleOperation(async()=>{const n=K({},e);return await Vt(a.fetch,`${a.url}/object/list-v2/${a.bucketId}`,n,{headers:a.headers},t)})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}};const K0="2.94.1",Bs={"X-Client-Info":`storage-js/${K0}`};var Q0=class extends Ai{constructor(e,t={},a,n){const i=new URL(e);n!=null&&n.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase."));const s=i.href.replace(/\/$/,""),l=K(K({},Bs),t);super(s,l,a,"storage")}async listBuckets(e){var t=this;return t.handleOperation(async()=>{const a=t.listBucketOptionsToQueryString(e);return await ws(t.fetch,`${t.url}/bucket${a}`,{headers:t.headers})})}async getBucket(e){var t=this;return t.handleOperation(async()=>await ws(t.fetch,`${t.url}/bucket/${e}`,{headers:t.headers}))}async createBucket(e,t={public:!1}){var a=this;return a.handleOperation(async()=>await Vt(a.fetch,`${a.url}/bucket`,{id:e,name:e,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:a.headers}))}async updateBucket(e,t){var a=this;return a.handleOperation(async()=>await bu(a.fetch,`${a.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:a.headers}))}async emptyBucket(e){var t=this;return t.handleOperation(async()=>await Vt(t.fetch,`${t.url}/bucket/${e}/empty`,{},{headers:t.headers}))}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await Tc(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}))}listBucketOptionsToQueryString(e){const t={};return e&&("limit"in e&&(t.limit=String(e.limit)),"offset"in e&&(t.offset=String(e.offset)),e.search&&(t.search=e.search),e.sortColumn&&(t.sortColumn=e.sortColumn),e.sortOrder&&(t.sortOrder=e.sortOrder)),Object.keys(t).length>0?"?"+new URLSearchParams(t).toString():""}},X0=class extends Ai{constructor(e,t={},a){const n=e.replace(/\/$/,""),i=K(K({},Bs),t);super(n,i,a,"storage")}async createBucket(e){var t=this;return t.handleOperation(async()=>await Vt(t.fetch,`${t.url}/bucket`,{name:e},{headers:t.headers}))}async listBuckets(e){var t=this;return t.handleOperation(async()=>{const a=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&a.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&a.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&a.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&a.set("sortOrder",e.sortOrder),e!=null&&e.search&&a.set("search",e.search);const n=a.toString(),i=n?`${t.url}/bucket?${n}`:`${t.url}/bucket`;return await ws(t.fetch,i,{headers:t.headers})})}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await Tc(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}))}from(e){var t=this;if(!U0(e))throw new wr("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const a=new N0({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:async()=>t.headers},fetch:this.fetch}),n=this.shouldThrowOnError;return new Proxy(a,{get(i,s){const l=i[s];return typeof l!="function"?l:async(...r)=>{try{return{data:await l.apply(i,r),error:null}}catch(u){if(n)throw u;return{data:null,error:u}}}}})}},J0=class extends Ai{constructor(e,t={},a){const n=e.replace(/\/$/,""),i=K(K({},Bs),{},{"Content-Type":"application/json"},t);super(n,i,a,"vectors")}async createIndex(e){var t=this;return t.handleOperation(async()=>await wt.post(t.fetch,`${t.url}/CreateIndex`,e,{headers:t.headers})||{})}async getIndex(e,t){var a=this;return a.handleOperation(async()=>await wt.post(a.fetch,`${a.url}/GetIndex`,{vectorBucketName:e,indexName:t},{headers:a.headers}))}async listIndexes(e){var t=this;return t.handleOperation(async()=>await wt.post(t.fetch,`${t.url}/ListIndexes`,e,{headers:t.headers}))}async deleteIndex(e,t){var a=this;return a.handleOperation(async()=>await wt.post(a.fetch,`${a.url}/DeleteIndex`,{vectorBucketName:e,indexName:t},{headers:a.headers})||{})}},Z0=class extends Ai{constructor(e,t={},a){const n=e.replace(/\/$/,""),i=K(K({},Bs),{},{"Content-Type":"application/json"},t);super(n,i,a,"vectors")}async putVectors(e){var t=this;if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return t.handleOperation(async()=>await wt.post(t.fetch,`${t.url}/PutVectors`,e,{headers:t.headers})||{})}async getVectors(e){var t=this;return t.handleOperation(async()=>await wt.post(t.fetch,`${t.url}/GetVectors`,e,{headers:t.headers}))}async listVectors(e){var t=this;if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return t.handleOperation(async()=>await wt.post(t.fetch,`${t.url}/ListVectors`,e,{headers:t.headers}))}async queryVectors(e){var t=this;return t.handleOperation(async()=>await wt.post(t.fetch,`${t.url}/QueryVectors`,e,{headers:t.headers}))}async deleteVectors(e){var t=this;if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return t.handleOperation(async()=>await wt.post(t.fetch,`${t.url}/DeleteVectors`,e,{headers:t.headers})||{})}},I0=class extends Ai{constructor(e,t={},a){const n=e.replace(/\/$/,""),i=K(K({},Bs),{},{"Content-Type":"application/json"},t);super(n,i,a,"vectors")}async createBucket(e){var t=this;return t.handleOperation(async()=>await wt.post(t.fetch,`${t.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{})}async getBucket(e){var t=this;return t.handleOperation(async()=>await wt.post(t.fetch,`${t.url}/GetVectorBucket`,{vectorBucketName:e},{headers:t.headers}))}async listBuckets(e={}){var t=this;return t.handleOperation(async()=>await wt.post(t.fetch,`${t.url}/ListVectorBuckets`,e,{headers:t.headers}))}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await wt.post(t.fetch,`${t.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{})}},W0=class extends I0{constructor(e,t={}){super(e,t.headers||{},t.fetch)}from(e){return new P0(this.url,this.headers,e,this.fetch)}async createBucket(e){var t=()=>super.createBucket,a=this;return t().call(a,e)}async getBucket(e){var t=()=>super.getBucket,a=this;return t().call(a,e)}async listBuckets(e={}){var t=()=>super.listBuckets,a=this;return t().call(a,e)}async deleteBucket(e){var t=()=>super.deleteBucket,a=this;return t().call(a,e)}},P0=class extends J0{constructor(e,t,a,n){super(e,t,n),this.vectorBucketName=a}async createIndex(e){var t=()=>super.createIndex,a=this;return t().call(a,K(K({},e),{},{vectorBucketName:a.vectorBucketName}))}async listIndexes(e={}){var t=()=>super.listIndexes,a=this;return t().call(a,K(K({},e),{},{vectorBucketName:a.vectorBucketName}))}async getIndex(e){var t=()=>super.getIndex,a=this;return t().call(a,a.vectorBucketName,e)}async deleteIndex(e){var t=()=>super.deleteIndex,a=this;return t().call(a,a.vectorBucketName,e)}index(e){return new F0(this.url,this.headers,this.vectorBucketName,e,this.fetch)}},F0=class extends Z0{constructor(e,t,a,n,i){super(e,t,i),this.vectorBucketName=a,this.indexName=n}async putVectors(e){var t=()=>super.putVectors,a=this;return t().call(a,K(K({},e),{},{vectorBucketName:a.vectorBucketName,indexName:a.indexName}))}async getVectors(e){var t=()=>super.getVectors,a=this;return t().call(a,K(K({},e),{},{vectorBucketName:a.vectorBucketName,indexName:a.indexName}))}async listVectors(e={}){var t=()=>super.listVectors,a=this;return t().call(a,K(K({},e),{},{vectorBucketName:a.vectorBucketName,indexName:a.indexName}))}async queryVectors(e){var t=()=>super.queryVectors,a=this;return t().call(a,K(K({},e),{},{vectorBucketName:a.vectorBucketName,indexName:a.indexName}))}async deleteVectors(e){var t=()=>super.deleteVectors,a=this;return t().call(a,K(K({},e),{},{vectorBucketName:a.vectorBucketName,indexName:a.indexName}))}},eb=class extends Q0{constructor(e,t={},a,n){super(e,t,a,n)}from(e){return new Y0(this.url,this.headers,e,this.fetch)}get vectors(){return new W0(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new X0(this.url+"/iceberg",this.headers,this.fetch)}};const Bv="2.94.1",Ln=30*1e3,_u=3,fo=_u*Ln,tb="http://localhost:9999",ab="supabase.auth.token",nb={"X-Client-Info":`gotrue-js/${Bv}`},Su="X-Supabase-Api-Version",Lv={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},ib=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,sb=10*60*1e3;class Es extends Error{constructor(t,a,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=a,this.code=n}}function q(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class lb extends Es{constructor(t,a,n){super(t,a,n),this.name="AuthApiError",this.status=a,this.code=n}}function rb(e){return q(e)&&e.name==="AuthApiError"}class un extends Es{constructor(t,a){super(t),this.name="AuthUnknownError",this.originalError=a}}class Sa extends Es{constructor(t,a,n,i){super(t,n,i),this.name=a,this.status=n}}class yt extends Sa{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function mo(e){return q(e)&&e.name==="AuthSessionMissingError"}class Nn extends Sa{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class ll extends Sa{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class rl extends Sa{constructor(t,a=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=a}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function ob(e){return q(e)&&e.name==="AuthImplicitGrantRedirectError"}class mh extends Sa{constructor(t,a=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=a}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class ub extends Sa{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class wu extends Sa{constructor(t,a){super(t,"AuthRetryableFetchError",a,void 0)}}function vo(e){return q(e)&&e.name==="AuthRetryableFetchError"}class vh extends Sa{constructor(t,a,n){super(t,"AuthWeakPasswordError",a,"weak_password"),this.reasons=n}}class Eu extends Sa{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Fl="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),gh=` 	
\r=`.split(""),cb=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<gh.length;t+=1)e[gh[t].charCodeAt(0)]=-2;for(let t=0;t<Fl.length;t+=1)e[Fl[t].charCodeAt(0)]=t;return e})();function ph(e,t,a){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;a(Fl[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;a(Fl[n]),t.queuedBits-=6}}function Hv(e,t,a){const n=cb[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)a(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function yh(e){const t=[],a=l=>{t.push(String.fromCodePoint(l))},n={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},s=l=>{fb(l,n,a)};for(let l=0;l<e.length;l+=1)Hv(e.charCodeAt(l),i,s);return t.join("")}function db(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function hb(e,t){for(let a=0;a<e.length;a+=1){let n=e.charCodeAt(a);if(n>55295&&n<=56319){const i=(n-55296)*1024&65535;n=(e.charCodeAt(a+1)-56320&65535|i)+65536,a+=1}db(n,t)}}function fb(e,t,a){if(t.utf8seq===0){if(e<=127){a(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&a(t.codepoint)}}function ri(e){const t=[],a={queue:0,queuedBits:0},n=i=>{t.push(i)};for(let i=0;i<e.length;i+=1)Hv(e.charCodeAt(i),a,n);return new Uint8Array(t)}function mb(e){const t=[];return hb(e,a=>t.push(a)),new Uint8Array(t)}function cn(e){const t=[],a={queue:0,queuedBits:0},n=i=>{t.push(i)};return e.forEach(i=>ph(i,a,n)),ph(null,a,n),t.join("")}function vb(e){return Math.round(Date.now()/1e3)+e}function gb(){return Symbol("auth-callback")}const et=()=>typeof window<"u"&&typeof document<"u",en={tested:!1,writable:!1},$v=()=>{if(!et())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(en.tested)return en.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),en.tested=!0,en.writable=!0}catch{en.tested=!0,en.writable=!1}return en.writable};function pb(e){const t={},a=new URL(e);if(a.hash&&a.hash[0]==="#")try{new URLSearchParams(a.hash.substring(1)).forEach((i,s)=>{t[s]=i})}catch{}return a.searchParams.forEach((n,i)=>{t[i]=n}),t}const Gv=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),yb=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Hn=async(e,t,a)=>{await e.setItem(t,JSON.stringify(a))},tn=async(e,t)=>{const a=await e.getItem(t);if(!a)return null;try{return JSON.parse(a)}catch{return a}},Fe=async(e,t)=>{await e.removeItem(t)};class xr{constructor(){this.promise=new xr.promiseConstructor((t,a)=>{this.resolve=t,this.reject=a})}}xr.promiseConstructor=Promise;function ol(e){const t=e.split(".");if(t.length!==3)throw new Eu("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!ib.test(t[n]))throw new Eu("JWT not in base64url format");return{header:JSON.parse(yh(t[0])),payload:JSON.parse(yh(t[1])),signature:ri(t[2]),raw:{header:t[0],payload:t[1]}}}async function bb(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function _b(e,t){return new Promise((n,i)=>{(async()=>{for(let s=0;s<1/0;s++)try{const l=await e(s);if(!t(s,null,l)){n(l);return}}catch(l){if(!t(s,l)){i(l);return}}})()})}function Sb(e){return("0"+e.toString(16)).substr(-2)}function wb(){const t=new Uint32Array(56);if(typeof crypto>"u"){const a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=a.length;let i="";for(let s=0;s<56;s++)i+=a.charAt(Math.floor(Math.random()*n));return i}return crypto.getRandomValues(t),Array.from(t,Sb).join("")}async function Eb(e){const a=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",a),i=new Uint8Array(n);return Array.from(i).map(s=>String.fromCharCode(s)).join("")}async function xb(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const a=await Eb(e);return btoa(a).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Rn(e,t,a=!1){const n=wb();let i=n;a&&(i+="/PASSWORD_RECOVERY"),await Hn(e,`${t}-code-verifier`,i);const s=await xb(n);return[s,n===s?"plain":"s256"]}const jb=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Tb(e){const t=e.headers.get(Su);if(!t||!t.match(jb))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function Ab(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function Ob(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Cb=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Dn(e){if(!Cb.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function go(){const e={};return new Proxy(e,{get:(t,a)=>{if(a==="__isUserNotAvailableProxy")return!0;if(typeof a=="symbol"){const n=a.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${a}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,a)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${a}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,a)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${a}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Nb(e,t){return new Proxy(e,{get:(a,n,i)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const s=n.toString();if(s==="Symbol(Symbol.toPrimitive)"||s==="Symbol(Symbol.toStringTag)"||s==="Symbol(util.inspect.custom)"||s==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(a,n,i)}return!t.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(a,n,i)}})}function bh(e){return JSON.parse(JSON.stringify(e))}const rn=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Rb=[502,503,504];async function _h(e){var t;if(!yb(e))throw new wu(rn(e),0);if(Rb.includes(e.status))throw new wu(rn(e),e.status);let a;try{a=await e.json()}catch(s){throw new un(rn(s),s)}let n;const i=Tb(e);if(i&&i.getTime()>=Lv["2024-01-01"].timestamp&&typeof a=="object"&&a&&typeof a.code=="string"?n=a.code:typeof a=="object"&&a&&typeof a.error_code=="string"&&(n=a.error_code),n){if(n==="weak_password")throw new vh(rn(a),e.status,((t=a.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new yt}else if(typeof a=="object"&&a&&typeof a.weak_password=="object"&&a.weak_password&&Array.isArray(a.weak_password.reasons)&&a.weak_password.reasons.length&&a.weak_password.reasons.reduce((s,l)=>s&&typeof l=="string",!0))throw new vh(rn(a),e.status,a.weak_password.reasons);throw new lb(rn(a),e.status||500,n)}const Db=(e,t,a,n)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),i.body=JSON.stringify(n),Object.assign(Object.assign({},i),a))};async function V(e,t,a,n){var i;const s=Object.assign({},n==null?void 0:n.headers);s[Su]||(s[Su]=Lv["2024-01-01"].name),n!=null&&n.jwt&&(s.Authorization=`Bearer ${n.jwt}`);const l=(i=n==null?void 0:n.query)!==null&&i!==void 0?i:{};n!=null&&n.redirectTo&&(l.redirect_to=n.redirectTo);const r=Object.keys(l).length?"?"+new URLSearchParams(l).toString():"",u=await Ub(e,t,a+r,{headers:s,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(u):{data:Object.assign({},u),error:null}}async function Ub(e,t,a,n,i,s){const l=Db(t,n,i,s);let r;try{r=await e(a,Object.assign({},l))}catch(u){throw console.error(u),new wu(rn(u),0)}if(r.ok||await _h(r),n!=null&&n.noResolveJson)return r;try{return await r.json()}catch(u){await _h(u)}}function Gt(e){var t;let a=null;Mb(e)&&(a=Object.assign({},e),e.expires_at||(a.expires_at=vb(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:a,user:n},error:null}}function Sh(e){const t=Gt(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((a,n)=>a&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Ra(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function kb(e){return{data:e,error:null}}function zb(e){const{action_link:t,email_otp:a,hashed_token:n,redirect_to:i,verification_type:s}=e,l=Sr(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),r={action_link:t,email_otp:a,hashed_token:n,redirect_to:i,verification_type:s},u=Object.assign({},l);return{data:{properties:r,user:u},error:null}}function wh(e){return e}function Mb(e){return e.access_token&&e.refresh_token&&e.expires_in}const po=["global","local","others"];class qb{constructor({url:t="",headers:a={},fetch:n}){this.url=t,this.headers=a,this.fetch=Gv(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,a=po[0]){if(po.indexOf(a)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${po.join(", ")}`);try{return await V(this.fetch,"POST",`${this.url}/logout?scope=${a}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(q(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,a={}){try{return await V(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:a.data},headers:this.headers,redirectTo:a.redirectTo,xform:Ra})}catch(n){if(q(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:a}=t,n=Sr(t,["options"]),i=Object.assign(Object.assign({},n),a);return"newEmail"in n&&(i.new_email=n==null?void 0:n.newEmail,delete i.newEmail),await V(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:zb,redirectTo:a==null?void 0:a.redirectTo})}catch(a){if(q(a))return{data:{properties:null,user:null},error:a};throw a}}async createUser(t){try{return await V(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Ra})}catch(a){if(q(a))return{data:{user:null},error:a};throw a}}async listUsers(t){var a,n,i,s,l,r,u;try{const c={nextPage:null,lastPage:0,total:0},d=await V(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(a=t==null?void 0:t.page)===null||a===void 0?void 0:a.toString())!==null&&n!==void 0?n:"",per_page:(s=(i=t==null?void 0:t.perPage)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""},xform:wh});if(d.error)throw d.error;const v=await d.json(),h=(l=d.headers.get("x-total-count"))!==null&&l!==void 0?l:0,f=(u=(r=d.headers.get("link"))===null||r===void 0?void 0:r.split(","))!==null&&u!==void 0?u:[];return f.length>0&&(f.forEach(y=>{const S=parseInt(y.split(";")[0].split("=")[1].substring(0,1)),w=JSON.parse(y.split(";")[1].split("=")[1]);c[`${w}Page`]=S}),c.total=parseInt(h)),{data:Object.assign(Object.assign({},v),c),error:null}}catch(c){if(q(c))return{data:{users:[]},error:c};throw c}}async getUserById(t){Dn(t);try{return await V(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Ra})}catch(a){if(q(a))return{data:{user:null},error:a};throw a}}async updateUserById(t,a){Dn(t);try{return await V(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:a,headers:this.headers,xform:Ra})}catch(n){if(q(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,a=!1){Dn(t);try{return await V(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:a},xform:Ra})}catch(n){if(q(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){Dn(t.userId);try{const{data:a,error:n}=await V(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:a,error:n}}catch(a){if(q(a))return{data:null,error:a};throw a}}async _deleteFactor(t){Dn(t.userId),Dn(t.id);try{return{data:await V(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(a){if(q(a))return{data:null,error:a};throw a}}async _listOAuthClients(t){var a,n,i,s,l,r,u;try{const c={nextPage:null,lastPage:0,total:0},d=await V(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(a=t==null?void 0:t.page)===null||a===void 0?void 0:a.toString())!==null&&n!==void 0?n:"",per_page:(s=(i=t==null?void 0:t.perPage)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""},xform:wh});if(d.error)throw d.error;const v=await d.json(),h=(l=d.headers.get("x-total-count"))!==null&&l!==void 0?l:0,f=(u=(r=d.headers.get("link"))===null||r===void 0?void 0:r.split(","))!==null&&u!==void 0?u:[];return f.length>0&&(f.forEach(y=>{const S=parseInt(y.split(";")[0].split("=")[1].substring(0,1)),w=JSON.parse(y.split(";")[1].split("=")[1]);c[`${w}Page`]=S}),c.total=parseInt(h)),{data:Object.assign(Object.assign({},v),c),error:null}}catch(c){if(q(c))return{data:{clients:[]},error:c};throw c}}async _createOAuthClient(t){try{return await V(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:a=>({data:a,error:null})})}catch(a){if(q(a))return{data:null,error:a};throw a}}async _getOAuthClient(t){try{return await V(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:a=>({data:a,error:null})})}catch(a){if(q(a))return{data:null,error:a};throw a}}async _updateOAuthClient(t,a){try{return await V(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:a,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(q(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(t){try{return await V(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(a){if(q(a))return{data:null,error:a};throw a}}async _regenerateOAuthClientSecret(t){try{return await V(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:a=>({data:a,error:null})})}catch(a){if(q(a))return{data:null,error:a};throw a}}}function Eh(e={}){return{getItem:t=>e[t]||null,setItem:(t,a)=>{e[t]=a},removeItem:t=>{delete e[t]}}}const Un={debug:!!(globalThis&&$v()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Vv extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class Bb extends Vv{}async function Lb(e,t,a){Un.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),Un.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async i=>{if(i){Un.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,i.name);try{return await a()}finally{Un.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,i.name)}}else{if(t===0)throw Un.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new Bb(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Un.debug)try{const s=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(s,null,"  "))}catch(s){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",s)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await a()}}))}function Hb(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function Yv(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function $b(e){return parseInt(e,16)}function Gb(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,n=>n.toString(16).padStart(2,"0")).join("")}function Vb(e){var t;const{chainId:a,domain:n,expirationTime:i,issuedAt:s=new Date,nonce:l,notBefore:r,requestId:u,resources:c,scheme:d,uri:v,version:h}=e;{if(!Number.isInteger(a))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${a}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(l&&l.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${l}`);if(!v)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(h!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${h}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const f=Yv(e.address),y=d?`${d}://${n}`:n,S=e.statement?`${e.statement}
`:"",w=`${y} wants you to sign in with your Ethereum account:
${f}

${S}`;let g=`URI: ${v}
Version: ${h}
Chain ID: ${a}${l?`
Nonce: ${l}`:""}
Issued At: ${s.toISOString()}`;if(i&&(g+=`
Expiration Time: ${i.toISOString()}`),r&&(g+=`
Not Before: ${r.toISOString()}`),u&&(g+=`
Request ID: ${u}`),c){let m=`
Resources:`;for(const p of c){if(!p||typeof p!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${p}`);m+=`
- ${p}`}g+=m}return`${w}
${g}`}class Le extends Error{constructor({message:t,code:a,cause:n,name:i}){var s;super(t,{cause:n}),this.__isWebAuthnError=!0,this.name=(s=i??(n instanceof Error?n.name:void 0))!==null&&s!==void 0?s:"Unknown Error",this.code=a}}class er extends Le{constructor(t,a){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:a,message:t}),this.name="WebAuthnUnknownError",this.originalError=a}}function Yb({error:e,options:t}){var a,n,i;const{publicKey:s}=t;if(!s)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Le({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((a=s.authenticatorSelection)===null||a===void 0?void 0:a.requireResidentKey)===!0)return new Le({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((n=s.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new Le({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((i=s.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new Le({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new Le({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new Le({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return s.pubKeyCredParams.filter(r=>r.type==="public-key").length===0?new Le({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new Le({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const l=window.location.hostname;if(Kv(l)){if(s.rp.id!==l)return new Le({message:`The RP ID "${s.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Le({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(s.user.id.byteLength<1||s.user.id.byteLength>64)return new Le({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new Le({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Le({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function Kb({error:e,options:t}){const{publicKey:a}=t;if(!a)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Le({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new Le({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const n=window.location.hostname;if(Kv(n)){if(a.rpId!==n)return new Le({message:`The RP ID "${a.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Le({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new Le({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Le({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class Qb{createNewAbortSignal(){if(this.controller){const a=new Error("Cancelling existing WebAuthn API call for new one");a.name="AbortError",this.controller.abort(a)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const Xb=new Qb;function Jb(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:a,excludeCredentials:n}=e,i=Sr(e,["challenge","user","excludeCredentials"]),s=ri(t).buffer,l=Object.assign(Object.assign({},a),{id:ri(a.id).buffer}),r=Object.assign(Object.assign({},i),{challenge:s,user:l});if(n&&n.length>0){r.excludeCredentials=new Array(n.length);for(let u=0;u<n.length;u++){const c=n[u];r.excludeCredentials[u]=Object.assign(Object.assign({},c),{id:ri(c.id).buffer,type:c.type||"public-key",transports:c.transports})}}return r}function Zb(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:a}=e,n=Sr(e,["challenge","allowCredentials"]),i=ri(t).buffer,s=Object.assign(Object.assign({},n),{challenge:i});if(a&&a.length>0){s.allowCredentials=new Array(a.length);for(let l=0;l<a.length;l++){const r=a[l];s.allowCredentials[l]=Object.assign(Object.assign({},r),{id:ri(r.id).buffer,type:r.type||"public-key",transports:r.transports})}}return s}function Ib(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const a=e;return{id:e.id,rawId:e.id,response:{attestationObject:cn(new Uint8Array(e.response.attestationObject)),clientDataJSON:cn(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=a.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function Wb(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const a=e,n=e.getClientExtensionResults(),i=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:cn(new Uint8Array(i.authenticatorData)),clientDataJSON:cn(new Uint8Array(i.clientDataJSON)),signature:cn(new Uint8Array(i.signature)),userHandle:i.userHandle?cn(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(t=a.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function Kv(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function xh(){var e,t;return!!(et()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function Pb(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new er("Browser returned unexpected credential type",t)}:{data:null,error:new er("Empty credential response",t)}}catch(t){return{data:null,error:Yb({error:t,options:e})}}}async function Fb(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new er("Browser returned unexpected credential type",t)}:{data:null,error:new er("Empty credential response",t)}}catch(t){return{data:null,error:Kb({error:t,options:e})}}}const e_={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},t_={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function tr(...e){const t=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),a=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),n={};for(const i of e)if(i)for(const s in i){const l=i[s];if(l!==void 0)if(Array.isArray(l))n[s]=l;else if(a(l))n[s]=l;else if(t(l)){const r=n[s];t(r)?n[s]=tr(r,l):n[s]=tr(l)}else n[s]=l}return n}function a_(e,t){return tr(e_,e,t||{})}function n_(e,t){return tr(t_,e,t||{})}class i_{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:a,friendlyName:n,signal:i},s){var l;try{const{data:r,error:u}=await this.client.mfa.challenge({factorId:t,webauthn:a});if(!r)return{data:null,error:u};const c=i??Xb.createNewAbortSignal();if(r.webauthn.type==="create"){const{user:d}=r.webauthn.credential_options.publicKey;if(!d.name){const v=n;if(v)d.name=`${d.id}:${v}`;else{const f=(await this.client.getUser()).data.user,y=((l=f==null?void 0:f.user_metadata)===null||l===void 0?void 0:l.name)||(f==null?void 0:f.email)||(f==null?void 0:f.id)||"User";d.name=`${d.id}:${y}`}}d.displayName||(d.displayName=d.name)}switch(r.webauthn.type){case"create":{const d=a_(r.webauthn.credential_options.publicKey,s==null?void 0:s.create),{data:v,error:h}=await Pb({publicKey:d,signal:c});return v?{data:{factorId:t,challengeId:r.id,webauthn:{type:r.webauthn.type,credential_response:v}},error:null}:{data:null,error:h}}case"request":{const d=n_(r.webauthn.credential_options.publicKey,s==null?void 0:s.request),{data:v,error:h}=await Fb(Object.assign(Object.assign({},r.webauthn.credential_options),{publicKey:d,signal:c}));return v?{data:{factorId:t,challengeId:r.id,webauthn:{type:r.webauthn.type,credential_response:v}},error:null}:{data:null,error:h}}}}catch(r){return q(r)?{data:null,error:r}:{data:null,error:new un("Unexpected error in challenge",r)}}}async _verify({challengeId:t,factorId:a,webauthn:n}){return this.client.mfa.verify({factorId:a,challengeId:t,webauthn:n})}async _authenticate({factorId:t,webauthn:{rpId:a=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},s){if(!a)return{data:null,error:new Es("rpId is required for WebAuthn authentication")};try{if(!xh())return{data:null,error:new un("Browser does not support WebAuthn",null)};const{data:l,error:r}=await this.challenge({factorId:t,webauthn:{rpId:a,rpOrigins:n},signal:i},{request:s});if(!l)return{data:null,error:r};const{webauthn:u}=l;return this._verify({factorId:t,challengeId:l.challengeId,webauthn:{type:u.type,rpId:a,rpOrigins:n,credential_response:u.credential_response}})}catch(l){return q(l)?{data:null,error:l}:{data:null,error:new un("Unexpected error in authenticate",l)}}}async _register({friendlyName:t,webauthn:{rpId:a=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},s){if(!a)return{data:null,error:new Es("rpId is required for WebAuthn registration")};try{if(!xh())return{data:null,error:new un("Browser does not support WebAuthn",null)};const{data:l,error:r}=await this._enroll({friendlyName:t});if(!l)return await this.client.mfa.listFactors().then(d=>{var v;return(v=d.data)===null||v===void 0?void 0:v.all.find(h=>h.factor_type==="webauthn"&&h.friendly_name===t&&h.status!=="unverified")}).then(d=>d?this.client.mfa.unenroll({factorId:d==null?void 0:d.id}):void 0),{data:null,error:r};const{data:u,error:c}=await this._challenge({factorId:l.id,friendlyName:l.friendly_name,webauthn:{rpId:a,rpOrigins:n},signal:i},{create:s});return u?this._verify({factorId:l.id,challengeId:u.challengeId,webauthn:{rpId:a,rpOrigins:n,type:u.webauthn.type,credential_response:u.webauthn.credential_response}}):{data:null,error:c}}catch(l){return q(l)?{data:null,error:l}:{data:null,error:new un("Unexpected error in register",l)}}}}Hb();const s_={url:tb,storageKey:ab,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:nb,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function jh(e,t,a){return await a()}const kn={};class xs{get jwks(){var t,a;return(a=(t=kn[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&a!==void 0?a:{keys:[]}}set jwks(t){kn[this.storageKey]=Object.assign(Object.assign({},kn[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,a;return(a=(t=kn[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&a!==void 0?a:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){kn[this.storageKey]=Object.assign(Object.assign({},kn[this.storageKey]),{cachedAt:t})}constructor(t){var a,n,i;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const s=Object.assign(Object.assign({},s_),t);if(this.storageKey=s.storageKey,this.instanceID=(a=xs.nextInstanceID[this.storageKey])!==null&&a!==void 0?a:0,xs.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.instanceID>0&&et()){const l=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(l),this.logDebugMessages&&console.trace(l)}if(this.persistSession=s.persistSession,this.autoRefreshToken=s.autoRefreshToken,this.admin=new qb({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=Gv(s.fetch),this.lock=s.lock||jh,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,this.throwOnError=s.throwOnError,this.lockAcquireTimeout=s.lockAcquireTimeout,s.lock?this.lock=s.lock:this.persistSession&&et()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=Lb:this.lock=jh,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new i_(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(s.storage?this.storage=s.storage:$v()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Eh(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=Eh(this.memoryStorage)),et()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(l){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",l)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async l=>{this._debug("received broadcast notification from other tab or client",l);try{await this._notifyAllSubscribers(l.data.event,l.data.session,!1)}catch(r){this._debug("#broadcastChannel","error",r)}})}this.initialize().catch(l=>{this._debug("#initialize()","error",l)})}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${Bv}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let a={},n="none";if(et()&&(a=pb(window.location.href),this._isImplicitGrantCallback(a)?n="implicit":await this._isPKCECallback(a)&&(n="pkce")),et()&&this.detectSessionInUrl&&n!=="none"){const{data:i,error:s}=await this._getSessionFromURL(a,n);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),ob(s)){const u=(t=s.details)===null||t===void 0?void 0:t.code;if(u==="identity_already_exists"||u==="identity_not_found"||u==="single_identity_not_deletable")return{error:s}}return{error:s}}const{session:l,redirectType:r}=i;return this._debug("#_initialize()","detected session in URL",l,"redirect type",r),await this._saveSession(l),setTimeout(async()=>{r==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",l):await this._notifyAllSubscribers("SIGNED_IN",l)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(a){return q(a)?this._returnResult({error:a}):this._returnResult({error:new un("Unexpected error during initialization",a)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var a,n,i;try{const s=await V(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(a=t==null?void 0:t.options)===null||a===void 0?void 0:a.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(i=t==null?void 0:t.options)===null||i===void 0?void 0:i.captchaToken}},xform:Gt}),{data:l,error:r}=s;if(r||!l)return this._returnResult({data:{user:null,session:null},error:r});const u=l.session,c=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",u)),this._returnResult({data:{user:c,session:u},error:null})}catch(s){if(q(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signUp(t){var a,n,i;try{let s;if("email"in t){const{email:d,password:v,options:h}=t;let f=null,y=null;this.flowType==="pkce"&&([f,y]=await Rn(this.storage,this.storageKey)),s=await V(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:d,password:v,data:(a=h==null?void 0:h.data)!==null&&a!==void 0?a:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:f,code_challenge_method:y},xform:Gt})}else if("phone"in t){const{phone:d,password:v,options:h}=t;s=await V(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:v,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},channel:(i=h==null?void 0:h.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:Gt})}else throw new ll("You must provide either an email or phone number and a password");const{data:l,error:r}=s;if(r||!l)return await Fe(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:r});const u=l.session,c=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",u)),this._returnResult({data:{user:c,session:u},error:null})}catch(s){if(await Fe(this.storage,`${this.storageKey}-code-verifier`),q(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithPassword(t){try{let a;if("email"in t){const{email:s,password:l,options:r}=t;a=await V(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:l,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:Sh})}else if("phone"in t){const{phone:s,password:l,options:r}=t;a=await V(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:l,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:Sh})}else throw new ll("You must provide either an email or phone number and a password");const{data:n,error:i}=a;if(i)return this._returnResult({data:{user:null,session:null},error:i});if(!n||!n.session||!n.user){const s=new Nn;return this._returnResult({data:{user:null,session:null},error:s})}return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),this._returnResult({data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:i})}catch(a){if(q(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithOAuth(t){var a,n,i,s;return await this._handleProviderSignIn(t.provider,{redirectTo:(a=t.options)===null||a===void 0?void 0:a.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(i=t.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(s=t.options)===null||s===void 0?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:a}=t;switch(a){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${a}"`)}}async signInWithEthereum(t){var a,n,i,s,l,r,u,c,d,v,h;let f,y;if("message"in t)f=t.message,y=t.signature;else{const{chain:S,wallet:w,statement:g,options:m}=t;let p;if(et())if(typeof w=="object")p=w;else{const U=window;if("ethereum"in U&&typeof U.ethereum=="object"&&"request"in U.ethereum&&typeof U.ethereum.request=="function")p=U.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof w!="object"||!(m!=null&&m.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");p=w}const _=new URL((a=m==null?void 0:m.url)!==null&&a!==void 0?a:window.location.href),T=await p.request({method:"eth_requestAccounts"}).then(U=>U).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!T||T.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const x=Yv(T[0]);let j=(n=m==null?void 0:m.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!j){const U=await p.request({method:"eth_chainId"});j=$b(U)}const D={domain:_.host,address:x,statement:g,uri:_.href,version:"1",chainId:j,nonce:(i=m==null?void 0:m.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(l=(s=m==null?void 0:m.signInWithEthereum)===null||s===void 0?void 0:s.issuedAt)!==null&&l!==void 0?l:new Date,expirationTime:(r=m==null?void 0:m.signInWithEthereum)===null||r===void 0?void 0:r.expirationTime,notBefore:(u=m==null?void 0:m.signInWithEthereum)===null||u===void 0?void 0:u.notBefore,requestId:(c=m==null?void 0:m.signInWithEthereum)===null||c===void 0?void 0:c.requestId,resources:(d=m==null?void 0:m.signInWithEthereum)===null||d===void 0?void 0:d.resources};f=Vb(D),y=await p.request({method:"personal_sign",params:[Gb(f),x]})}try{const{data:S,error:w}=await V(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:f,signature:y},!((v=t.options)===null||v===void 0)&&v.captchaToken?{gotrue_meta_security:{captcha_token:(h=t.options)===null||h===void 0?void 0:h.captchaToken}}:null),xform:Gt});if(w)throw w;if(!S||!S.session||!S.user){const g=new Nn;return this._returnResult({data:{user:null,session:null},error:g})}return S.session&&(await this._saveSession(S.session),await this._notifyAllSubscribers("SIGNED_IN",S.session)),this._returnResult({data:Object.assign({},S),error:w})}catch(S){if(q(S))return this._returnResult({data:{user:null,session:null},error:S});throw S}}async signInWithSolana(t){var a,n,i,s,l,r,u,c,d,v,h,f;let y,S;if("message"in t)y=t.message,S=t.signature;else{const{chain:w,wallet:g,statement:m,options:p}=t;let _;if(et())if(typeof g=="object")_=g;else{const x=window;if("solana"in x&&typeof x.solana=="object"&&("signIn"in x.solana&&typeof x.solana.signIn=="function"||"signMessage"in x.solana&&typeof x.solana.signMessage=="function"))_=x.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof g!="object"||!(p!=null&&p.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");_=g}const T=new URL((a=p==null?void 0:p.url)!==null&&a!==void 0?a:window.location.href);if("signIn"in _&&_.signIn){const x=await _.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},p==null?void 0:p.signInWithSolana),{version:"1",domain:T.host,uri:T.href}),m?{statement:m}:null));let j;if(Array.isArray(x)&&x[0]&&typeof x[0]=="object")j=x[0];else if(x&&typeof x=="object"&&"signedMessage"in x&&"signature"in x)j=x;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in j&&"signature"in j&&(typeof j.signedMessage=="string"||j.signedMessage instanceof Uint8Array)&&j.signature instanceof Uint8Array)y=typeof j.signedMessage=="string"?j.signedMessage:new TextDecoder().decode(j.signedMessage),S=j.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in _)||typeof _.signMessage!="function"||!("publicKey"in _)||typeof _!="object"||!_.publicKey||!("toBase58"in _.publicKey)||typeof _.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");y=[`${T.host} wants you to sign in with your Solana account:`,_.publicKey.toBase58(),...m?["",m,""]:[""],"Version: 1",`URI: ${T.href}`,`Issued At: ${(i=(n=p==null?void 0:p.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((s=p==null?void 0:p.signInWithSolana)===null||s===void 0)&&s.notBefore?[`Not Before: ${p.signInWithSolana.notBefore}`]:[],...!((l=p==null?void 0:p.signInWithSolana)===null||l===void 0)&&l.expirationTime?[`Expiration Time: ${p.signInWithSolana.expirationTime}`]:[],...!((r=p==null?void 0:p.signInWithSolana)===null||r===void 0)&&r.chainId?[`Chain ID: ${p.signInWithSolana.chainId}`]:[],...!((u=p==null?void 0:p.signInWithSolana)===null||u===void 0)&&u.nonce?[`Nonce: ${p.signInWithSolana.nonce}`]:[],...!((c=p==null?void 0:p.signInWithSolana)===null||c===void 0)&&c.requestId?[`Request ID: ${p.signInWithSolana.requestId}`]:[],...!((v=(d=p==null?void 0:p.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||v===void 0)&&v.length?["Resources",...p.signInWithSolana.resources.map(j=>`- ${j}`)]:[]].join(`
`);const x=await _.signMessage(new TextEncoder().encode(y),"utf8");if(!x||!(x instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");S=x}}try{const{data:w,error:g}=await V(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:y,signature:cn(S)},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(f=t.options)===null||f===void 0?void 0:f.captchaToken}}:null),xform:Gt});if(g)throw g;if(!w||!w.session||!w.user){const m=new Nn;return this._returnResult({data:{user:null,session:null},error:m})}return w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("SIGNED_IN",w.session)),this._returnResult({data:Object.assign({},w),error:g})}catch(w){if(q(w))return this._returnResult({data:{user:null,session:null},error:w});throw w}}async _exchangeCodeForSession(t){const a=await tn(this.storage,`${this.storageKey}-code-verifier`),[n,i]=(a??"").split("/");try{if(!n&&this.flowType==="pkce")throw new ub;const{data:s,error:l}=await V(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:Gt});if(await Fe(this.storage,`${this.storageKey}-code-verifier`),l)throw l;if(!s||!s.session||!s.user){const r=new Nn;return this._returnResult({data:{user:null,session:null,redirectType:null},error:r})}return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),this._returnResult({data:Object.assign(Object.assign({},s),{redirectType:i??null}),error:l})}catch(s){if(await Fe(this.storage,`${this.storageKey}-code-verifier`),q(s))return this._returnResult({data:{user:null,session:null,redirectType:null},error:s});throw s}}async signInWithIdToken(t){try{const{options:a,provider:n,token:i,access_token:s,nonce:l}=t,r=await V(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:i,access_token:s,nonce:l,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Gt}),{data:u,error:c}=r;if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!u||!u.session||!u.user){const d=new Nn;return this._returnResult({data:{user:null,session:null},error:d})}return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",u.session)),this._returnResult({data:u,error:c})}catch(a){if(q(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithOtp(t){var a,n,i,s,l;try{if("email"in t){const{email:r,options:u}=t;let c=null,d=null;this.flowType==="pkce"&&([c,d]=await Rn(this.storage,this.storageKey));const{error:v}=await V(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:r,data:(a=u==null?void 0:u.data)!==null&&a!==void 0?a:{},create_user:(n=u==null?void 0:u.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken},code_challenge:c,code_challenge_method:d},redirectTo:u==null?void 0:u.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:v})}if("phone"in t){const{phone:r,options:u}=t,{data:c,error:d}=await V(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:r,data:(i=u==null?void 0:u.data)!==null&&i!==void 0?i:{},create_user:(s=u==null?void 0:u.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken},channel:(l=u==null?void 0:u.channel)!==null&&l!==void 0?l:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:d})}throw new ll("You must provide either an email or phone number.")}catch(r){if(await Fe(this.storage,`${this.storageKey}-code-verifier`),q(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async verifyOtp(t){var a,n;try{let i,s;"options"in t&&(i=(a=t.options)===null||a===void 0?void 0:a.redirectTo,s=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:l,error:r}=await V(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:s}}),redirectTo:i,xform:Gt});if(r)throw r;if(!l)throw new Error("An error occurred on token verification.");const u=l.session,c=l.user;return u!=null&&u.access_token&&(await this._saveSession(u),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",u)),this._returnResult({data:{user:c,session:u},error:null})}catch(i){if(q(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithSSO(t){var a,n,i,s,l;try{let r=null,u=null;this.flowType==="pkce"&&([r,u]=await Rn(this.storage,this.storageKey));const c=await V(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(a=t.options)===null||a===void 0?void 0:a.redirectTo)!==null&&n!==void 0?n:void 0}),!((i=t==null?void 0:t.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:r,code_challenge_method:u}),headers:this.headers,xform:kb});return!((s=c.data)===null||s===void 0)&&s.url&&et()&&!(!((l=t.options)===null||l===void 0)&&l.skipBrowserRedirect)&&window.location.assign(c.data.url),this._returnResult(c)}catch(r){if(await Fe(this.storage,`${this.storageKey}-code-verifier`),q(r))return this._returnResult({data:null,error:r});throw r}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:a},error:n}=t;if(n)throw n;if(!a)throw new yt;const{error:i}=await V(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:a.access_token});return this._returnResult({data:{user:null,session:null},error:i})})}catch(t){if(q(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const a=`${this.url}/resend`;if("email"in t){const{email:n,type:i,options:s}=t,{error:l}=await V(this.fetch,"POST",a,{headers:this.headers,body:{email:n,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},redirectTo:s==null?void 0:s.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:l})}else if("phone"in t){const{phone:n,type:i,options:s}=t,{data:l,error:r}=await V(this.fetch,"POST",a,{headers:this.headers,body:{phone:n,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:l==null?void 0:l.message_id},error:r})}throw new ll("You must provide either an email or phone number and a type")}catch(a){if(q(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async a=>a))}async _acquireLock(t,a){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await n,await a()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=a();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const a=await this.__loadSession();return await t(a)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const a=await tn(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",a),a!==null&&(this._isValidSession(a)?t=a:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<fo:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const l=await tn(this.userStorage,this.storageKey+"-user");l!=null&&l.user?t.user=l.user:t.user=go()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const l={value:this.suppressGetSessionWarning};t.user=Nb(t.user,l),l.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:i,error:s}=await this._callRefreshToken(t.refresh_token);return s?this._returnResult({data:{session:null},error:s}):this._returnResult({data:{session:i},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){if(t)return await this._getUser(t);await this.initializePromise;const a=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return a.data.user&&(this.suppressGetSessionWarning=!0),a}async _getUser(t){try{return t?await V(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Ra}):await this._useSession(async a=>{var n,i,s;const{data:l,error:r}=a;if(r)throw r;return!(!((n=l.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new yt}:await V(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(i=l.session)===null||i===void 0?void 0:i.access_token)!==null&&s!==void 0?s:void 0,xform:Ra})})}catch(a){if(q(a))return mo(a)&&(await this._removeSession(),await Fe(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:a});throw a}}async updateUser(t,a={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(t,a))}async _updateUser(t,a={}){try{return await this._useSession(async n=>{const{data:i,error:s}=n;if(s)throw s;if(!i.session)throw new yt;const l=i.session;let r=null,u=null;this.flowType==="pkce"&&t.email!=null&&([r,u]=await Rn(this.storage,this.storageKey));const{data:c,error:d}=await V(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:a==null?void 0:a.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:r,code_challenge_method:u}),jwt:l.access_token,xform:Ra});if(d)throw d;return l.user=c.user,await this._saveSession(l),await this._notifyAllSubscribers("USER_UPDATED",l),this._returnResult({data:{user:l.user},error:null})})}catch(n){if(await Fe(this.storage,`${this.storageKey}-code-verifier`),q(n))return this._returnResult({data:{user:null},error:n});throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new yt;const a=Date.now()/1e3;let n=a,i=!0,s=null;const{payload:l}=ol(t.access_token);if(l.exp&&(n=l.exp,i=n<=a),i){const{data:r,error:u}=await this._callRefreshToken(t.refresh_token);if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!r)return{data:{user:null,session:null},error:null};s=r}else{const{data:r,error:u}=await this._getUser(t.access_token);if(u)return this._returnResult({data:{user:null,session:null},error:u});s={access_token:t.access_token,refresh_token:t.refresh_token,user:r.user,token_type:"bearer",expires_in:n-a,expires_at:n},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return this._returnResult({data:{user:s.user,session:s},error:null})}catch(a){if(q(a))return this._returnResult({data:{session:null,user:null},error:a});throw a}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async a=>{var n;if(!t){const{data:l,error:r}=a;if(r)throw r;t=(n=l.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new yt;const{data:i,error:s}=await this._callRefreshToken(t.refresh_token);return s?this._returnResult({data:{user:null,session:null},error:s}):i?this._returnResult({data:{user:i.user,session:i},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(a){if(q(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async _getSessionFromURL(t,a){try{if(!et())throw new rl("No browser detected.");if(t.error||t.error_description||t.error_code)throw new rl(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(a){case"implicit":if(this.flowType==="pkce")throw new mh("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new rl("Not a valid implicit grant flow url.");break;default:}if(a==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new mh("No code detected.");const{data:m,error:p}=await this._exchangeCodeForSession(t.code);if(p)throw p;const _=new URL(window.location.href);return _.searchParams.delete("code"),window.history.replaceState(window.history.state,"",_.toString()),{data:{session:m.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:i,access_token:s,refresh_token:l,expires_in:r,expires_at:u,token_type:c}=t;if(!s||!r||!l||!c)throw new rl("No session defined in URL");const d=Math.round(Date.now()/1e3),v=parseInt(r);let h=d+v;u&&(h=parseInt(u));const f=h-d;f*1e3<=Ln&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${f}s, should have been closer to ${v}s`);const y=h-v;d-y>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",y,h,d):d-y<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",y,h,d);const{data:S,error:w}=await this._getUser(s);if(w)throw w;const g={provider_token:n,provider_refresh_token:i,access_token:s,expires_in:v,expires_at:h,refresh_token:l,token_type:c,user:S.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:g,redirectType:t.type},error:null})}catch(n){if(q(n))return this._returnResult({data:{session:null,redirectType:null},error:n});throw n}}_isImplicitGrantCallback(t){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),t):!!(t.access_token||t.error_description)}async _isPKCECallback(t){const a=await tn(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&a)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async a=>{var n;const{data:i,error:s}=a;if(s&&!mo(s))return this._returnResult({error:s});const l=(n=i.session)===null||n===void 0?void 0:n.access_token;if(l){const{error:r}=await this.admin.signOut(l,t);if(r&&!(rb(r)&&(r.status===404||r.status===401||r.status===403)||mo(r)))return this._returnResult({error:r})}return t!=="others"&&(await this._removeSession(),await Fe(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const a=gb(),n={id:a,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",a),this.stateChangeEmitters.delete(a)}};return this._debug("#onAuthStateChange()","registered callback with id",a),this.stateChangeEmitters.set(a,n),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(a)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async a=>{var n,i;try{const{data:{session:s},error:l}=a;if(l)throw l;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",s)),this._debug("INITIAL_SESSION","callback id",t,"session",s)}catch(s){await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",s),console.error(s)}})}async resetPasswordForEmail(t,a={}){let n=null,i=null;this.flowType==="pkce"&&([n,i]=await Rn(this.storage,this.storageKey,!0));try{return await V(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:i,gotrue_meta_security:{captcha_token:a.captchaToken}},headers:this.headers,redirectTo:a.redirectTo})}catch(s){if(await Fe(this.storage,`${this.storageKey}-code-verifier`),q(s))return this._returnResult({data:null,error:s});throw s}}async getUserIdentities(){var t;try{const{data:a,error:n}=await this.getUser();if(n)throw n;return this._returnResult({data:{identities:(t=a.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(a){if(q(a))return this._returnResult({data:null,error:a});throw a}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var a;try{const{data:n,error:i}=await this._useSession(async s=>{var l,r,u,c,d;const{data:v,error:h}=s;if(h)throw h;const f=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(l=t.options)===null||l===void 0?void 0:l.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(u=t.options)===null||u===void 0?void 0:u.queryParams,skipBrowserRedirect:!0});return await V(this.fetch,"GET",f,{headers:this.headers,jwt:(d=(c=v.session)===null||c===void 0?void 0:c.access_token)!==null&&d!==void 0?d:void 0})});if(i)throw i;return et()&&!(!((a=t.options)===null||a===void 0)&&a.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),this._returnResult({data:{provider:t.provider,url:n==null?void 0:n.url},error:null})}catch(n){if(q(n))return this._returnResult({data:{provider:t.provider,url:null},error:n});throw n}}async linkIdentityIdToken(t){return await this._useSession(async a=>{var n;try{const{error:i,data:{session:s}}=a;if(i)throw i;const{options:l,provider:r,token:u,access_token:c,nonce:d}=t,v=await V(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=s==null?void 0:s.access_token)!==null&&n!==void 0?n:void 0,body:{provider:r,id_token:u,access_token:c,nonce:d,link_identity:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Gt}),{data:h,error:f}=v;return f?this._returnResult({data:{user:null,session:null},error:f}):!h||!h.session||!h.user?this._returnResult({data:{user:null,session:null},error:new Nn}):(h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("USER_UPDATED",h.session)),this._returnResult({data:h,error:f}))}catch(i){if(await Fe(this.storage,`${this.storageKey}-code-verifier`),q(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}})}async unlinkIdentity(t){try{return await this._useSession(async a=>{var n,i;const{data:s,error:l}=a;if(l)throw l;return await V(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(i=(n=s.session)===null||n===void 0?void 0:n.access_token)!==null&&i!==void 0?i:void 0})})}catch(a){if(q(a))return this._returnResult({data:null,error:a});throw a}}async _refreshAccessToken(t){const a=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(a,"begin");try{const n=Date.now();return await _b(async i=>(i>0&&await bb(200*Math.pow(2,i-1)),this._debug(a,"refreshing attempt",i),await V(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Gt})),(i,s)=>{const l=200*Math.pow(2,i);return s&&vo(s)&&Date.now()+l-n<Ln})}catch(n){if(this._debug(a,"error",n),q(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}finally{this._debug(a,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,a){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:a.redirectTo,scopes:a.scopes,queryParams:a.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",a,"url",n),et()&&!a.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,a;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const i=await tn(this.storage,this.storageKey);if(i&&this.userStorage){let l=await tn(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!l&&(l={user:i.user},await Hn(this.userStorage,this.storageKey+"-user",l)),i.user=(t=l==null?void 0:l.user)!==null&&t!==void 0?t:go()}else if(i&&!i.user&&!i.user){const l=await tn(this.storage,this.storageKey+"-user");l&&(l!=null&&l.user)?(i.user=l.user,await Fe(this.storage,this.storageKey+"-user"),await Hn(this.storage,this.storageKey,i)):i.user=go()}if(this._debug(n,"session from storage",i),!this._isValidSession(i)){this._debug(n,"session is not valid"),i!==null&&await this._removeSession();return}const s=((a=i.expires_at)!==null&&a!==void 0?a:1/0)*1e3-Date.now()<fo;if(this._debug(n,`session has${s?"":" not"} expired with margin of ${fo}s`),s){if(this.autoRefreshToken&&i.refresh_token){const{error:l}=await this._callRefreshToken(i.refresh_token);l&&(console.error(l),vo(l)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",l),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:l,error:r}=await this._getUser(i.access_token);!r&&(l!=null&&l.user)?(i.user=l.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(l){console.error("Error getting user data:",l),this._debug(n,"error getting user data, skipping SIGNED_IN notification",l)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(n,"error",i),console.error(i);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var a,n;if(!t)throw new yt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new xr;const{data:s,error:l}=await this._refreshAccessToken(t);if(l)throw l;if(!s.session)throw new yt;await this._saveSession(s.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);const r={data:s.session,error:null};return this.refreshingDeferred.resolve(r),r}catch(s){if(this._debug(i,"error",s),q(s)){const l={data:null,error:s};return vo(s)||await this._removeSession(),(a=this.refreshingDeferred)===null||a===void 0||a.resolve(l),l}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(s),s}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(t,a,n=!0){const i=`#_notifyAllSubscribers(${t})`;this._debug(i,"begin",a,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:a});const s=[],l=Array.from(this.stateChangeEmitters.values()).map(async r=>{try{await r.callback(t,a)}catch(u){s.push(u)}});if(await Promise.all(l),s.length>0){for(let r=0;r<s.length;r+=1)console.error(s[r]);throw s[0]}}finally{this._debug(i,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await Fe(this.storage,`${this.storageKey}-code-verifier`);const a=Object.assign({},t),n=a.user&&a.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&a.user&&await Hn(this.userStorage,this.storageKey+"-user",{user:a.user});const i=Object.assign({},a);delete i.user;const s=bh(i);await Hn(this.storage,this.storageKey,s)}else{const i=bh(a);await Hn(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await Fe(this.storage,this.storageKey),await Fe(this.storage,this.storageKey+"-code-verifier"),await Fe(this.storage,this.storageKey+"-user"),this.userStorage&&await Fe(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&et()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(a){console.error("removing visibilitychange callback failed",a)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Ln);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t);const a=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=a,a&&typeof a=="object"&&typeof a.unref=="function"?a.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(a)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t);const a=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,a&&clearTimeout(a)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async a=>{const{data:{session:n}}=a;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((n.expires_at*1e3-t)/Ln);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${Ln}ms, refresh threshold is ${_u} ticks`),i<=_u&&await this._callRefreshToken(n.refresh_token)})}catch(a){console.error("Auto refresh tick failed with error. This is likely a transient error.",a)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof Vv)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!et()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>{try{await this._onVisibilityChanged(!1)}catch(t){this._debug("#visibilityChangedCallback","error",t)}},window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const a=`#_onVisibilityChanged(${t})`;this._debug(a,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(a,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,a,n){const i=[`provider=${encodeURIComponent(a)}`];if(n!=null&&n.redirectTo&&i.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&i.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[s,l]=await Rn(this.storage,this.storageKey),r=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(l)}`});i.push(r.toString())}if(n!=null&&n.queryParams){const s=new URLSearchParams(n.queryParams);i.push(s.toString())}return n!=null&&n.skipBrowserRedirect&&i.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${i.join("&")}`}async _unenroll(t){try{return await this._useSession(async a=>{var n;const{data:i,error:s}=a;return s?this._returnResult({data:null,error:s}):await V(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token})})}catch(a){if(q(a))return this._returnResult({data:null,error:a});throw a}}async _enroll(t){try{return await this._useSession(async a=>{var n,i;const{data:s,error:l}=a;if(l)return this._returnResult({data:null,error:l});const r=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:u,error:c}=await V(this.fetch,"POST",`${this.url}/factors`,{body:r,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return c?this._returnResult({data:null,error:c}):(t.factorType==="totp"&&u.type==="totp"&&(!((i=u==null?void 0:u.totp)===null||i===void 0)&&i.qr_code)&&(u.totp.qr_code=`data:image/svg+xml;utf-8,${u.totp.qr_code}`),this._returnResult({data:u,error:null}))})}catch(a){if(q(a))return this._returnResult({data:null,error:a});throw a}}async _verify(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async a=>{var n;const{data:i,error:s}=a;if(s)return this._returnResult({data:null,error:s});const l=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?Ib(t.webauthn.credential_response):Wb(t.webauthn.credential_response)})}:{code:t.code}),{data:r,error:u}=await V(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:l,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return u?this._returnResult({data:null,error:u}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+r.expires_in},r)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",r),this._returnResult({data:r,error:u}))})}catch(a){if(q(a))return this._returnResult({data:null,error:a});throw a}})}async _challenge(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async a=>{var n;const{data:i,error:s}=a;if(s)return this._returnResult({data:null,error:s});const l=await V(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});if(l.error)return l;const{data:r}=l;if(r.type!=="webauthn")return{data:r,error:null};switch(r.webauthn.type){case"create":return{data:Object.assign(Object.assign({},r),{webauthn:Object.assign(Object.assign({},r.webauthn),{credential_options:Object.assign(Object.assign({},r.webauthn.credential_options),{publicKey:Jb(r.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},r),{webauthn:Object.assign(Object.assign({},r.webauthn),{credential_options:Object.assign(Object.assign({},r.webauthn.credential_options),{publicKey:Zb(r.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(a){if(q(a))return this._returnResult({data:null,error:a});throw a}})}async _challengeAndVerify(t){const{data:a,error:n}=await this._challenge({factorId:t.factorId});return n?this._returnResult({data:null,error:n}):await this._verify({factorId:t.factorId,challengeId:a.id,code:t.code})}async _listFactors(){var t;const{data:{user:a},error:n}=await this.getUser();if(n)return{data:null,error:n};const i={all:[],phone:[],totp:[],webauthn:[]};for(const s of(t=a==null?void 0:a.factors)!==null&&t!==void 0?t:[])i.all.push(s),s.status==="verified"&&i[s.factor_type].push(s);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(t){var a,n,i,s;if(t)try{const{payload:f}=ol(t);let y=null;f.aal&&(y=f.aal);let S=y;const{data:{user:w},error:g}=await this.getUser(t);if(g)return this._returnResult({data:null,error:g});((n=(a=w==null?void 0:w.factors)===null||a===void 0?void 0:a.filter(_=>_.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(S="aal2");const p=f.amr||[];return{data:{currentLevel:y,nextLevel:S,currentAuthenticationMethods:p},error:null}}catch(f){if(q(f))return this._returnResult({data:null,error:f});throw f}const{data:{session:l},error:r}=await this.getSession();if(r)return this._returnResult({data:null,error:r});if(!l)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:u}=ol(l.access_token);let c=null;u.aal&&(c=u.aal);let d=c;((s=(i=l.user.factors)===null||i===void 0?void 0:i.filter(f=>f.status==="verified"))!==null&&s!==void 0?s:[]).length>0&&(d="aal2");const h=u.amr||[];return{data:{currentLevel:c,nextLevel:d,currentAuthenticationMethods:h},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async a=>{const{data:{session:n},error:i}=a;return i?this._returnResult({data:null,error:i}):n?await V(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:n.access_token,xform:s=>({data:s,error:null})}):this._returnResult({data:null,error:new yt})})}catch(a){if(q(a))return this._returnResult({data:null,error:a});throw a}}async _approveAuthorization(t,a){try{return await this._useSession(async n=>{const{data:{session:i},error:s}=n;if(s)return this._returnResult({data:null,error:s});if(!i)return this._returnResult({data:null,error:new yt});const l=await V(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"approve"},xform:r=>({data:r,error:null})});return l.data&&l.data.redirect_url&&et()&&!(a!=null&&a.skipBrowserRedirect)&&window.location.assign(l.data.redirect_url),l})}catch(n){if(q(n))return this._returnResult({data:null,error:n});throw n}}async _denyAuthorization(t,a){try{return await this._useSession(async n=>{const{data:{session:i},error:s}=n;if(s)return this._returnResult({data:null,error:s});if(!i)return this._returnResult({data:null,error:new yt});const l=await V(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"deny"},xform:r=>({data:r,error:null})});return l.data&&l.data.redirect_url&&et()&&!(a!=null&&a.skipBrowserRedirect)&&window.location.assign(l.data.redirect_url),l})}catch(n){if(q(n))return this._returnResult({data:null,error:n});throw n}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:a},error:n}=t;return n?this._returnResult({data:null,error:n}):a?await V(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:a.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new yt})})}catch(t){if(q(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async a=>{const{data:{session:n},error:i}=a;return i?this._returnResult({data:null,error:i}):n?(await V(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,query:{client_id:t.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new yt})})}catch(a){if(q(a))return this._returnResult({data:null,error:a});throw a}}async fetchJwk(t,a={keys:[]}){let n=a.keys.find(r=>r.kid===t);if(n)return n;const i=Date.now();if(n=this.jwks.keys.find(r=>r.kid===t),n&&this.jwks_cached_at+sb>i)return n;const{data:s,error:l}=await V(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(l)throw l;return!s.keys||s.keys.length===0||(this.jwks=s,this.jwks_cached_at=i,n=s.keys.find(r=>r.kid===t),!n)?null:n}async getClaims(t,a={}){try{let n=t;if(!n){const{data:f,error:y}=await this.getSession();if(y||!f.session)return this._returnResult({data:null,error:y});n=f.session.access_token}const{header:i,payload:s,signature:l,raw:{header:r,payload:u}}=ol(n);a!=null&&a.allowExpired||Ab(s.exp);const c=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,a!=null&&a.keys?{keys:a.keys}:a==null?void 0:a.jwks);if(!c){const{error:f}=await this.getUser(n);if(f)throw f;return{data:{claims:s,header:i,signature:l},error:null}}const d=Ob(i.alg),v=await crypto.subtle.importKey("jwk",c,d,!0,["verify"]);if(!await crypto.subtle.verify(d,v,l,mb(`${r}.${u}`)))throw new Eu("Invalid JWT signature");return{data:{claims:s,header:i,signature:l},error:null}}catch(n){if(q(n))return this._returnResult({data:null,error:n});throw n}}}xs.nextInstanceID={};const l_=xs,r_="2.94.1";let Gi="";typeof Deno<"u"?Gi="deno":typeof document<"u"?Gi="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Gi="react-native":Gi="node";const o_={"X-Client-Info":`supabase-js-${Gi}/${r_}`},u_={headers:o_},c_={schema:"public"},d_={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},h_={};function js(e){"@babel/helpers - typeof";return js=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},js(e)}function f_(e,t){if(js(e)!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var n=a.call(e,t);if(js(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function m_(e){var t=f_(e,"string");return js(t)=="symbol"?t:t+""}function v_(e,t,a){return(t=m_(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function Th(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),a.push.apply(a,n)}return a}function Re(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?Th(Object(a),!0).forEach(function(n){v_(e,n,a[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Th(Object(a)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(a,n))})}return e}const g_=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),p_=()=>Headers,y_=(e,t,a)=>{const n=g_(a),i=p_();return async(s,l)=>{var r;const u=(r=await t())!==null&&r!==void 0?r:e;let c=new i(l==null?void 0:l.headers);return c.has("apikey")||c.set("apikey",e),c.has("Authorization")||c.set("Authorization",`Bearer ${u}`),n(s,Re(Re({},l),{},{headers:c}))}};function b_(e){return e.endsWith("/")?e:e+"/"}function __(e,t){var a,n;const{db:i,auth:s,realtime:l,global:r}=e,{db:u,auth:c,realtime:d,global:v}=t,h={db:Re(Re({},u),i),auth:Re(Re({},c),s),realtime:Re(Re({},d),l),storage:{},global:Re(Re(Re({},v),r),{},{headers:Re(Re({},(a=v==null?void 0:v.headers)!==null&&a!==void 0?a:{}),(n=r==null?void 0:r.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return e.accessToken?h.accessToken=e.accessToken:delete h.accessToken,h}function S_(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(b_(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var w_=class extends l_{constructor(e){super(e)}},E_=class{constructor(e,t,a){var n,i;this.supabaseUrl=e,this.supabaseKey=t;const s=S_(e);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",s),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",s),this.storageUrl=new URL("storage/v1",s),this.functionsUrl=new URL("functions/v1",s);const l=`sb-${s.hostname.split(".")[0]}-auth-token`,r={db:c_,realtime:h_,auth:Re(Re({},d_),{},{storageKey:l}),global:u_},u=__(a??{},r);if(this.storageKey=(n=u.auth.storageKey)!==null&&n!==void 0?n:"",this.headers=(i=u.global.headers)!==null&&i!==void 0?i:{},u.accessToken)this.accessToken=u.accessToken,this.auth=new Proxy({},{get:(d,v)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(v)} is not possible`)}});else{var c;this.auth=this._initSupabaseAuthClient((c=u.auth)!==null&&c!==void 0?c:{},this.headers,u.global.fetch)}this.fetch=y_(t,this._getAccessToken.bind(this),u.global.fetch),this.realtime=this._initRealtimeClient(Re({headers:this.headers,accessToken:this._getAccessToken.bind(this)},u.realtime)),this.accessToken&&Promise.resolve(this.accessToken()).then(d=>this.realtime.setAuth(d)).catch(d=>console.warn("Failed to set initial Realtime auth token:",d)),this.rest=new r0(new URL("rest/v1",s).href,{headers:this.headers,schema:u.db.schema,fetch:this.fetch,timeout:u.db.timeout,urlLengthLimit:u.db.urlLengthLimit}),this.storage=new eb(this.storageUrl.href,this.headers,this.fetch,a==null?void 0:a.storage),u.accessToken||this._listenForAuthEvents()}get functions(){return new Fy(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},a={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,t,a)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e=this,t,a;if(e.accessToken)return await e.accessToken();const{data:n}=await e.auth.getSession();return(t=(a=n.session)===null||a===void 0?void 0:a.access_token)!==null&&t!==void 0?t:e.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:a,storage:n,userStorage:i,storageKey:s,flowType:l,lock:r,debug:u,throwOnError:c},d,v){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new w_({url:this.authUrl.href,headers:Re(Re({},h),d),storageKey:s,autoRefreshToken:e,persistSession:t,detectSessionInUrl:a,storage:n,userStorage:i,flowType:l,lock:r,debug:u,throwOnError:c,fetch:v,hasCustomAuthorizationHeader:Object.keys(this.headers).some(f=>f.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new x0(this.realtimeUrl.href,Re(Re({},e),{},{params:Re(Re({},{apikey:this.supabaseKey}),e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,t)=>{this._handleTokenChanged(e,"CLIENT",t==null?void 0:t.access_token)})}_handleTokenChanged(e,t,a){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==a?(this.changedAccessToken=a,this.realtime.setAuth(a)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const x_=(e,t,a)=>new E_(e,t,a);function j_(){if(typeof window<"u")return!1;const e=globalThis.process;if(!e)return!1;const t=e.version;if(t==null)return!1;const a=t.match(/^v(\d+)\./);return a?parseInt(a[1],10)<=18:!1}j_()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const T_="https://tlezyskwzbhgdudmbfbn.supabase.co",A_="sb_publishable_BfuUsaSFroakOBq-fphG1A_WuuQPXYw",$=x_(T_,A_),O_=({onDateSelect:e,agendaId:t,agendas:a,token:n,userRole:i,onEditCita:s})=>{const[l,r]=A.useState(new Date),[u,c]=A.useState([]),[d,v]=A.useState([]),[h,f]=A.useState([]),[y,S]=A.useState([]),[w,g]=A.useState([]),[m,p]=A.useState([]),[_,T]=A.useState(""),[x,j]=A.useState(!1),[D,U]=A.useState("month");A.useEffect(()=>{t&&(he(),Ye(),ye(),O(),O(),L(),Y())},[t]);const Z=Array.from({length:24},(C,B)=>`${String(B).padStart(2,"0")}:00`),M=Array.isArray(a)?a.find(C=>C.id===t):null,Q=(M==null?void 0:M.slots_per_hour)||1,he=async()=>{if(t){j(!0);try{const{data:C,error:B}=await $.from("citas").select("*").eq("agenda_id",t);if(B)throw B;c(C||[])}catch(C){console.error("Error fetching citas:",C)}finally{j(!1)}}},Ye=async()=>{try{const{data:C,error:B}=await $.from("bloqueos").select("*").eq("agenda_id",t);if(B)throw B;v(C||[])}catch(C){console.error(C),v([])}},ye=async()=>{try{const{data:C,error:B}=await $.from("alertas").select("*").eq("agenda_id",t).eq("activa",1);if(B)throw B;f(C||[])}catch(C){console.error(C),f([])}},O=async()=>{try{const{data:C,error:B}=await $.from("horarios_atencion").select("*").eq("agenda_id",t);if(B)throw B;S(C||[])}catch{S([])}},L=async()=>{try{const{data:C,error:B}=await $.from("agenda_services").select("*, service:global_services(*)").eq("agenda_id",t);if(B)throw B;g(C||[])}catch{g([])}},Y=async()=>{try{const{data:C,error:B}=await $.from("horarios_servicios").select("*, service:global_services(*)").eq("agenda_id",t);if(B)throw B;p(C||[])}catch{p([])}},G=(C,B)=>{if(!_||!m.some(I=>I.service_id===parseInt(_)))return!0;const Ce=(C.getDay()+6)%7,[ie,Be]=B.split(":").map(Number),Pe=m.filter(I=>I.service_id===parseInt(_)&&I.dia_semana===Ce);return Pe.length===0?!1:Pe.some(I=>B>=I.hora_inicio&&B<I.hora_fin)},W=async C=>{const B=C.toISOString().split("T")[0],qe=prompt("Motivo del bloqueo (ej: Fuera de servicio, Almuerzo):","Fuera de servicio");if(qe!==null)try{const{error:Ce}=await $.from("bloqueos").insert({agenda_id:t,fecha_inicio:B,fecha_fin:B,es_todo_el_dia:1,motivo:qe});if(Ce)throw Ce;alert("Horario bloqueado correctamente"),Ye()}catch(Ce){console.error(Ce)}},Ke=async C=>{if(confirm("Ests seguro de que deseas eliminar esta cita?"))try{const{error:B}=await $.from("citas").delete().eq("id",C);if(B)throw B;he()}catch(B){console.error(B),alert("Error al eliminar")}},oe=C=>{if(i==="superuser"||i==="admin")return!0;const B=new Date;return new Date(`${C.fecha}T${C.hora}`)>B},ze=C=>{i==="superuser"||i==="admin"?confirm(`Qu deseas hacer?

ACEPTAR: Agendar Cita
CANCELAR: Poner Fuera de Servicio (Bloquear da)`)?e(C):W(C):e(C)},Me=(C,B)=>new Date(C,B+1,0).getDate(),le=()=>{const C=l.getFullYear(),B=l.getMonth(),qe=new Date(C,B,1).getDay(),Ce=Me(C,B),ie=[];for(let Be=0;Be<qe;Be++)ie.push(o.jsx("div",{className:"calendar-day empty"},`empty-${Be}`));for(let Be=1;Be<=Ce;Be++){const Pe=`${C}-${String(B+1).padStart(2,"0")}-${String(Be).padStart(2,"0")}`,ue=(new Date(C,B,Be).getDay()+6)%7,R=u.filter(X=>X.fecha===Pe),k=(d||[]).some(X=>X.fecha_inicio<=Pe&&X.fecha_fin>=Pe&&X.es_todo_el_dia&&X.tipo===1),ee=(d||[]).some(X=>X.fecha_inicio<=Pe&&X.fecha_fin>=Pe&&X.tipo===2),z=!y.some(X=>X.dia_semana===ue&&X.agenda_id===t)&&!ee;ie.push(o.jsxs("div",{className:`calendar-day ${k?"blocked-day":""} ${z?"closed-day":""}`,onClick:()=>ze(new Date(C,B,Be)),children:[o.jsx("span",{className:"day-number",children:Be}),o.jsx("div",{className:"day-appointments",children:k?o.jsx("div",{className:"blocked-label",children:"No disponible"}):z?o.jsx("div",{className:"closed-label",children:"No laborativo"}):o.jsxs(o.Fragment,{children:[R.slice(0,3).map(X=>o.jsxs("div",{className:"appointment-pill",children:[X.hora," ",X.nombres_completos.split(" ")[0]]},X.id)),R.length>3&&o.jsxs("div",{style:{fontSize:"0.6rem",color:"var(--primary)"},children:["+",R.length-3," ms"]})]})})]},Be))}return o.jsx("div",{className:"calendar-grid",children:ie})},lt=()=>{const C=new Date(l),B=l.getDay();C.setDate(l.getDate()-B);const qe=[];for(let ue=0;ue<7;ue++){const R=new Date(C);R.setDate(C.getDate()+ue),qe.push(R)}let Ce=24,ie=0;qe.forEach(ue=>{const R=ue.toISOString().split("T")[0],k=(ue.getDay()+6)%7;y.filter(z=>z.dia_semana===k&&z.agenda_id===t).forEach(z=>{const X=parseInt(z.hora_inicio.split(":")[0]),Te=parseInt(z.hora_fin.split(":")[0])+(z.hora_fin.split(":")[1]!=="00"?1:0);X<Ce&&(Ce=X),Te>ie&&(ie=Te)}),d.filter(z=>z.tipo===2&&z.fecha_inicio<=R&&z.fecha_fin>=R).forEach(z=>{if(z.es_todo_el_dia)Ce=0,ie=24;else if(z.hora_inicio&&z.hora_fin){const X=parseInt(z.hora_inicio.split(":")[0]),Te=parseInt(z.hora_fin.split(":")[0])+(z.hora_fin.split(":")[1]!=="00"?1:0);X<Ce&&(Ce=X),Te>ie&&(ie=Te)}})}),Ce===24&&(Ce=8,ie=18);const Be=Math.max(0,Ce-1),Pe=Math.min(24,ie+1),I=Z.filter(ue=>{const R=parseInt(ue.split(":")[0]);return R>=Be&&R<Pe});return o.jsxs("div",{className:"time-grid week-view",style:{minHeight:"600px"},children:[o.jsxs("div",{className:"time-column",children:[o.jsx("div",{className:"time-slot-header",children:"Hora"}),I.map(ue=>o.jsx("div",{className:"time-slot-label",children:ue},ue))]}),o.jsx("div",{className:"days-columns",style:{display:"grid",gridTemplateColumns:"repeat(7, 1fr)",flex:1},children:qe.map((ue,R)=>{const k=ue.toISOString().split("T")[0],ee=u.filter(z=>z.fecha===k),H=(d||[]).some(z=>z.fecha_inicio<=k&&z.fecha_fin>=k&&z.es_todo_el_dia&&z.tipo===1);return o.jsxs("div",{className:`day-column ${H?"blocked":""}`,children:[o.jsx("div",{className:"time-slot-header",children:new Intl.DateTimeFormat("es-ES",{weekday:"short",day:"numeric"}).format(ue)}),I.map(z=>{const X=ee.filter(ve=>ve.hora.startsWith(z.substring(0,2))),Te=(d||[]).some(ve=>ve.fecha_inicio<=k&&ve.fecha_fin>=k&&!ve.es_todo_el_dia&&ve.hora_inicio<=z&&ve.hora_fin>z),ea=(ue.getDay()+6)%7,Tn=y.filter(ve=>ve.dia_semana===ea&&ve.agenda_id===t),wa=(d||[]).some(ve=>ve.fecha_inicio<=k&&ve.fecha_fin>=k&&ve.tipo===2&&(ve.es_todo_el_dia||ve.hora_inicio<=z&&ve.hora_fin>z))||Tn.some(ve=>ve.hora_inicio<=z&&ve.hora_fin>z),Pa=Q-X.length,Oi=_&&!G(ue,z);return o.jsxs("div",{className:`time-slot ${Te?"blocked-slot":""} ${wa?"":"non-work-slot"} ${X.length===0?"empty-slot":""} ${Oi?"service-blocked":""}`,onClick:()=>{if(Oi){alert("El servicio seleccionado no est disponible en este horario.");return}!H&&!Te&&wa&&ze(new Date(ue.setHours(parseInt(z),0)))},style:Oi?{opacity:.3,background:"#000"}:{},children:[X.map(ve=>o.jsxs("div",{className:"appointment-pill compact",title:ve.nombres_completos,children:[ve.nombres_completos.split(" ")[0],oe(ve)&&o.jsx("span",{onClick:jr=>{jr.stopPropagation(),s(ve)},style:{marginLeft:"5px",cursor:"pointer",opacity:.7},children:""})]},ve.id)),!H&&!Te&&wa&&o.jsx("div",{className:"available-indicator",children:X.length===0?"Libre":`+${Pa}`}),!wa&&o.jsx("div",{className:"non-work-stripe"}),(H||Te)&&o.jsx("div",{className:"blocked-stripe"})]},z)})]},R)})})]})},pt=()=>{const C=l.toISOString().split("T")[0],B=u.filter(I=>I.fecha===C),qe=(d||[]).some(I=>I.fecha_inicio<=C&&I.fecha_fin>=C&&I.es_todo_el_dia&&I.tipo===1),Ce=(l.getDay()+6)%7,ie=y.filter(I=>I.dia_semana===Ce&&I.agenda_id===t),Be=(d||[]).filter(I=>I.tipo===2&&I.fecha_inicio<=C&&I.fecha_fin>=C),Pe=Z.filter(I=>{const ue=ie.some(k=>k.hora_inicio<=I&&k.hora_fin>I),R=Be.some(k=>k.es_todo_el_dia||k.hora_inicio<=I&&k.hora_fin>I);return ue||R});return o.jsxs("div",{className:"day-view-container",children:[o.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:20},children:[o.jsx("h3",{children:new Intl.DateTimeFormat("es-ES",{dateStyle:"full"}).format(l)}),o.jsxs("div",{style:{fontSize:"0.9rem",color:"var(--text-muted)"},children:["Capacidad: ",Q," pers/hora"]})]}),qe&&o.jsx("div",{className:"alert-item alert-warning",style:{marginBottom:20},children:"Este da est marcado como FUERA DE SERVICIO."}),o.jsxs("div",{className:"time-grid day-only",children:[o.jsx("div",{className:"time-column",children:Pe.map(I=>o.jsx("div",{className:"time-slot-label",children:I},I))}),o.jsx("div",{className:"day-column single",children:Pe.map(I=>{const ue=B.filter(H=>H.hora.startsWith(I.substring(0,2))),R=(d||[]).some(H=>H.fecha_inicio<=C&&H.fecha_fin>=C&&!H.es_todo_el_dia&&H.hora_inicio<=I&&H.hora_fin>I),k=Q-ue.length,ee=_&&!G(l,I);return o.jsxs("div",{className:`time-slot large ${R?"blocked-slot":""} ${ue.length===0?"empty-slot":""} ${ee?"service-blocked":""}`,onClick:()=>{if(ee){alert("El servicio seleccionado no est disponible en este horario.");return}!qe&&!R&&ze(new Date(l.setHours(parseInt(I),0)))},style:ee?{opacity:.3,background:"#000"}:{},children:[ue.map(H=>o.jsxs("div",{className:"appointment-pill detail",style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[o.jsxs("div",{children:[o.jsx("strong",{children:H.hora})," - ",H.nombres_completos," (",H.servicios,")"]}),o.jsxs("div",{style:{display:"flex",gap:"8px"},children:[oe(H)&&o.jsx("button",{onClick:z=>{z.stopPropagation(),s(H)},className:"btn-edit-tiny",style:{background:"transparent",border:"none",cursor:"pointer"},title:"Editar cita",children:""}),oe(H)&&o.jsx("button",{onClick:z=>{z.stopPropagation(),Ke(H.id)},className:"btn-delete-tiny",title:"Eliminar cita",children:""})]})]},H.id)),!qe&&!R&&o.jsx("div",{className:"available-indicator large",children:ue.length===0?" Horario Disponible - Haz clic para agendar":` ${k} cupos disponibles`}),(qe||R)&&o.jsx("div",{className:"blocked-stripe full"})]},I)})})]})]})},Ht=C=>{const B=new Date(l);D==="month"?B.setMonth(l.getMonth()+C):D==="week"?B.setDate(l.getDate()+C*7):B.setDate(l.getDate()+C),r(B)};return o.jsxs("div",{className:"calendar-container",children:[o.jsxs("div",{className:"calendar-controls",style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[o.jsx("div",{style:{display:"flex",gap:"15px",alignItems:"center"},children:o.jsxs("div",{className:"view-switcher-premium",children:[o.jsx("button",{className:`view-btn ${D==="month"?"active":""}`,onClick:()=>U("month"),children:" Mes"}),o.jsx("button",{className:`view-btn ${D==="week"?"active":""}`,onClick:()=>U("week"),children:" Semana"}),o.jsx("button",{className:`view-btn ${D==="day"?"active":""}`,onClick:()=>U("day"),children:" Da"})]})}),o.jsxs("div",{style:{display:"flex",gap:"15px",alignItems:"center"},children:[o.jsxs("select",{className:"custom-file-input",value:_,onChange:C=>T(C.target.value),style:{padding:"8px",maxWidth:"180px",cursor:"pointer",background:"var(--glass-bg)",color:"var(--text-primary)",border:"1px solid var(--glass-border)"},children:[o.jsx("option",{value:"",children:" Ver todo"}),w.map(C=>o.jsx("option",{value:C.service_id,children:C.service.nombre},C.id))]}),o.jsxs("div",{className:"nav-controls",style:{display:"flex",alignItems:"center",gap:5},children:[o.jsx("button",{onClick:()=>Ht(-1),className:"btn-nav",children:"<"}),o.jsx("h2",{style:{margin:0,minWidth:180,textAlign:"center",fontSize:"1.1rem"},children:D==="month"?new Intl.DateTimeFormat("es-ES",{month:"long",year:"numeric"}).format(l).toUpperCase():D==="week"?"Semana Actual":"Da Seleccionado"}),o.jsx("button",{onClick:()=>Ht(1),className:"btn-nav",children:">"})]})]})]}),D==="month"&&le(),D==="week"&&lt(),D==="day"&&pt(),o.jsxs("div",{className:"agenda-alerts-section",style:{marginTop:"30px",borderTop:"1px solid var(--glass-border)",paddingTop:"20px"},children:[o.jsx("h4",{style:{display:"flex",alignItems:"center",gap:"10px"},children:" Avisos y Alertas"}),o.jsx("div",{className:"alerts-container",style:{display:"flex",flexDirection:"column",gap:"10px"},children:h.length>0?h.map(C=>o.jsx("div",{className:`alert-item alert-${C.tipo}`,style:{borderLeft:`4px solid ${C.tipo==="warning"?"#f59e0b":"#3b82f6"}`},children:C.mensaje},C.id)):o.jsx("p",{style:{fontSize:"0.85rem",color:"var(--text-muted)"},children:"No hay avisos recientes."})})]}),x&&o.jsx("div",{className:"spinner-overlay",children:o.jsx("div",{className:"spinner"})})]})},C_=({selectedDate:e,onCitaCreated:t,onCancel:a,agendaId:n,token:i,userRole:s,initialData:l=null,currentUserName:r=""})=>{const[u,c]=A.useState(!1),[d,v]=A.useState([]),[h,f]=A.useState([]),[y,S]=A.useState([]),[w,g]=A.useState([]),[m,p]=A.useState([]),[_,T]=A.useState(""),[x,j]=A.useState(l||{agenda_id:n,mes:new Intl.DateTimeFormat("es-ES",{month:"long"}).format(e),cantidad:1,dia:new Intl.DateTimeFormat("es-ES",{weekday:"long"}).format(e),fecha:e.toISOString().split("T")[0],hora:"08:00",servicios:"",tipo_servicio:"",nombres_completos:"",td:"CC",documento:"",celular:"",email:"",observaciones:"",factura:"",confirmacion:"Pendiente",vendedor:r||"",otros:""});A.useEffect(()=>{A.useEffect(()=>{(async()=>{try{const[Q,he,Ye,ye]=await Promise.all([$.from("agenda_services").select("*, service:global_services(*)").eq("agenda_id",n),$.from("horarios_atencion").select("*").eq("agenda_id",n),$.from("bloqueos").select("*").eq("agenda_id",n),$.from("horarios_servicios").select("*").eq("agenda_id",n)]);v(Q.data||[]),f(he.data||[]),g(Ye.data||[]),S(ye.data||[])}catch(Q){console.error(Q)}})()},[n])},[n]),A.useEffect(()=>{if(!d||d.length===0){p([]);return}const M=(e.getDay()+6)%7,Q=d.filter(he=>y.some(O=>O.service_id===he.service_id)?y.some(O=>O.service_id===he.service_id&&O.dia_semana===M):!0);p(Q)},[d,y,e]);const D=(M,Q)=>{const he=e.toISOString().split("T")[0];if(w.some(oe=>oe.fecha_inicio<=he&&oe.fecha_fin>=he&&oe.tipo===2&&(oe.es_todo_el_dia||oe.hora_inicio<=M&&oe.hora_fin>M)))return T(""),!0;const ye=(e.getDay()+6)%7,O=h.filter(oe=>oe.dia_semana===ye);if(O.length===0)return T("No hay horario de atencin definido para este da"),!1;const[L,Y]=M.split(":").map(Number),G=L*60+Y,W=G+Q;return O.some(oe=>{const[ze,Me]=oe.hora_inicio.split(":").map(Number),[le,lt]=oe.hora_fin.split(":").map(Number),pt=ze*60+Me,Ht=le*60+lt;return G>=pt&&W<=Ht})?(T(""),!0):(T("El horario excede el rango laboral definido"),!1)},U=M=>{const{name:Q,value:he}=M.target;if(Q==="hora"){const Ye=d.find(ye=>ye.service.nombre===x.tipo_servicio);D(he,Ye?Ye.service.duracion_minutos:30)}j(Ye=>({...Ye,[Q]:he}))},Z=async M=>{if(M.preventDefault(),s!=="superuser"&&s!=="admin"){const Q=new Date;if(new Date(`${x.fecha}T${x.hora}`)<Q){alert("No puedes agendar citas en el pasado. Contacta a un administrador.");return}}c(!0);try{if(l){const{error:Q}=await $.from("citas").update(x).eq("id",l.id);if(Q)throw Q}else{const{error:Q}=await $.from("citas").insert(x);if(Q)throw Q}t()}catch(Q){console.error("Error:",Q),alert("Error al procesar la cita: "+Q.message)}finally{c(!1)}};return o.jsx("div",{className:"modal-overlay",children:o.jsxs("div",{className:"modal-content agenda-form-card",children:[o.jsxs("h3",{children:[l?"Editar Cita":"Agendar Cita"," - ",x.fecha]}),o.jsxs("form",{onSubmit:Z,className:"agenda-grid-form",children:[o.jsxs("div",{className:"form-group",children:[o.jsx("label",{children:"Nombres Completos"}),o.jsx("input",{type:"text",name:"nombres_completos",value:x.nombres_completos,onChange:U,required:!0})]}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{children:"Documento (T.D y N)"}),o.jsxs("div",{style:{display:"flex",gap:"5px"},children:[o.jsxs("select",{name:"td",value:x.td,onChange:U,style:{width:"70px"},children:[o.jsx("option",{value:"CC",children:"CC"}),o.jsx("option",{value:"TI",children:"TI"}),o.jsx("option",{value:"CE",children:"CE"}),o.jsx("option",{value:"PAS",children:"PAS"})]}),o.jsx("input",{type:"text",name:"documento",value:x.documento,onChange:U,required:!0,style:{flex:1}})]})]}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{children:"Celular"}),o.jsx("input",{type:"text",name:"celular",value:x.celular,onChange:U,required:!0})]}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{children:"Correo Electrnico"}),o.jsx("input",{type:"email",name:"email",value:x.email,onChange:U,placeholder:"ejemplo@correo.com"})]}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{children:"Hora"}),o.jsx("input",{type:"time",name:"hora",value:x.hora,onChange:U,required:!0})]}),o.jsxs("div",{className:"form-group",style:{gridColumn:"span 2"},children:[o.jsx("label",{children:"Tipo de Servicio / Consulta"}),o.jsxs("select",{name:"tipo_servicio",value:x.tipo_servicio,onChange:M=>{const Q=d.find(he=>he.service.nombre===M.target.value);Q?(D(x.hora,Q.service.duracion_minutos),j(he=>({...he,tipo_servicio:M.target.value,servicios:M.target.value,cantidad:Q.service.slots}))):(T(""),j(he=>({...he,tipo_servicio:M.target.value,servicios:M.target.value})))},required:!0,className:"custom-file-input",children:[o.jsx("option",{value:"",children:"-- Seleccionar Servicio --"}),m.map(M=>o.jsxs("option",{value:M.service.nombre,children:[M.service.nombre," (",M.service.duracion_minutos," min) - $",M.precio_final.toLocaleString(),M.descuento_porcentaje>0?` (Dcto ${M.descuento_porcentaje}%)`:""]},M.id))]}),_&&o.jsxs("p",{style:{color:"var(--danger)",fontSize:"0.8rem",marginTop:5},children:[" ",_]})]}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{children:"Vendedor"}),o.jsx("input",{type:"text",name:"vendedor",value:x.vendedor,onChange:U,required:!0,readOnly:!!r,style:r?{opacity:.7,background:"rgba(0,0,0,0.1)"}:{}})]}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{children:"Factura #"}),o.jsx("input",{type:"text",name:"factura",value:x.factura,onChange:U})]}),o.jsxs("div",{className:"form-group",style:{gridColumn:"span 2"},children:[o.jsx("label",{children:"Observaciones"}),o.jsx("textarea",{name:"observaciones",value:x.observaciones,onChange:U,rows:"2"})]}),o.jsxs("div",{className:"form-actions",style:{gridColumn:"span 2"},children:[o.jsx("button",{type:"button",onClick:a,className:"btn-secondary",children:"Cancelar"}),o.jsx("button",{type:"submit",className:"btn-process",disabled:u||!!_,children:u?"Guardando...":l?"Guardar Cambios":"Guardar Cita"})]})]})]})})},N_=({onLoginSuccess:e})=>{const[t,a]=A.useState(""),[n,i]=A.useState(""),[s,l]=A.useState(""),[r,u]=A.useState(!1),c=async d=>{d.preventDefault(),u(!0),l("");try{const v=t.trim(),h=n.trim(),{data:f,error:y}=await $.auth.signInWithPassword({email:v,password:h});if(y)throw y;const{data:S,error:w}=await $.from("profiles").select(`
                    *,
                    agendas:agenda_users(
                        agendas(*)
                    )
                `).eq("id",f.user.id).single();if(w)e({username:f.user.email,role:"agent",agendas:[]});else{const g={...S,agendas:S.agendas.map(m=>m.agendas)};e(g)}}catch(v){console.error("Detalle del error:",v),l(v.message||"Credenciales incorrectas o correo no confirmado")}finally{u(!1)}};return o.jsx("div",{className:"modal-overlay",children:o.jsxs("div",{className:"modal-content",style:{maxWidth:"400px"},children:[o.jsx("h2",{style:{textAlign:"center",marginBottom:"24px"},children:"Acceso Agentes"}),o.jsxs("form",{onSubmit:c,children:[o.jsxs("div",{className:"form-group",children:[o.jsx("label",{children:"Correo Electrnico"}),o.jsx("input",{type:"email",value:t,onChange:d=>a(d.target.value),required:!0,placeholder:"tu@correo.com"})]}),o.jsxs("div",{className:"form-group",style:{marginTop:"15px"},children:[o.jsx("label",{children:"Contrasea"}),o.jsx("input",{type:"password",value:n,onChange:d=>i(d.target.value),required:!0,placeholder:""})]}),s&&o.jsx("p",{style:{color:"#f87171",fontSize:"0.85rem",marginTop:"10px"},children:s}),o.jsx("button",{type:"submit",className:"btn-process",style:{width:"100%",marginTop:"24px",justifyContent:"center"},disabled:r,children:r?o.jsx("div",{className:"spinner"}):"Ingresar"})]}),o.jsx("p",{style:{fontSize:"0.75rem",color:"var(--text-muted)",marginTop:"20px",textAlign:"center"},children:"Credenciales por defecto: admin / admin123"})]})})},R_=({token:e,onBack:t,userRole:a})=>{const[n,i]=A.useState([]),[s,l]=A.useState([]),[r,u]=A.useState([]),[c,d]=A.useState([]),[v,h]=A.useState([]),[f,y]=A.useState([]),[S,w]=A.useState(!1),[g,m]=A.useState(a==="superuser"?"agendas":"bloqueos"),[p,_]=A.useState(null),[T,x]=A.useState([]),[j,D]=A.useState(null),[U,Z]=A.useState(null),[M,Q]=A.useState(null),[he,Ye]=A.useState(!1),[ye,O]=A.useState(null),[L,Y]=A.useState({name:"",description:"",slots_per_hour:1}),[G,W]=A.useState({nombre:"",precio_base:0,duracion_minutos:30,concurrency:1,color:"#3b82f6",image_url:"",descripcion:""}),[Ke,oe]=A.useState({name:"",description:"",slots_per_hour:1}),[ze,Me]=A.useState({username:"",password:"",full_name:"",role:"agent"}),[le,lt]=A.useState({agenda_id:"",fecha_inicio:"",fecha_fin:"",hora_inicio:"",hora_fin:"",es_todo_el_dia:0,motivo:"",service_id:"",tipo:1}),[pt,Ht]=A.useState({agenda_id:"",mensaje:"",tipo:"info"}),[C,B]=A.useState(null),[qe,Ce]=A.useState([]);A.useEffect(()=>{ie()},[]);const ie=async()=>{w(!0);try{const{data:b,error:N}=await $.from("agendas").select("*");if(N)throw N;if(i(b||[]),a==="superuser"){const{data:Zv,error:Ac}=await $.from("profiles").select("*");if(Ac)throw Ac;l(Zv||[])}const{data:Ae,error:Xt}=await $.from("global_services").select("*");if(Xt)throw Xt;y(Ae||[]);const[Tr,Xv,Jv]=await Promise.all([$.from("bloqueos").select("*"),$.from("alertas").select("*"),$.from("horarios_atencion").select("*")]);u(Tr.data||[]),d(Xv.data||[]),h(Jv.data||[])}catch(b){console.error("Error fetching data:",b)}w(!1)},Be=async(b,N)=>{if(!b)return alert("Selecciona una agenda");window.confirm("Ests seguro de que quieres cerrar todo el da? Se eliminarn todos los rangos horarios.")&&(await $.from("horarios_atencion").delete().eq("agenda_id",b).eq("dia_semana",N),ie())},Pe=async b=>{b.preventDefault();const{error:N}=await $.from("agendas").insert(Ke);N||(oe({name:"",description:"",slots_per_hour:1}),Q(null),ie())},I=async b=>{if(!confirm("Ests seguro de eliminar esta agenda y todas sus citas?"))return;const{error:N}=await $.from("agendas").delete().eq("id",b);N||ie()},ue=async b=>{b.preventDefault();const{error:N}=await $.from("agendas").update(L).eq("id",M.id);N||(Q(null),ie())},R=async(b,N,re)=>{re?await $.from("agenda_users").delete().eq("user_id",b).eq("agenda_id",N):await $.from("agenda_users").insert({user_id:b,agenda_id:N}),ie()},k=async b=>{if(!confirm("Eliminar este usuario? En Supabase esto desvincular su perfil."))return;const{error:N}=await $.from("profiles").delete().eq("id",b);N||ie()},ee=async b=>{b.preventDefault();const N={...le,service_id:le.service_id===""?null:parseInt(le.service_id),tipo:parseInt(le.tipo)},{error:re}=await $.from("bloqueos").insert(N);re||(lt({agenda_id:"",fecha_inicio:"",fecha_fin:"",hora_inicio:"",hora_fin:"",es_todo_el_dia:0,motivo:"",service_id:"",tipo:1}),ie(),alert("Operacin completada con xito"))},H=async b=>{if(!confirm("Eliminar bloqueo?"))return;const{error:N}=await $.from("bloqueos").delete().eq("id",b);N||ie()},z=async b=>{b.preventDefault();const{error:N}=await $.from("alertas").insert(pt);N||(Ht({agenda_id:"",mensaje:"",tipo:"info"}),ie())},X=async b=>{const{error:N}=await $.from("alertas").delete().eq("id",b);N||ie()},Te=async b=>{b.preventDefault(),alert("Para crear un usuario en Supabase usa el panel de Authentication o la funcin de registro.")},ea=async(b,N)=>{const{data:re,error:Ae}=await $.from("horarios_servicios").select("*").eq("agenda_id",b).eq("service_id",N);Ae||Ce(re||[])},Tn=async b=>{b.preventDefault();const N=new FormData(b.target),re={agenda_id:C.agenda_id,service_id:C.service_id,dia_semana:parseInt(N.get("dia_semana")),hora_inicio:N.get("hora_inicio"),hora_fin:N.get("hora_fin")},{error:Ae}=await $.from("horarios_servicios").insert(re);Ae||ea(C.agenda_id,C.service_id)},Ls=()=>o.jsxs("div",{className:"admin-section fade-in",children:[o.jsxs("div",{className:"section-header",children:[o.jsx("h3",{children:"Agendas Activas"}),o.jsx("button",{className:"btn-process",onClick:()=>Q({id:"new"}),children:"+ Nueva Agenda"})]}),o.jsx("div",{className:"grid-cards",children:n.map(b=>{var N;return o.jsxs("div",{className:"premium-card",children:[o.jsxs("div",{className:"card-badge",children:[b.slots_per_hour," cupos/h"]}),o.jsx("h4",{children:b.name}),o.jsx("p",{children:b.description||"Sin descripcin"}),o.jsx("div",{className:"card-agents",children:o.jsxs("span",{children:[" ",((N=b.users)==null?void 0:N.length)||0," Agentes asignados"]})}),o.jsxs("div",{className:"card-actions",children:[o.jsx("button",{className:"btn-edit",onClick:()=>{Q(b),Y({name:b.name,description:b.description,slots_per_hour:b.slots_per_hour})},children:" Editar"}),o.jsx("button",{className:"btn-secondary",onClick:()=>Z(b),children:" Agentes"}),o.jsx("button",{className:"btn-delete",onClick:()=>I(b.id),children:""})]})]},b.id)})})]}),wa=()=>o.jsxs("div",{className:"admin-section fade-in",children:[o.jsxs("div",{className:"section-header",children:[o.jsx("h3",{children:"Gestin de Personal"}),o.jsx("button",{className:"btn-process",onClick:()=>Ye(!0),children:"+ Nuevo Usuario"})]}),o.jsx("div",{className:"table-container",children:o.jsxs("table",{children:[o.jsx("thead",{children:o.jsxs("tr",{children:[o.jsx("th",{children:"Nombre"}),o.jsx("th",{children:"Usuario"}),o.jsx("th",{children:"Rol"}),o.jsx("th",{children:"Agendas"}),o.jsx("th",{children:"Acciones"})]})}),o.jsx("tbody",{children:s.map(b=>{var N;return o.jsxs("tr",{children:[o.jsx("td",{children:o.jsx("strong",{children:b.full_name})}),o.jsxs("td",{children:["@",b.username]}),o.jsx("td",{children:o.jsx("span",{className:`role-badge ${b.role}`,children:b.role})}),o.jsx("td",{children:((N=b.agendas)==null?void 0:N.map(re=>re.name).join(", "))||"Sin acceso"}),o.jsx("td",{children:o.jsx("button",{className:"btn-delete",style:{padding:"6px 12px"},onClick:()=>k(b.id),children:""})})]},b.id)})})]})})]}),Pa=()=>o.jsxs("div",{className:"admin-section fade-in",children:[o.jsx("div",{className:"section-header",children:o.jsx("h3",{children:" Control de Indisponibilidad"})}),o.jsxs("div",{className:"premium-card",style:{marginBottom:"30px"},children:[o.jsx("h4",{children:"Crear Nuevo Bloqueo"}),o.jsxs("form",{onSubmit:ee,className:"premium-form-inline",children:[o.jsxs("select",{value:le.tipo,onChange:b=>lt({...le,tipo:parseInt(b.target.value)}),style:{border:le.tipo===2?"2px solid #22c55e":"2px solid #ef4444"},children:[o.jsx("option",{value:"1",children:" Bloquear"}),o.jsx("option",{value:"2",children:" Habilitar (Excepcin)"})]}),o.jsxs("select",{value:le.agenda_id,onChange:b=>lt({...le,agenda_id:parseInt(b.target.value)}),required:!0,children:[o.jsx("option",{value:"",children:"-- Agenda --"}),n.map(b=>o.jsx("option",{value:b.id,children:b.name},b.id))]}),o.jsxs("select",{value:le.service_id,onChange:b=>lt({...le,service_id:b.target.value}),children:[o.jsx("option",{value:"",children:" Todo el sistema"}),f.map(b=>o.jsx("option",{value:b.id,children:b.nombre},b.id))]}),o.jsx("input",{type:"date",value:le.fecha_inicio,onChange:b=>lt({...le,fecha_inicio:b.target.value,fecha_fin:b.target.value}),required:!0}),o.jsx("input",{type:"time",value:le.hora_inicio,onChange:b=>lt({...le,hora_inicio:b.target.value}),placeholder:"Inicio"}),o.jsx("input",{type:"time",value:le.hora_fin,onChange:b=>lt({...le,hora_fin:b.target.value}),placeholder:"Fin"}),o.jsx("input",{type:"text",value:le.motivo,onChange:b=>lt({...le,motivo:b.target.value}),placeholder:"Motivo/Evento"}),o.jsx("button",{type:"submit",className:le.tipo===2?"btn-process success":"btn-process",children:le.tipo===2?"Abrir Cupo":"Bloquear"})]})]}),o.jsx("div",{className:"table-container",children:o.jsxs("table",{children:[o.jsx("thead",{children:o.jsxs("tr",{children:[o.jsx("th",{children:"Agenda"}),o.jsx("th",{children:"Tipo"}),o.jsx("th",{children:"Servicio"}),o.jsx("th",{children:"Fecha"}),o.jsx("th",{children:"Horario"}),o.jsx("th",{children:"Motivo"}),o.jsx("th",{children:"Acciones"})]})}),o.jsx("tbody",{children:r.map(b=>{var N,re;return o.jsxs("tr",{children:[o.jsx("td",{children:o.jsx("strong",{children:(N=n.find(Ae=>Ae.id===b.agenda_id))==null?void 0:N.name})}),o.jsx("td",{children:b.tipo===2?o.jsx("span",{className:"role-badge agent",children:" HABILITADO"}):o.jsx("span",{className:"role-badge danger",children:" BLOQUEO"})}),o.jsx("td",{children:b.service_id?o.jsx("span",{className:"role-badge agent",children:(re=f.find(Ae=>Ae.id===b.service_id))==null?void 0:re.nombre}):o.jsx("span",{className:"role-badge superuser",children:"TODO"})}),o.jsx("td",{children:b.fecha_inicio}),o.jsx("td",{children:b.es_todo_el_dia?"Todo el da":`${b.hora_inicio} - ${b.hora_fin}`}),o.jsx("td",{children:b.motivo}),o.jsx("td",{children:o.jsx("button",{className:"btn-delete",onClick:()=>H(b.id),children:""})})]},b.id)})})]})})]}),Oi=()=>o.jsxs("div",{className:"admin-section fade-in",children:[o.jsx("div",{className:"section-header",children:o.jsx("h3",{children:" Alertas y Avisos"})}),o.jsxs("div",{className:"premium-card",style:{marginBottom:"30px"},children:[o.jsx("h4",{children:"Nueva Alerta"}),o.jsxs("form",{onSubmit:z,className:"premium-form-inline",children:[o.jsxs("select",{value:pt.agenda_id,onChange:b=>Ht({...pt,agenda_id:parseInt(b.target.value)}),required:!0,children:[o.jsx("option",{value:"",children:"-- Agenda --"}),n.map(b=>o.jsx("option",{value:b.id,children:b.name},b.id))]}),o.jsx("input",{type:"text",value:pt.mensaje,onChange:b=>Ht({...pt,mensaje:b.target.value}),placeholder:"Mensaje de aviso...",required:!0,style:{flex:1}}),o.jsxs("select",{value:pt.tipo,onChange:b=>Ht({...pt,tipo:b.target.value}),children:[o.jsx("option",{value:"info",children:"Informacin (Azul)"}),o.jsx("option",{value:"warning",children:"Advertencia (Naranja)"}),o.jsx("option",{value:"danger",children:"Crtico (Rojo)"})]}),o.jsx("button",{type:"submit",className:"btn-process",children:"Publicar"})]})]}),o.jsx("div",{className:"grid-cards",children:c.map(b=>{var N;return o.jsxs("div",{className:`premium-card alert-card ${b.tipo}`,children:[o.jsx("span",{className:"alert-agenda-tag",children:(N=n.find(re=>re.id===b.agenda_id))==null?void 0:N.name}),o.jsx("p",{children:b.mensaje}),o.jsx("button",{className:"btn-delete-tiny",onClick:()=>X(b.id),children:""})]},b.id)})})]}),ve=()=>o.jsxs("div",{className:"admin-section fade-in",children:[o.jsx("div",{className:"section-header",children:o.jsx("h3",{children:" Gestin de Horarios de Atencin"})}),o.jsx("div",{className:"config-grid",children:o.jsxs("div",{className:"premium-card",children:[o.jsx("h4",{children:"Horarios de Atencin"}),a==="superuser"?o.jsxs("form",{className:"premium-form-v",onSubmit:async b=>{b.preventDefault();const N=new FormData(b.target),{error:re}=await $.from("horarios_atencion").insert({agenda_id:parseInt(N.get("agenda_id")),dia_semana:parseInt(N.get("dia_semana")),hora_inicio:N.get("hora_inicio"),hora_fin:N.get("hora_fin")});re||ie()},children:[o.jsxs("select",{name:"agenda_id",required:!0,children:[o.jsx("option",{value:"",children:"-- Agenda --"}),n.map(b=>o.jsx("option",{value:b.id,children:b.name},b.id))]}),o.jsx("select",{name:"dia_semana",required:!0,children:["Lunes","Martes","Mircoles","Jueves","Viernes","Sbado","Domingo"].map((b,N)=>o.jsx("option",{value:N,children:b},N))}),o.jsxs("div",{style:{display:"flex",gap:"10px"},children:[o.jsx("input",{name:"hora_inicio",type:"time",defaultValue:"08:00",required:!0}),o.jsx("input",{name:"hora_fin",type:"time",defaultValue:"18:00",required:!0})]}),o.jsx("button",{type:"submit",className:"btn-process",children:"Aadir Horario"}),o.jsx("button",{type:"button",className:"btn-delete",style:{width:"100%",marginTop:"5px"},onClick:b=>{const N=b.target.closest("form"),re=parseInt(new FormData(N).get("agenda_id")),Ae=parseInt(new FormData(N).get("dia_semana"));Be(re,Ae)},children:" Marcar da como CERRADO"})]}):o.jsx("p",{className:"text-muted",style:{marginBottom:"15px"},children:"Vista de horarios configurada por Superadmin."}),o.jsx("div",{className:"mini-list",children:[0,1,2,3,4,5,6].map(b=>{const N=v.filter(Ae=>Ae.dia_semana===b),re=["Lunes","Martes","Mircoles","Jueves","Viernes","Sbado","Domingo"][b];return o.jsxs("div",{className:`schedule-day-row ${N.length===0?"inactive-day":"active-day"}`,children:[o.jsxs("div",{className:"day-info",children:[o.jsx("strong",{children:re}),o.jsx("span",{className:`status-pill ${N.length>0?"open":"closed"}`,children:N.length>0?"Operativo":"Sin horario (Cerrado)"})]}),o.jsx("div",{className:"day-ranges",children:N.map(Ae=>{var Xt;return o.jsxs("div",{className:"mini-item-inline range-badge",children:[o.jsxs("span",{children:[Ae.hora_inicio,"-",Ae.hora_fin]}),o.jsx("small",{children:(Xt=n.find(Tr=>Tr.id===Ae.agenda_id))==null?void 0:Xt.name}),o.jsx("button",{className:"btn-delete-tiny",onClick:async()=>{await $.from("horarios_atencion").delete().eq("id",Ae.id),ie()},children:""})]},Ae.id)})})]},b)})})]})})]}),jr=()=>o.jsxs("div",{className:"admin-section fade-in",children:[o.jsxs("div",{className:"section-header",children:[o.jsx("h3",{children:" Catlogo de Servicios y Ofertas"}),o.jsx("p",{className:"text-muted",children:"Gestiona el catlogo maestro y personaliza precios por agenda"})]}),o.jsxs("div",{className:"premium-card",style:{marginBottom:"30px"},children:[o.jsx("h4",{children:"Gestionar Ofertas por Agenda"}),o.jsxs("div",{style:{display:"flex",gap:"15px",alignItems:"center",flexWrap:"wrap"},children:[o.jsxs("select",{className:"custom-file-input",style:{flex:1,minWidth:"250px"},value:(p==null?void 0:p.id)||"",onChange:async b=>{const N=n.find(re=>re.id===parseInt(b.target.value));if(_(N),N){const{data:re}=await $.from("agenda_services").select("*, service:global_services(*)").eq("agenda_id",N.id);x(re||[])}else x([])},children:[o.jsx("option",{value:"",children:"-- Seleccionar Agenda --"}),n.map(b=>o.jsx("option",{value:b.id,children:b.name},b.id))]}),p&&o.jsxs("div",{className:"mini-form",style:{display:"flex",gap:"10px",flex:2},children:[o.jsxs("select",{id:"offer-service-select",className:"custom-file-input",style:{flex:1},children:[o.jsx("option",{value:"",children:"-- Aadir del Catlogo Maestro --"}),f.filter(b=>!T.some(N=>N.service_id===b.id)).map(b=>o.jsxs("option",{value:b.id,children:[b.nombre," ($",b.precio_base.toLocaleString(),")"]},b.id))]}),o.jsx("button",{className:"btn-process",onClick:async()=>{const b=document.getElementById("offer-service-select").value;if(!b)return;const{error:N}=await $.from("agenda_services").insert({agenda_id:p.id,service_id:parseInt(b)});N||ie()},children:"+ Asignar"})]})]}),p&&o.jsx("div",{className:"offers-grid fade-in",style:{marginTop:"20px",display:"grid",gridTemplateColumns:"1fr 1fr",gap:"10px"},children:T.map(b=>o.jsxs("div",{className:"offer-item-premium",style:{border:"1px solid var(--glass-border)",padding:"12px",borderRadius:"12px",background:"rgba(255,255,255,0.02)",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[o.jsxs("div",{children:[o.jsx("div",{style:{fontWeight:"bold"},children:b.service.nombre}),o.jsxs("small",{style:{opacity:.6},children:["Base: $",b.service.precio_base.toLocaleString()]})]}),o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[o.jsx("button",{className:"btn-secondary",style:{padding:"4px 8px",fontSize:"0.8rem"},onClick:()=>{B({agenda_id:p.id,service_id:b.service.id,service_name:b.service.nombre}),ea(p.id,b.service.id)},children:" Horarios"}),o.jsx("input",{type:"number",defaultValue:b.precio_final,style:{width:"90px",padding:"4px 8px",borderRadius:"6px",border:"1px solid var(--glass-border)",background:"rgba(0,0,0,0.2)",color:"white",textAlign:"right"},onBlur:async N=>{const re=parseFloat(N.target.value);re!==b.precio_final&&(await $.from("agenda_services").update({precio_final:re}).eq("id",b.id),ie())}}),o.jsx("button",{className:"btn-delete-tiny",onClick:async()=>{confirm("Desvincular este servicio de la agenda?")&&(await $.from("agenda_services").delete().eq("id",b.id),ie())},children:""})]})]},b.id))})]}),a==="superuser"&&o.jsxs("div",{className:"master-catalog-section",children:[o.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px"},children:[o.jsx("h4",{style:{margin:0},children:" Catlogo Maestro (Global)"}),o.jsx("button",{className:"btn-process",onClick:()=>O({id:"new"}),children:"+ Nuevo Servicio"})]}),o.jsx("div",{className:"service-premium-grid",children:f.map(b=>o.jsxs("div",{className:"service-card-v2",style:{borderTop:`4px solid ${b.color||"var(--primary)"}`},children:[b.image_url&&o.jsx("div",{className:"service-card-img",style:{backgroundImage:`url(${b.image_url})`}}),o.jsxs("div",{className:"service-card-body",children:[o.jsxs("div",{className:"service-title-row",children:[o.jsx("h5",{children:b.nombre}),o.jsxs("span",{className:"price-tag",children:["$",b.precio_base.toLocaleString()]})]}),o.jsx("p",{className:"service-desc",children:b.descripcion||"Sin descripcin proporcionada."}),o.jsxs("div",{className:"service-meta",children:[o.jsxs("span",{children:[" ",b.duracion_minutos," min"]}),o.jsxs("span",{children:[" ",b.concurrency>1?`${b.concurrency} cupos`:"1 cupo"]})]}),o.jsxs("div",{className:"service-actions",children:[o.jsx("button",{className:"btn-edit-v2",onClick:()=>{W({nombre:b.nombre,precio_base:b.precio_base,duracion_minutos:b.duracion_minutos,concurrency:b.concurrency||1,color:b.color||"#3b82f6",image_url:b.image_url||"",descripcion:b.descripcion||""}),O(b)},children:" Editar"}),o.jsx("button",{className:"btn-delete-v2",onClick:async()=>{if(confirm("Eliminar este servicio del catlogo maestro? Esto lo quitar de todas las agendas.")){const{error:N}=await $.from("global_services").delete().eq("id",b.id);N||ie()}},children:""})]})]})]},b.id))})]})]});return o.jsxs("div",{className:"admin-panel-premium",children:[o.jsxs("div",{className:"admin-sidebar",children:[o.jsxs("div",{className:"sidebar-logo",children:[o.jsx("h2",{children:"CRM Admin"}),o.jsx("span",{children:"v2.1 Full Access"})]}),o.jsxs("nav",{children:[o.jsx("button",{className:g==="agendas"?"active":"",onClick:()=>m("agendas"),children:" Agendas"}),o.jsx("button",{className:g==="users"?"active":"",onClick:()=>m("users"),children:" Personal"}),o.jsx("button",{className:g==="bloqueos"?"active":"",onClick:()=>m("bloqueos"),children:" Bloqueos"}),o.jsx("button",{className:g==="alertas"?"active":"",onClick:()=>m("alertas"),children:" Alertas"}),(a==="superuser"||a==="admin")&&o.jsxs(o.Fragment,{children:[o.jsx("button",{className:g==="servicios"?"active":"",onClick:()=>m("servicios"),children:" Servicios"}),o.jsx("button",{className:g==="horarios"?"active":"",onClick:()=>m("horarios"),children:" Horarios"})]})]}),o.jsx("button",{className:"btn-back-sidebar",onClick:t,children:" Volver Agenda"})]}),o.jsxs("main",{className:"admin-content",children:[g==="agendas"&&Ls(),g==="users"&&wa(),g==="bloqueos"&&Pa(),g==="alertas"&&Oi(),g==="servicios"&&jr(),g==="horarios"&&ve()]}),C&&o.jsx("div",{className:"modal-overlay",children:o.jsxs("div",{className:"modal-content",style:{maxWidth:"500px"},children:[o.jsxs("h3",{children:["Horarios: ",C.service_name]}),o.jsx("p",{className:"text-muted",children:"Si no defines ningn horario, el servicio sigue el horario general de la agenda. Si agregas al menos uno, SOLO estar disponible en estos rangos."}),o.jsxs("form",{className:"premium-form-v",onSubmit:Tn,style:{marginTop:"15px"},children:[o.jsx("select",{name:"dia_semana",required:!0,children:["Lunes","Martes","Mircoles","Jueves","Viernes","Sbado","Domingo"].map((b,N)=>o.jsx("option",{value:N,children:b},N))}),o.jsxs("div",{style:{display:"flex",gap:"10px"},children:[o.jsx("input",{name:"hora_inicio",type:"time",required:!0}),o.jsx("input",{name:"hora_fin",type:"time",required:!0})]}),o.jsx("button",{type:"submit",className:"btn-process",children:"Aadir Rango"})]}),o.jsx("div",{className:"mini-list",style:{marginTop:"20px",maxHeight:"300px",overflowY:"auto"},children:qe.length===0?o.jsx("p",{className:"text-muted text-center",children:"Usa horario general"}):qe.map(b=>o.jsxs("div",{className:"mini-item-inline range-badge",children:[o.jsx("strong",{children:["Lun","Mar","Mi","Jue","Vie","Sb","Dom"][b.dia_semana]}),": ",b.hora_inicio," - ",b.hora_fin,o.jsx("button",{className:"btn-delete-tiny",onClick:async()=>{const{error:N}=await $.from("horarios_servicios").delete().eq("id",b.id);N||ea(C.agenda_id,C.service_id)},children:""})]},b.id))}),o.jsx("div",{className:"modal-actions",children:o.jsx("button",{className:"btn-secondary",onClick:()=>B(null),children:"Cerrar"})})]})}),U&&o.jsx("div",{className:"modal-overlay",children:o.jsxs("div",{className:"modal-content premium-modal",children:[o.jsxs("h3",{children:["Gestionar Agentes: ",U.name]}),o.jsx("p",{children:"Selecciona los agentes que tienen permiso para ver esta agenda."}),o.jsx("div",{className:"agent-list-scroll",children:s.filter(b=>b.role!=="superuser").map(b=>{var re,Ae;const N=(Ae=(re=n.find(Xt=>Xt.id===U.id))==null?void 0:re.users)==null?void 0:Ae.some(Xt=>Xt.id===b.id);return o.jsxs("div",{className:"agent-item-row",children:[o.jsxs("div",{className:"agent-info",children:[o.jsx("strong",{children:b.full_name}),o.jsxs("span",{children:["@",b.username]})]}),o.jsx("button",{className:N?"btn-delete":"btn-process",onClick:()=>R(b.id,U.id,N),children:N?"Quitar":"Asignar"})]},b.id)})}),o.jsx("div",{className:"modal-footer",children:o.jsx("button",{className:"btn-secondary",onClick:()=>Z(null),children:"Cerrar"})})]})}),M&&o.jsx("div",{className:"modal-overlay",children:o.jsxs("div",{className:"modal-content premium-modal",children:[o.jsx("h3",{children:M.id==="new"?"Nueva Agenda":"Editar Agenda"}),o.jsxs("form",{onSubmit:M.id==="new"?Pe:ue,className:"premium-form",children:[o.jsxs("div",{className:"form-group",children:[o.jsx("label",{children:"Nombre de la Agenda"}),o.jsx("input",{type:"text",value:M.id==="new"?Ke.name:L.name,onChange:b=>M.id==="new"?oe({...Ke,name:b.target.value}):Y({...L,name:b.target.value}),required:!0})]}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{children:"Descripcin"}),o.jsx("textarea",{value:M.id==="new"?Ke.description:L.description,onChange:b=>M.id==="new"?oe({...Ke,description:b.target.value}):Y({...L,description:b.target.value})})]}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{children:"Cupos Disponibles por Hora"}),o.jsx("input",{type:"number",value:M.id==="new"?Ke.slots_per_hour:L.slots_per_hour,onChange:b=>M.id==="new"?oe({...Ke,slots_per_hour:parseInt(b.target.value)}):Y({...L,slots_per_hour:parseInt(b.target.value)}),min:"1"})]}),o.jsxs("div",{className:"modal-footer",children:[o.jsx("button",{type:"button",className:"btn-secondary",onClick:()=>Q(null),children:"Cancelar"}),o.jsx("button",{type:"submit",className:"btn-process",children:M.id==="new"?"Crear Agenda":"Guardar Cambios"})]})]})]})}),he&&o.jsx("div",{className:"modal-overlay",children:o.jsxs("div",{className:"modal-content premium-modal",children:[o.jsx("h3",{children:"Crear Nuevo Usuario"}),o.jsxs("form",{onSubmit:Te,className:"premium-form",children:[o.jsxs("div",{className:"form-group",children:[o.jsx("label",{children:"Nombre Completo"}),o.jsx("input",{type:"text",value:ze.full_name,onChange:b=>Me({...ze,full_name:b.target.value}),required:!0,placeholder:"Ej: Juan Prez"})]}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{children:"Nombre de Usuario"}),o.jsx("input",{type:"text",value:ze.username,onChange:b=>Me({...ze,username:b.target.value}),required:!0,placeholder:"ej: juan_p"})]}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{children:"Contrasea"}),o.jsx("input",{type:"password",value:ze.password,onChange:b=>Me({...ze,password:b.target.value}),required:!0,placeholder:"Mnimo 6 caracteres"})]}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{children:"Rol del Usuario"}),o.jsxs("select",{value:ze.role,onChange:b=>Me({...ze,role:b.target.value}),children:[o.jsx("option",{value:"agent",children:"Agente (Acceso limitado)"}),o.jsx("option",{value:"admin",children:"Administrador (Gestin bsica)"}),o.jsx("option",{value:"superuser",children:"Superadmin (Acceso total)"})]})]}),o.jsxs("div",{className:"modal-footer",children:[o.jsx("button",{type:"button",className:"btn-secondary",onClick:()=>Ye(!1),children:"Cancelar"}),o.jsx("button",{type:"submit",className:"btn-process",children:"Crear Usuario"})]})]})]})}),ye&&o.jsx("div",{className:"modal-overlay",children:o.jsxs("div",{className:"modal-content premium-modal",children:[o.jsx("h3",{children:ye.id==="new"?"Nuevo Servicio Global":`Editar: ${ye.nombre}`}),o.jsxs("form",{onSubmit:async b=>{b.preventDefault();const N={...G,precio_base:parseFloat(G.precio_base),duracion_minutos:parseInt(G.duracion_minutos),concurrency:parseInt(G.concurrency),assign_to_agendas:ye.id==="new"?new FormData(b.target).getAll("assign_to").map(Number):[]},re=ye.id==="new"?"http://localhost:8000/global-services":`http://localhost:8000/global-services/${ye.id}`,Ae=ye.id==="new"?"POST":"PUT";(await fetch(re,{method:Ae,headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`},body:JSON.stringify(N)})).ok&&(O(null),ie())},className:"premium-form",children:[o.jsxs("div",{className:"form-group",children:[o.jsx("label",{children:"Nombre del Servicio"}),o.jsx("input",{type:"text",value:G.nombre,onChange:b=>W({...G,nombre:b.target.value}),required:!0,placeholder:"Ej: Sueroterapia Pack x3"})]}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{children:"Descripcin / Detalles"}),o.jsx("textarea",{value:G.descripcion,onChange:b=>W({...G,descripcion:b.target.value}),placeholder:"Describe los beneficios o el contenido del pack...",rows:"3"})]}),o.jsxs("div",{className:"form-row-three",children:[o.jsxs("div",{className:"form-group",children:[o.jsx("label",{children:"Precio Base $"}),o.jsx("input",{type:"number",value:G.precio_base,onChange:b=>W({...G,precio_base:b.target.value}),required:!0})]}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{children:"Duracin (min)"}),o.jsx("input",{type:"number",value:G.duracion_minutos,onChange:b=>W({...G,duracion_minutos:b.target.value}),required:!0})]}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{children:"Cupos Simult."}),o.jsx("input",{type:"number",value:G.concurrency,onChange:b=>W({...G,concurrency:b.target.value}),required:!0,min:"1"})]})]}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{children:"Imagen (Link URL)"}),o.jsx("input",{type:"url",value:G.image_url,onChange:b=>W({...G,image_url:b.target.value}),placeholder:"https://ejemplo.com/imagen.jpg"}),G.image_url&&o.jsx("div",{className:"img-preview-tiny",style:{backgroundImage:`url(${G.image_url})`}})]}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{children:"Color Distintivo"}),o.jsx("input",{type:"color",value:G.color,onChange:b=>W({...G,color:b.target.value})})]}),ye.id==="new"&&o.jsxs("div",{className:"assign-checkboxes-modal",children:[o.jsx("label",{children:"Asignar automticamente a:"}),o.jsxs("div",{className:"checkbox-scroll",children:[o.jsxs("label",{className:"checkbox-item",children:[o.jsx("input",{type:"checkbox",name:"assign_to",value:"-1"}),o.jsx("span",{children:" TODAS LAS AGENDAS"})]}),n.map(b=>o.jsxs("label",{className:"checkbox-item",children:[o.jsx("input",{type:"checkbox",name:"assign_to",value:b.id}),o.jsx("span",{children:b.name})]},b.id))]})]}),o.jsxs("div",{className:"modal-footer",children:[o.jsx("button",{type:"button",className:"btn-secondary",onClick:()=>O(null),children:"Cancelar"}),o.jsx("button",{type:"submit",className:"btn-process",children:ye.id==="new"?"Crear Servicio":"Guardar Cambios"})]})]})]})})]})},D_=({token:e})=>{const[t,a]=A.useState([]),[n,i]=A.useState(!1),[s,l]=A.useState(null),r=async()=>{i(!0);try{const y=new Date().toISOString().split("T")[0],{data:S,error:w}=await $.from("citas").select("*, agendas(name)").gte("fecha",y).neq("confirmacion","Cancelada").order("fecha",{ascending:!0});if(w)throw w;const g=(S||[]).map(m=>{var T;const p=new Date(m.fecha)-new Date(y),_=Math.floor(p/(1e3*60*60*24));return{...m,days_until:_,agenda_nombre:((T=m.agendas)==null?void 0:T.name)||"Sin Agenda"}});a(g)}catch(y){console.error(y),l("Error de conexin")}finally{i(!1)}};A.useEffect(()=>{r();const y=setInterval(r,3e4);return()=>clearInterval(y)},[]);const u=async y=>{if(window.confirm("Confirmar esta cita?"))try{const{error:S}=await $.from("citas").update({confirmacion:"Confirmada"}).eq("id",y);if(S)throw S;r()}catch{alert("Error al confirmar")}},c=(y,S,w,g)=>{const m=`Hola ${S}, te recordamos tu cita para el ${w} a las ${g}. Por favor confirma tu asistencia.`;window.open(`https://wa.me/57${y}?text=${encodeURIComponent(m)}`,"_blank")},d=t.filter(y=>y.days_until<=1&&y.confirmacion!=="Confirmada").sort((y,S)=>y.days_until-S.days_until),v=t.filter(y=>y.days_until>1&&y.days_until<=2&&y.confirmacion!=="Confirmada"),h=t.filter(y=>y.confirmacion==="Confirmada").sort((y,S)=>new Date(S.fecha)-new Date(y.fecha)),f=(y,S,w)=>o.jsxs("div",{className:`confirmation-card-pro ${w}`,children:[o.jsxs("div",{className:"card-pro-header",children:[o.jsxs("div",{children:[o.jsx("h4",{className:"pro-name",children:y.nombres_completos}),o.jsx("span",{className:"pro-badge service-badge",children:y.tipo_servicio})]}),o.jsx("div",{className:`status-indicator ${S}`})]}),o.jsxs("div",{className:"card-pro-body",children:[o.jsxs("div",{className:"info-row",children:[o.jsx("span",{className:"icon",children:""}),o.jsxs("span",{className:"info-text",children:[y.fecha," ",o.jsxs("small",{children:["(",y.days_until," das)"]})]})]}),o.jsxs("div",{className:"info-row",children:[o.jsx("span",{className:"icon",children:""}),o.jsx("span",{className:"info-text",children:y.hora})]}),o.jsxs("div",{className:"info-row",children:[o.jsx("span",{className:"icon",children:""}),o.jsx("span",{className:"info-text",children:y.celular})]}),o.jsxs("div",{className:"info-row small-agenda",children:[o.jsx("span",{className:"icon",children:""}),o.jsx("span",{children:y.agenda_nombre})]})]}),o.jsxs("div",{className:"card-pro-actions",children:[o.jsx("button",{className:"btn-pro-icon whatsapp",onClick:()=>c(y.celular,y.nombres_completos,y.fecha,y.hora),title:"Enviar WhatsApp",children:" WhatsApp"}),y.confirmacion!=="Confirmada"?o.jsx("button",{className:"btn-pro-action confirm",onClick:()=>u(y.id),children:" Confirmar"}):o.jsx("span",{className:"confirmed-check",children:" Confirmada"})]})]},y.id);return o.jsxs("div",{className:"confirmation-panel-container",children:[o.jsxs("h2",{className:"panel-title-pro",children:[o.jsx("span",{className:"emoji-title",children:""})," Centro de Confirmaciones"]}),o.jsx("p",{className:"panel-subtitle",children:"Gestiona la asistencia de tus clientes en tiempo real."}),o.jsxs("div",{className:"kanban-board-pro",children:[o.jsxs("div",{className:"kanban-column-pro urgent-col",children:[o.jsxs("div",{className:"column-header-pro",children:[o.jsxs("h3",{children:[" Urgente ",o.jsx("small",{children:"(1 da)"})]}),o.jsx("span",{className:"count-badge-pro urgent",children:d.length})]}),o.jsx("div",{className:"column-content-pro",children:d.length===0?o.jsx("div",{className:"empty-state-pro",children:" Todo al da"}):d.map(y=>f(y,"status-urgent","border-urgent"))})]}),o.jsxs("div",{className:"kanban-column-pro warning-col",children:[o.jsxs("div",{className:"column-header-pro",children:[o.jsxs("h3",{children:[" Prximas ",o.jsx("small",{children:"(2 das)"})]}),o.jsx("span",{className:"count-badge-pro warning",children:v.length})]}),o.jsx("div",{className:"column-content-pro",children:v.length===0?o.jsx("div",{className:"empty-state-pro",children:" Sin citas prximas"}):v.map(y=>f(y,"status-warning","border-warning"))})]}),o.jsxs("div",{className:"kanban-column-pro success-col",children:[o.jsxs("div",{className:"column-header-pro",children:[o.jsx("h3",{children:" Confirmadas"}),o.jsx("span",{className:"count-badge-pro success",children:h.length})]}),o.jsx("div",{className:"column-content-pro",children:h.length===0?o.jsx("div",{className:"empty-state-pro",children:" An sin confirmaciones"}):h.map(y=>f(y,"status-success","border-success"))})]})]})]})},Qv=e=>(A.useEffect(()=>{const t=$.channel("db-changes").on("postgres_changes",{event:"*",schema:"public",table:"citas"},a=>{console.log("Realtime change received:",a),e&&e({type:(a.eventType==="INSERT","REFRESH_CITAS"),data:a.new})}).subscribe();return()=>{$.removeChannel(t)}},[e]),{lastMessage:null,socket:null}),U_=({token:e})=>{const[t,a]=A.useState({total:0,count:0}),{lastMessage:n}=Qv(WS_URL),i=async()=>{try{const s=new Date,l=new Date(s.getFullYear(),s.getMonth(),1).toISOString().split("T")[0],{data:r,error:u}=await $.from("citas").select("tipo_servicio").eq("confirmacion","Confirmada").gte("fecha",l);if(u)throw u;let c=0;(r||[]).forEach(d=>{d.tipo_servicio&&d.tipo_servicio.toLowerCase().includes("sueroterapia")?c+=55e4:c+=15e4}),a({total:c,count:(r||[]).length})}catch(s){console.error("Error fetching sales:",s)}};return A.useEffect(()=>{i()},[]),A.useEffect(()=>{},[n]),o.jsxs("div",{className:"sales-counter",title:"Tus ventas confirmadas este mes",children:[o.jsx("div",{className:"sales-label",children:" Ventas Mes"}),o.jsxs("div",{className:"sales-amount",children:["$",t.total.toLocaleString("es-CO",{minimumFractionDigits:0})]}),t.count>0&&o.jsxs("div",{className:"sales-count-badge",children:["#",t.count]})]})},k_=({fields:e,newFieldName:t,setNewFieldName:a,addField:n,removeField:i})=>o.jsxs("div",{style:{marginBottom:"30px",padding:"20px",background:"var(--input-bg)",borderRadius:"16px",border:"1px solid var(--glass-border)"},children:[o.jsx("h4",{style:{marginBottom:"15px"},children:"Columnas a unificar:"}),o.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:"10px",marginBottom:"15px"},children:e.map(s=>o.jsxs("span",{style:{background:"var(--primary)",padding:"5px 12px",borderRadius:"20px",fontSize:"0.85rem",display:"flex",alignItems:"center",gap:"8px"},children:[s," ",o.jsx("button",{onClick:()=>i(s),style:{background:"none",border:"none",color:"white",cursor:"pointer",fontWeight:"bold"},children:""})]},s))}),o.jsxs("div",{style:{display:"flex",gap:"10px"},children:[o.jsx("input",{type:"text",placeholder:"Aadir columna (ej: correo, fono)",value:t,onChange:s=>a(s.target.value),style:{flex:1,padding:"8px 12px",background:"var(--input-bg)",border:"1px solid var(--glass-border)",borderRadius:"8px",color:"var(--text-main)"}}),o.jsx("button",{className:"btn-process",style:{padding:"8px 20px",fontSize:"0.9rem"},onClick:n,children:"+ Aadir"})]})]});function z_(){var ue;const[e,t]=A.useState(null),[a,n]=A.useState("crm"),[i,s]=A.useState(null),[l,r]=A.useState(!1),[u,c]=A.useState(null),[d,v]=A.useState(["nombre","fecha","servicios"]),[h,f]=A.useState(""),[y,S]=A.useState({}),[w,g]=A.useState({}),[m,p]=A.useState(!0),[_,T]=A.useState([]),[x,j]=A.useState(null),[D,U]=A.useState(""),[Z,M]=A.useState(null),[Q,he]=A.useState(1),[Ye,ye]=A.useState(null),[O,L]=A.useState(null),[Y,G]=A.useState(0),[W,Ke]=A.useState(null),[oe,ze]=A.useState(localStorage.getItem("theme")||"dark"),[Me,le]=A.useState(0);A.useEffect(()=>{const R=async()=>{try{const ee=new Date().toISOString().split("T")[0],H=new Date;H.setDate(H.getDate()+1);const z=H.toISOString().split("T")[0],{count:X,error:Te}=await $.from("citas").select("*",{count:"exact",head:!0}).neq("confirmacion","Confirmada").neq("confirmacion","Cancelada").gte("fecha",ee).lte("fecha",z);Te||le(X||0)}catch(ee){console.error(ee)}};R();const k=setInterval(R,6e4);return()=>clearInterval(k)},[]),A.useEffect(()=>{document.body.setAttribute("data-theme",oe),localStorage.setItem("theme",oe)},[oe]),Qv(R=>{switch(R.type){case"REFRESH_CITAS":case"REFRESH_BLOQUEOS":W&&R.agenda_id===W.id&&G(ee=>ee+1);break;case"REFRESH_USERS":localStorage.getItem("token")&&lt();break;case"REFRESH_AGENDAS":break;case"REFRESH_CRM":R.data&&j(R.data);break;case"REFRESH_ALERTAS":break;default:console.log("Evento no manejado:",R.type)}});const lt=async()=>{var k;const{data:{session:R}}=await $.auth.getSession();if(!R){t(null);return}try{const{data:ee,error:H}=await $.from("profiles").select(`
            *,
            agendas:agenda_users(
                agendas(*)
            )
        `).eq("id",R.user.id).single();if(H)throw H;const z={...ee,agendas:ee.agendas.map(X=>X.agendas)};t(z),((k=z.agendas)==null?void 0:k.length)>0&&Ke(X=>X||z.agendas[0])}catch(ee){console.error("Error al cargar perfil:",ee),t(null)}};A.useEffect(()=>{lt(),pt()},[]);const pt=async()=>{try{const{data:R,error:k}=await $.from("citas").select("*").eq("confirmacion","Pendiente");if(k)throw k;le(R.length)}catch(R){console.error(R)}},Ht={nombre:["paciente","nombre","cliente","usuario","nombre_completo","nombre_y_apellido"],fecha:["fecha","dia","fec","fecha_de_atencion","fecha_atencion"],servicios:["concepto","servicio","servicios","procedimiento","descripcion"],telefono:["tel","cel","telefono","celular","movil"],id:["id","cedula","documento","identificacion","nit"]},C=(R,k)=>R&&R.find(H=>{const z=H.toString().toLowerCase().trim();return(Ht[k.toLowerCase()]||[k.toLowerCase()]).some(Te=>z.includes(Te))})||"",B=()=>{const R=h.trim().toLowerCase().replace(/\s+/g,"_");R&&!d.includes(R)&&(v([...d,R]),f(""))},qe=R=>v(d.filter(k=>k!==R)),Ce=async()=>{r(!0);try{await fetch(`${API_URL}/clear`,{method:"POST"}),c(null),S({}),g({}),s(null)}catch{M("Error al limpiar archivos.")}finally{r(!1)}},ie=async(R=!1)=>{var k;if(!(!i||i.length===0)){r(!0),M(null);try{const ee=[],H=[],{read:z,utils:X}=await Zy(async()=>{const{read:Te,utils:ea}=await import("./xlsx-D_0l8YDs.js");return{read:Te,utils:ea}},[]);for(const Te of i){const ea=await Te.arrayBuffer(),Tn=z(ea),Ls=Tn.SheetNames[0],wa=Tn.Sheets[Ls],Pa=X.sheet_to_json(wa,{defval:""});Pa.length>0&&(H.push({filename:Te.name,columns:Object.keys(Pa[0])}),ee.push(...Pa))}c(H),he(2),j({data_preview:ee,columnas_reportadas:((k=H[0])==null?void 0:k.columns)||[]})}catch(ee){console.error(ee),M("Error leyendo archivos: "+ee.message)}finally{r(!1)}}},Be=async()=>{r(!0),M(null);try{const R=x.data_preview.map(H=>{const z={};return Object.keys(w).forEach(X=>{const Te=w[X];Te&&(z[Te]=H[X])}),{...z,agenda_id:W.id}}),{data:k,error:ee}=await $.from("citas").insert(R);if(ee)throw ee;alert(` ${R.length} citas cargadas exitosamente en la agenda ${W.name}`),he(1),j(null),s(null)}catch(R){console.error(R),M("Error subiendo datos a Supabase: "+R.message)}finally{r(!1)}},Pe=A.useMemo(()=>{if(!(x!=null&&x.data_preview))return[];if(!D)return x.data_preview;const R=D.toLowerCase();return x.data_preview.filter(k=>Object.values(k).some(ee=>ee.toString().toLowerCase().includes(R)))},[x,D]);if(!e)return o.jsx(N_,{onLoginSuccess:R=>{var k;t(R),((k=R.agendas)==null?void 0:k.length)>0&&Ke(R.agendas[0])}});const I=()=>{var R;return o.jsxs("div",{className:"card",children:[Q===1&&o.jsxs(o.Fragment,{children:[o.jsx(k_,{fields:d,newFieldName:h,setNewFieldName:f,addField:B,removeField:qe}),o.jsxs("div",{className:"upload-section",children:[o.jsx("input",{type:"file",multiple:!0,accept:".xlsx,.xls",onChange:k=>s(k.target.files),className:"custom-file-input"}),o.jsxs("div",{style:{display:"flex",gap:"10px",marginTop:"15px"},children:[o.jsx("button",{className:"btn-process",onClick:()=>ie(!1),disabled:l||!i,children:"Analizar"}),o.jsx("button",{className:"btn-process",style:{background:"#ef4444"},onClick:Ce,children:"Limpiar"})]})]})]}),Q===2&&u&&o.jsxs(o.Fragment,{children:[o.jsx("h3",{children:"Mapeo de columnas por archivo"}),u.map((k,ee)=>o.jsxs("div",{style:{marginBottom:"20px",padding:"15px",border:"1px solid var(--glass-border)",borderRadius:"8px"},children:[o.jsx("h4",{children:k.filename}),o.jsx("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"10px"},children:k.columns.map(H=>{const z=C(d,H);return o.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[o.jsx("span",{children:H}),o.jsxs("select",{value:w[H]||z||"",onChange:X=>g({...w,[H]:X.target.value}),className:"custom-file-input",style:{width:"50%"},children:[o.jsx("option",{value:"",children:"-- Ignorar --"}),d.map(X=>o.jsx("option",{value:X,children:X},X))]})]},H)})})]},ee)),o.jsxs("div",{style:{margin:"20px 0"},children:[o.jsxs("label",{style:{marginRight:"20px"},children:[o.jsx("input",{type:"checkbox",checked:m,onChange:k=>p(k.target.checked)})," Unificar archivos traslape"]}),o.jsxs("div",{style:{marginTop:"10px"},children:[o.jsx("strong",{children:"Deduplicar por:"}),o.jsx("div",{style:{display:"flex",gap:"10px",marginTop:"5px"},children:d.map(k=>o.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"5px"},children:[o.jsx("input",{type:"checkbox",checked:_.includes(k),onChange:ee=>{ee.target.checked?T([..._,k]):T(_.filter(H=>H!==k))}}),k]},k))})]})]}),o.jsx("button",{className:"btn-process",onClick:Be,disabled:l,children:"Procesar Archivos"})]}),Q===3&&x&&o.jsxs("div",{children:[o.jsx("input",{type:"text",placeholder:"Filtrar...",value:D,onChange:k=>U(k.target.value),className:"custom-file-input",style:{marginBottom:20}}),o.jsx("div",{className:"table-container",children:o.jsxs("table",{children:[o.jsx("thead",{children:o.jsx("tr",{children:(R=x.columnas_reportadas)==null?void 0:R.map(k=>o.jsx("th",{children:k},k))})}),o.jsx("tbody",{children:Pe.map((k,ee)=>{var H;return o.jsx("tr",{children:(H=x.columnas_reportadas)==null?void 0:H.map(z=>o.jsx("td",{children:k[z]},z))},ee)})})]})}),o.jsx("button",{className:"btn-process",onClick:()=>{he(1),s(null),j(null)},children:"Volver al inicio"})]})]})};return o.jsxs("div",{className:"container",children:[o.jsxs("header",{className:"header",style:{position:"relative"},children:[o.jsx("div",{style:{position:"absolute",top:10,left:20},children:o.jsx("button",{onClick:()=>ze(oe==="dark"?"light":"dark"),className:"btn-secondary",style:{padding:"5px",fontSize:"1.2rem",borderRadius:"50%",width:"40px",height:"40px",display:"flex",alignItems:"center",justifyContent:"center"},title:`Cambiar a modo ${oe==="dark"?"claro":"oscuro"}`,children:oe==="dark"?"":""})}),o.jsxs("div",{style:{position:"absolute",top:10,right:20,display:"flex",alignItems:"center",gap:"10px"},children:[a==="agenda"&&o.jsx(U_,{token:localStorage.getItem("token")}),o.jsxs("button",{className:"btn-logout",onClick:()=>{localStorage.removeItem("token"),t(null)},children:["Salir (",e.username,")"]})]}),o.jsx("h1",{children:"CRM Organizador"}),o.jsxs("div",{className:"nav-tabs",children:[o.jsx("div",{className:`nav-tab ${a==="crm"?"active":""}`,onClick:()=>n("crm"),children:"Procesador CRM"}),o.jsx("div",{className:`nav-tab ${a==="agenda"?"active":""}`,onClick:()=>n("agenda"),children:"Agenda Multi-Agente"}),o.jsxs("div",{className:`nav-tab ${a==="confirmaciones"?"active":""}`,onClick:()=>{n("confirmaciones"),le(0)},style:{position:"relative",display:"flex",alignItems:"center",gap:"8px"},children:["Confirmaciones",o.jsxs("div",{className:`bell-icon ${Me>0?"shaking":""}`,style:{fontSize:"1.2rem"},children:["",Me>0&&o.jsx("span",{className:"bell-badge",style:{top:-5,right:-5,width:16,height:16,fontSize:"0.65rem"},children:Me})]})]}),(e.role==="superuser"||e.role==="admin")&&o.jsx("div",{className:`nav-tab ${a==="admin"?"active":""}`,onClick:()=>n("admin"),children:"Panel Control"})]}),a==="agenda"&&((ue=e.agendas)==null?void 0:ue.length)>0&&o.jsxs("div",{className:"agenda-tabs-container",children:[o.jsx("span",{className:"tabs-label",children:"Agenda:"}),o.jsx("div",{className:"agenda-tabs",children:e.agendas.map(R=>o.jsx("button",{className:`agenda-tab-btn ${(W==null?void 0:W.id)===R.id?"active":""}`,onClick:()=>Ke(R),children:R.name},R.id))}),e.role==="superuser"&&o.jsx("span",{className:"superuser-badge",children:"(Superusuario)"})]})]}),o.jsxs("div",{style:{padding:"20px"},children:[a==="crm"&&o.jsx(I,{}),a==="confirmaciones"&&o.jsx(D_,{token:localStorage.getItem("token")}),a==="admin"&&e.role==="superuser"&&o.jsx(R_,{token:localStorage.getItem("token"),onBack:()=>n("agenda"),userRole:e.role}),a==="agenda"&&o.jsx("div",{className:"card",children:W?o.jsxs(o.Fragment,{children:[o.jsx(O_,{onDateSelect:R=>{L(null),ye(R)},agendaId:W.id,agendas:e.agendas,token:localStorage.getItem("token"),userRole:e.role,onEditCita:R=>{L(R);const[k,ee,H]=R.fecha.split("-").map(Number);ye(new Date(k,ee-1,H))}},`${Y}-${W.id}`),Ye&&o.jsx(C_,{selectedDate:Ye,initialData:O,currentUserName:e.full_name||e.username,agendaId:W.id,token:localStorage.getItem("token"),userRole:e.role,onCitaCreated:()=>{ye(null),L(null),G(R=>R+1)},onCancel:()=>{ye(null),L(null)}})]}):o.jsx("div",{style:{padding:"40px",textAlign:"center"},children:o.jsx("p",{children:"No tienes agendas asignadas. Contacta al Sper Administrador."})})})]})]})}Qy.createRoot(document.getElementById("root")).render(o.jsx(A.StrictMode,{children:o.jsx(z_,{})}));
