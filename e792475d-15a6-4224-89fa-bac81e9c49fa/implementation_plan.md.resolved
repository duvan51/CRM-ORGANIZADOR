# Plan: Unificación por Columnas Específicas

Este plan permite que el usuario elija exactamente qué columnas se usarán para detectar duplicados (ej: unificar solo por "ID" o por "Nombre" + "Fecha").

## Cambios Propuestos

### [Backend - ETL]
#### [MODIFY] [etl.py](file:///c:/Users/duvan/OneDrive/Escritorio/proyectos/CRM-ORGANIZADOR/backend/app/etl.py)
- **[procesar_archivos](file:///c:/Users/duvan/OneDrive/Escritorio/proyectos/CRM-ORGANIZADOR/backend/app/etl.py#71-188)**: Aceptar `dedup_cols: list`. Si se recibe, usar solo esas columnas en `df.drop_duplicates(subset=...)`.

### [Backend - API]
#### [MODIFY] [main.py](file:///c:/Users/duvan/OneDrive/Escritorio/proyectos/CRM-ORGANIZADOR/backend/app/main.py)
- **`/process`**: Recibir `dedup_cols` del frontend y pasarlo a la función de ETL.

### [Frontend - UI/UX]
#### [MODIFY] [App.jsx](file:///c:/Users/duvan/OneDrive/Escritorio/proyectos/CRM-ORGANIZADOR/frontend/src/App.jsx)
- **Selector de Columnas de Unificación**: En el Paso 2, si "Unificar datos" está activo, mostrar un listado de checkboxes con los campos definidos. El usuario marcará cuáles definen un "dato idéntico".
- **Estado Dinámico**: Sincronizar estas columnas con los campos añadidos/quitados.

## Plan de Verificación
1. **Deduplicación Simple**: Mapear "Nombre" y "ID". Seleccionar solo "ID" para unificar. Verificar que si hay dos "Juan" con el mismo "ID", solo quede uno.
2. **Deduplicación Compuesta**: Seleccionar "Nombre" + "Fecha". Verificar que solo unifique si ambos coinciden.
