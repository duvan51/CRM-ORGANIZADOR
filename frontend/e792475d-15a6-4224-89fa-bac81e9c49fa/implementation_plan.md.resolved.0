# Plan de Mejora del Backend

Este plan busca hacer que el proceso de carga y procesamiento de archivos sea más robusto y profesional.

## Cambios Propuestos

### [Backend - ETL]
Se realizarán ajustes en [app/etl.py](file:///c:/Users/duvan/OneDrive/Escritorio/proyectos/CRM-ORGANIZADOR/backend/app/etl.py) para mejorar la calidad de los datos y la tolerancia a errores.

#### [MODIFY] [etl.py](file:///c:/Users/duvan/OneDrive/Escritorio/proyectos/CRM-ORGANIZADOR/backend/app/etl.py)
- **Limpieza de "nan":** Cambiar la conversión a string para que los valores nulos se mantengan como vacíos o se eliminen las filas, en lugar de crear el texto `"nan"`.
- **Tolerancia a fallos:** En lugar de retornar un error inmediatamente al encontrar una hoja inválida, se acumularán los errores y se procesarán las hojas válidas.
- **Soporte de extensiones:** Cambiar `.glob("*.xlsx")` por una búsqueda que incluya `.xls`.
- **Try-Except:** Envolver la lectura de archivos en bloques try-except para manejar archivos corruptos.

### [Backend - API]
#### [MODIFY] [main.py](file:///c:/Users/duvan/OneDrive/Escritorio/proyectos/CRM-ORGANIZADOR/backend/app/main.py)
- Ajustar la respuesta para devolver tanto los registros exitosos como una lista de advertencias o errores encontrados durante el proceso.

## Plan de Verificación

### Pruebas Automatizadas
1. **Prueba de Carga:** Subir un archivo con una hoja válida y una inválida para verificar que la válida se procese.
2. **Prueba de Datos Nulos:** Subir un archivo con celdas vacías y verificar que no aparezca el texto `"nan"` en el CSV final.
3. **Prueba de Formato:** Subir un archivo `.xls` (si es posible) o verificar que la lógica lo detecte.
